window.slate=window.slate||{},window.theme=window.theme||{};var Ajaxinate=function t(e){this.settings=Object.assign({pagination:".AjaxinatePagination",method:"scroll",namespace:".Ajaxinate",container:".AjaxinateLoop",offset:0,callback:null},e||{}),this.addScrollListeners=this.addScrollListeners.bind(this),this.addClickListener=this.addClickListener.bind(this),this.checkIfPaginationInView=this.checkIfPaginationInView.bind(this),this.stopMultipleClicks=this.stopMultipleClicks.bind(this),this.destroy=this.destroy.bind(this),this.namespace=this.settings.namespace,this.containerElement=document.querySelector(this.settings.container),this.paginationElement=document.querySelector(this.settings.pagination),this.initialize()};function replaceUrlParam(t,e,i){var n=RegExp("("+e+"=).*?(&|$)"),r=t;return t.search(n)>=0?t.replace(n,"$1"+i+"$2"):r+(r.indexOf("?")>0?"&":"?")+e+"="+i}Ajaxinate.prototype.initialize=function t(){this.containerElement&&({click:this.addClickListener,scroll:this.addScrollListeners})[this.settings.method]()},Ajaxinate.prototype.addScrollListeners=function t(){this.paginationElement&&$(window).on("scroll"+this.namespace,this.checkIfPaginationInView).on("resize"+this.namespace,this.checkIfPaginationInView).on("orientationchange"+this.namespace,this.checkIfPaginationInView)},Ajaxinate.prototype.addClickListener=function t(){this.paginationElement&&(this.nextPageLinkElement=this.paginationElement.querySelector("a"),this.clickActive=!0,null!==this.nextPageLinkElement&&this.nextPageLinkElement.addEventListener("click",this.stopMultipleClicks))},Ajaxinate.prototype.stopMultipleClicks=function t(e){e.preventDefault(),this.clickActive&&(this.nextPageUrl=this.nextPageLinkElement.href,this.clickActive=!1,this.loadMore())},Ajaxinate.prototype.checkIfPaginationInView=function t(){var e=this.paginationElement.getBoundingClientRect().top-this.settings.offset,i=this.paginationElement.getBoundingClientRect().bottom+this.settings.offset;e<=window.innerHeight&&i>=0&&(this.nextPageLinkElement=this.paginationElement.querySelector("a"),this.removeScrollListener(),this.nextPageLinkElement&&(this.nextPageUrl=this.nextPageLinkElement.href,this.loadMore()))},Ajaxinate.prototype.loadMore=function t(){this.request=new XMLHttpRequest,this.request.onreadystatechange=(function t(){if(4===this.request.readyState&&200===this.request.status){var e=$(this.request.response).find(this.settings.container),i=$(this.request.response).find(this.settings.pagination);this.containerElement.insertAdjacentHTML("beforeend",e.html()),this.paginationElement.innerHTML=i.html(),this.settings.callback&&"function"==typeof this.settings.callback&&this.settings.callback(this.request.response),this.initialize()}}).bind(this),this.request.open("GET",this.nextPageUrl),this.request.send()},Ajaxinate.prototype.removeClickListener=function t(){this.nextPageLinkElement.addEventListener("click",this.stopMultipleClicks)},Ajaxinate.prototype.removeScrollListener=function t(){$(window).off("scroll"+this.namespace,this.checkIfPaginationInView).off("resize"+this.namespace,this.checkIfPaginationInView).off("orientationchange"+this.namespace,this.checkIfPaginationInView)},Ajaxinate.prototype.destroy=function t(){return({click:this.removeClickListener.bind(this),scroll:this.removeScrollListener.bind(this)})[this.settings.method](),this},PaloAlto.debounce=function(t,e,i){var n;return function(){var r=this,s=arguments,o=function(){n=null,i||t.apply(r,s)},a=i&&!n;clearTimeout(n),n=setTimeout(o,e),a&&t.apply(r,s)}},/*!
 * Flickity PACKAGED v2.3.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2021 Metafizzy
 */ function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function t(e,i){"use strict";var n=Array.prototype.slice,r=e.console,s=void 0===r?function(){}:function(t){r.error(t)};function o(t,r,o){(o=o||i||e.jQuery)&&(r.prototype.option||(r.prototype.option=function(t){o.isPlainObject(t)&&(this.options=o.extend(!0,this.options,t))}),o.fn[t]=function(e){if("string"==typeof e){var i,a,l,c,d,u=n.call(arguments,1);return i=this,a=e,l=u,d="$()."+t+'("'+a+'")',i.each(function(e,i){var n=o.data(i,t);if(!n){s(t+" not initialized. Cannot call methods, i.e. "+d);return}var r=n[a];if(!r||"_"==a.charAt(0)){s(d+" is not a valid method");return}var u=r.apply(n,l);c=void 0===c?u:c}),void 0!==c?c:i}return function e(i,n){i.each(function(e,i){var s=o.data(i,t);s?(s.option(n),s._init()):(s=new r(i,n),o.data(i,t,s))})}(this,e),this},a(o))}function a(t){t&&(!t||!t.bridget)&&(t.bridget=o)}return a(i||e.jQuery),o}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return -1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return -1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],r=0;r<i.length;r++){var s=i[r];n&&n[s]&&(this.off(t,s),delete n[s]),s.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */ function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function t(){"use strict";function e(t){var e=parseFloat(t);return -1==t.indexOf("%")&&!isNaN(e)&&e}var i,n="undefined"==typeof console?function t(){}:function(t){console.error(t)},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],s=r.length;function o(t){var e=getComputedStyle(t);return e||n("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var a=!1;function l(t){if(function t(){if(!a){a=!0;var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style.boxSizing="border-box";var r=document.body||document.documentElement;r.appendChild(n);var s=o(n);i=200==Math.round(e(s.width)),l.isBoxSizeOuter=i,r.removeChild(n)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var n=o(t);if("none"==n.display)return function t(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},i=0;i<s;i++)e[r[i]]=0;return e}();var c={};c.width=t.offsetWidth,c.height=t.offsetHeight;for(var d=c.isBorderBox="border-box"==n.boxSizing,u=0;u<s;u++){var h=r[u],p=parseFloat(n[h]);c[h]=isNaN(p)?0:p}var f=c.paddingLeft+c.paddingRight,m=c.paddingTop+c.paddingBottom,g=c.marginLeft+c.marginRight,v=c.marginTop+c.marginBottom,y=c.borderLeftWidth+c.borderRightWidth,b=c.borderTopWidth+c.borderBottomWidth,S=d&&i,w=e(n.width);!1!==w&&(c.width=w+(S?0:f+y));var E=e(n.height);return!1!==E&&(c.height=E+(S?0:m+b)),c.innerWidth=c.width-(f+y),c.innerHeight=c.height-(m+b),c.outerWidth=c.width+g,c.outerHeight=c.height+v,c}}return l}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function t(){"use strict";var e=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function t(i,n){return i[e](n)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function t(e,i){var n={};n.extend=function(t,e){for(var i in e)t[i]=e[i];return t},n.modulo=function(t,e){return(t%e+e)%e};var r=Array.prototype.slice;n.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?r.call(t):[t]},n.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},n.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(i(t=t.parentNode,e))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,e){t=n.makeArray(t);var r=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!e){r.push(t);return}i(t,e)&&r.push(t);for(var n=t.querySelectorAll(e),s=0;s<n.length;s++)r.push(n[s])}}),r},n.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){clearTimeout(this[r]);var t=arguments,e=this;this[r]=setTimeout(function(){n.apply(e,t),delete e[r]},i)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var s=e.console;return n.htmlInit=function(t,i){n.docReady(function(){var r=n.toDashed(i),o="data-"+r,a=document.querySelectorAll("["+o+"]"),l=document.querySelectorAll(".js-"+r),c=n.makeArray(a).concat(n.makeArray(l)),d=o+"-options",u=e.jQuery;c.forEach(function(e){var n,r=e.getAttribute(o)||e.getAttribute(d);try{n=r&&JSON.parse(r)}catch(a){s&&s.error("Error parsing "+o+" on "+e.className+": "+a);return}var l=new t(e,n);u&&u.data(e,i,l)})})},n}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("get-size")):(t.Flickity=t.Flickity||{},t.Flickity.Cell=e(t,t.getSize))}(window,function t(e,i){function n(t,e){this.element=t,this.parent=e,this.create()}var r=n.prototype;return r.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},r.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},r.getSize=function(){this.size=i(this.element)},r.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},r.updateTarget=r.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},r.renderPosition=function(t){var e="left"===this.parent.originSide?1:-1,i=this.parent.options.percentPosition?t*e*(this.parent.size.innerWidth/this.size.width):t*e;this.element.style.transform="translateX("+this.parent.getPositionValue(i)+")"},r.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},r.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},r.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},r.remove=function(){this.element.parentNode.removeChild(this.element)},n}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.Flickity=t.Flickity||{},t.Flickity.Slide=e())}(window,function t(){"use strict";function e(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var i=e.prototype;return i.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},i.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},i.getLastCell=function(){return this.cells[this.cells.length-1]},i.select=function(){this.cells.forEach(function(t){t.select()})},i.unselect=function(){this.cells.forEach(function(t){t.unselect()})},i.getCellElements=function(){return this.cells.map(function(t){return t.element})},e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("fizzy-ui-utils")):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=e(t,t.fizzyUIUtils))}(window,function t(e,i){var n={};return n.startAnimation=function(){!this.isAnimating&&(this.isAnimating=!0,this.restingFrames=0,this.animate())},n.animate=function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame(function t(){e.animate()})}},n.positionSlider=function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=i.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},n.setTranslateX=function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},n.dispatchScrollEvent=function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},n.positionSliderAtSelected=function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},n.getPositionValue=function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},n.settle=function(t){!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t)&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},n.shiftWrapCells=function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},n._shiftCells=function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n],s=e>0?i:0;r.wrapShift(s),e-=r.size.outerWidth}},n._unshiftCells=function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},n.integratePhysics=function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},n.applyForce=function(t){this.velocity+=t},n.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},n.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},n.applyDragForce=function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x-this.velocity;this.applyForce(t)}},n.applySelectedAttraction=function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(t)}},n}),function(t,e){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(i,n,r,s,o,a){return e(t,i,n,r,s,o,a)});else if("object"==typeof module&&module.exports)module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var i=t.Flickity;t.Flickity=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,i.Cell,i.Slide,i.animatePrototype)}}(window,function t(e,i,n,r,s,o,a){var l=e.jQuery,c=e.getComputedStyle,d=e.console;function u(t,e){for(t=r.makeArray(t);t.length;)e.appendChild(t.shift())}var h=0,p={};function f(t,e){var i=r.getQueryElement(t);if(!i){d&&d.error("Bad element for Flickity: "+(i||t));return}if(this.element=i,this.element.flickityGUID){var n=p[this.element.flickityGUID];return n&&n.option(e),n}l&&(this.$element=l(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e),this._create()}f.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},f.createMethods=[];var m=f.prototype;r.extend(m,i.prototype),m._create=function(){var t=this.guid=++h;for(var i in this.element.flickityGUID=t,p[t]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&e.addEventListener("resize",this),this.options.on){var n=this.options.on[i];this.on(i,n)}f.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},m.option=function(t){r.extend(this.options,t)},m.activate=function(){!this.isActive&&(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),u(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},m._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},m._filterFindCellElements=function(t){return r.filterFindElements(t,this.options.cellSelector)},m.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},m._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new s(t,this)},this)},m.getLastCell=function(){return this.cells[this.cells.length-1]},m.getLastSlide=function(){return this.slides[this.slides.length-1]},m.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},m._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,r=t;r<n;r++){var s=this.cells[r];s.setPosition(e),e+=s.size.outerWidth,this.maxCellHeight=Math.max(s.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},m._sizeCells=function(t){t.forEach(function(t){t.getSize()})},m.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new o(this);this.slides.push(t);var e="left"==this.originSide?"marginRight":"marginLeft",i=this._getCanCellFit();this.cells.forEach(function(n,r){if(!t.cells.length){t.addCell(n);return}var s=t.outerWidth-t.firstMargin+(n.size.outerWidth-n.size[e]);i.call(this,r,s)||(t.updateTarget(),t=new o(this),this.slides.push(t)),t.addCell(n)},this),t.updateTarget(),this.updateSelectedSlide()}},m._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},m._init=m.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},m.getSize=function(){this.size=n(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var g={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return m.setCellAlign=function(){var t=g[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},m.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},m._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},m._getGapCells=function(t,e,i){for(var n=[];t>0;){var r=this.cells[e];if(!r)break;n.push(r),e+=i,t-=r.size.outerWidth}return n},m._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=this.slideableWidth-this.getLastCell().size[t?"marginLeft":"marginRight"],i=e<this.size.innerWidth,n=this.cursorPosition+this.cells[0].size[t?"marginRight":"marginLeft"],r=e-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){i?t.target=e*this.cellAlign:(t.target=Math.max(t.target,n),t.target=Math.min(t.target,r))},this)}},m.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),l&&this.$element){var r=t+=this.options.namespaceJQueryEvents?".flickity":"";if(e){var s=new l.Event(e);s.type=t,r=s}this.$element.trigger(r,i)}},m.select=function(t,e,i){if(this.isActive){if(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=r.modulo(t,this.slides.length)),this.slides[t]){var n=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=n&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}}},m._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&e>1))return t;var i=r.modulo(t,e),n=Math.abs(i-this.selectedIndex),s=Math.abs(i+e-this.selectedIndex),o=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&s<n?t+=e:!this.isDragSelect&&o<n&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},m.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},m.next=function(t,e){this.select(this.selectedIndex+1,t,e)},m.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},m.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},m.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated){this.select(this.selectedIndex,!1,!0);return}if(t&&"string"==typeof t&&this.queryCell(t)){this.selectCell(t,!1,!0);return}var e=0;t&&this.slides[t]&&(e=t),this.select(e,!1,!0)},m.selectCell=function(t,e,i){var n=this.queryCell(t);if(n){var r=this.getCellSlideIndex(n);this.select(r,e,i)}},m.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++)if(-1!=this.slides[e].cells.indexOf(t))return e},m.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},m.getCells=function(t){t=r.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getCell(t);i&&e.push(i)},this),e},m.getCellElements=function(){return this.cells.map(function(t){return t.element})},m.getParentCell=function(t){var e=this.getCell(t);return e||(t=r.getParent(t,".flickity-slider > *"),this.getCell(t))},m.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var n=[],s=e-t;s<=e+t;s++){var o=this.options.wrapAround?r.modulo(s,i):s,a=this.slides[o];a&&(n=n.concat(a.getCellElements()))}return n},m.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},m.uiChange=function(){this.emitEvent("uiChange")},m.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},m.onresize=function(){this.watchCSS(),this.resize()},r.debounceMethod(f,"onresize",150),m.resize=function(){if(this.isActive&&!this.isAnimating&&!this.isDragging){this.getSize(),this.options.wrapAround&&(this.x=r.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},m.watchCSS=function(){this.options.watchCSS&&(-1!=c(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},m.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=f.keyboardHandlers[t.keyCode];i&&i.call(this)}},f.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},m.focus=function(){var t=e.pageYOffset;this.element.focus({preventScroll:!0}),e.pageYOffset!=t&&e.scrollTo(e.pageXOffset,t)},m.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){t.destroy()}),this.element.removeChild(this.viewport),u(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},m.destroy=function(){this.deactivate(),e.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),l&&this.$element&&l.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete p[this.guid]},r.extend(m,a),f.data=function(t){var e=(t=r.getQueryElement(t))&&t.flickityGUID;return e&&p[e]},r.htmlInit(f,"flickity"),l&&l.bridget&&l.bridget("flickity",f),f.setJQuery=function(t){l=t},f.Cell=s,f.Slide=o,f}),/*!
 * Unipointer v2.4.0
 * base class for doing one thing with pointer event
 * MIT license
 */ function(t,e){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.Unipointer=e(t,t.EvEmitter)}(window,function t(e,i){function n(){}var r=n.prototype=Object.create(i.prototype);r.bindStartEvent=function(t){this._bindStartEvent(t,!0)},r.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},r._bindStartEvent=function(t,i){var n=(i=void 0===i||i)?"addEventListener":"removeEventListener",r="mousedown";"ontouchstart"in e?r="touchstart":e.PointerEvent&&(r="pointerdown"),t[n](r,this)},r.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},r.onmousedown=function(t){var e=t.button;(!e||0===e||1===e)&&this._pointerDown(t,t)},r.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},r.onpointerdown=function(t){this._pointerDown(t,t)},r._pointerDown=function(t,e){!t.button&&!this.isPointerDown&&(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},r.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var s={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return r._bindPostStartEvents=function(t){if(t){var i=s[t.type];i.forEach(function(t){e.addEventListener(t,this)},this),this._boundPointerEvents=i}},r._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){e.removeEventListener(t,this)},this),delete this._boundPointerEvents)},r.onmousemove=function(t){this._pointerMove(t,t)},r.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},r.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},r._pointerMove=function(t,e){this.pointerMove(t,e)},r.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},r.onmouseup=function(t){this._pointerUp(t,t)},r.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},r.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},r._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},r.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},r._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},r._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},r.pointerDone=function t(){},r.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},r.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},r._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},r.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},n.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},n}),/*!
 * Unidragger v2.4.0
 * Draggable base class
 * MIT license
 */ function(t,e){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("unipointer")):t.Unidragger=e(t,t.Unipointer)}(window,function t(e,i){function n(){}var r=n.prototype=Object.create(i.prototype);r.bindHandles=function(){this._bindHandles(!0)},r.unbindHandles=function(){this._bindHandles(!1)},r._bindHandles=function(t){for(var i=(t=void 0===t||t)?"addEventListener":"removeEventListener",n=t?this._touchActionValue:"",r=0;r<this.handles.length;r++){var s=this.handles[r];this._bindStartEvent(s,t),s[i]("click",this),e.PointerEvent&&(s.style.touchAction=n)}},r._touchActionValue="none",r.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var s={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return r.okayPointerDown=function(t){var e=s[t.target.nodeName],i=o[t.target.type],n=!e||i;return n||this._pointerReset(),n},r.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},r.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},r._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},r.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},r.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},r._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},r._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},r.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},r._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},r.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},r._dragEnd=function(t,e){this.isDragging=!1,setTimeout((function(){delete this.isPreventingClicks}).bind(this)),this.dragEnd(t,e)},r.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},r.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},r._staticClick=function(t,e){(!this.isIgnoringMouseUp||"mouseup"!=t.type)&&(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout((function(){delete this.isIgnoringMouseUp}).bind(this),400)))},r.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},n.getPointerPoint=i.getPointerPoint,n}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(i,n,r){return e(t,i,n,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):t.Flickity=e(t,t.Flickity,t.Unidragger,t.fizzyUIUtils)}(window,function t(e,i,n,r){r.extend(i.defaults,{draggable:">1",dragThreshold:3}),i.createMethods.push("_createDrag");var s=i.prototype;r.extend(s,n.prototype),s._touchActionValue="pan-y",s._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},s.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},s.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},s.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},s.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},s.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},s._uiChangeDrag=function(){delete this.isFreeScrolling},s.pointerDown=function(t,i){if(!this.isDraggable){this._pointerDownDefault(t,i);return}this.okayPointerDown(t)&&(this._pointerDownPreventDefault(t),this.pointerDownFocus(t),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=a(),e.addEventListener("scroll",this),this._pointerDownDefault(t,i))},s._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var o={INPUT:!0,TEXTAREA:!0,SELECT:!0};function a(){return{x:e.pageXOffset,y:e.pageYOffset}}return s.pointerDownFocus=function(t){o[t.target.nodeName]||this.focus()},s._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=o[t.target.nodeName];e||i||n||t.preventDefault()},s.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},s.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},s.pointerDone=function(){e.removeEventListener("scroll",this),delete this.pointerDownScroll},s.dragStart=function(t,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),e.removeEventListener("scroll",this),this.dispatchEvent("dragStart",t,[i]))},s.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},s.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var r=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var s=Math.max(-this.slides[0].target,this.dragStartPosition);r=r>s?(r+s)*.5:r;var o=Math.min(-this.getLastSlide().target,this.dragStartPosition);r=r<o?(r+o)*.5:r}this.dragX=r,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},s.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},s.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1);return i.distance<n.distance?i.index:n.index},s._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,r=1/0,s=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};s(e,r)&&(n+=i,r=e,null!==(e=this.getSlideDistance(-t,n)));)e=Math.abs(e);return{distance:r,index:n-i}},s.getSlideDistance=function(t,e){var i=this.slides.length,n=this.options.wrapAround&&i>1,s=n?r.modulo(e,i):e,o=this.slides[s];if(!o)return null;var a=n?this.slideableWidth*Math.floor(e/i):0;return t-(o.target+a)},s.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},s.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,r=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,r])},s.onscroll=function(){var t=a(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(i,n,r){return e(t,i,n,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):e(t,t.Flickity,t.Unipointer,t.fizzyUIUtils)}(window,function t(e,i,n,r){"use strict";var s="http://www.w3.org/2000/svg";function o(t,e){this.direction=t,this.parent=e,this._create()}o.prototype=Object.create(n.prototype),o.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var t,e=document.createElementNS(s,"svg");e.setAttribute("class","flickity-button-icon"),e.setAttribute("viewBox","0 0 100 100");var i=document.createElementNS(s,"path"),n=(t=this.parent.options.arrowShape,"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z");return i.setAttribute("d",n),i.setAttribute("class","arrow"),this.isLeft||i.setAttribute("transform","translate(100, 100) rotate(180) "),e.appendChild(i),e},o.prototype.handleEvent=r.handleEvent,o.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},o.prototype.enable=function(){!this.isEnabled&&(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1){this.enable();return}var e=t.length?t.length-1:0,i=this.isPrevious?0:e;this[this.parent.selectedIndex==i?"disable":"enable"]()},o.prototype.destroy=function(){this.deactivate(),this.allOff()},r.extend(i.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),i.createMethods.push("_createPrevNextButtons");var a=i.prototype;return a._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},a.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},a.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},i.PrevNextButton=o,i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(i,n,r){return e(t,i,n,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):e(t,t.Flickity,t.Unipointer,t.fizzyUIUtils)}(window,function t(e,i,n,r){function s(t){this.parent=t,this._create()}s.prototype=Object.create(n.prototype),s.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},s.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,r=n+t,s=n;s<r;s++){var o=document.createElement("li");o.className="dot",o.setAttribute("aria-label","Page dot "+(s+1)),e.appendChild(o),i.push(o)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},s.prototype.onTap=s.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},s.prototype.destroy=function(){this.deactivate(),this.allOff()},i.PageDots=s,r.extend(i.defaults,{pageDots:!0}),i.createMethods.push("_createPageDots");var o=i.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},i.PageDots=s,i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(t,i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):e(t.EvEmitter,t.fizzyUIUtils,t.Flickity)}(window,function t(e,i,n){function r(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}r.prototype=Object.create(e.prototype),r.prototype.play=function(){if("playing"!=this.state){if(document.hidden){document.addEventListener("visibilitychange",this.onVisibilityPlay);return}this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()}},r.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},r.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},r.prototype.clear=function(){clearTimeout(this.timeout)},r.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},r.prototype.unpause=function(){"paused"==this.state&&this.play()},r.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},r.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},i.extend(n.defaults,{pauseAutoPlayOnHover:!0}),n.createMethods.push("_createPlayer");var s=n.prototype;return s._createPlayer=function(){this.player=new r(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},s.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},s.playPlayer=function(){this.player.play()},s.stopPlayer=function(){this.player.stop()},s.pausePlayer=function(){this.player.pause()},s.unpausePlayer=function(){this.player.unpause()},s.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},s.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},s.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},n.Player=r,n}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("fizzy-ui-utils")):e(t,t.Flickity,t.fizzyUIUtils)}(window,function t(e,i,n){var r=i.prototype;return r.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var n,r,s=this.cells.length;e=void 0===e?s:e;var o=(n=i,r=document.createDocumentFragment(),n.forEach(function(t){r.appendChild(t.element)}),r),a=e==s;if(a)this.slider.appendChild(o);else{var l=this.cells[e].element;this.slider.insertBefore(o,l)}if(0===e)this.cells=i.concat(this.cells);else if(a)this.cells=this.cells.concat(i);else{var c=this.cells.splice(e,s-e);this.cells=this.cells.concat(i).concat(c)}this._sizeCells(i),this.cellChange(e,!0)}},r.append=function(t){this.insert(t,this.cells.length)},r.prepend=function(t){this.insert(t,0)},r.remove=function(t){var e=this.getCells(t);if(e&&e.length){var i=this.cells.length-1;e.forEach(function(t){t.remove(),i=Math.min(this.cells.indexOf(t),i),n.removeFrom(this.cells,t)},this),this.cellChange(i,!0)}},r.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},r.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("fizzy-ui-utils")):e(t,t.Flickity,t.fizzyUIUtils)}(window,function t(e,i,n){"use strict";i.createMethods.push("_createLazyload");var r=i.prototype;function s(t,e){this.img=t,this.flickity=e,this.load()}return r._createLazyload=function(){this.on("select",this.lazyLoad)},r.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e=this.getAdjacentCellElements("number"==typeof t?t:0),i=[];e.forEach(function(t){var e=function t(e){if("IMG"==e.nodeName){var i=e.getAttribute("data-flickity-lazyload"),r=e.getAttribute("data-flickity-lazyload-src"),s=e.getAttribute("data-flickity-lazyload-srcset");if(i||r||s)return[e]}var o=e.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return n.makeArray(o)}(t);i=i.concat(e)}),i.forEach(function(t){new s(t,this)},this)}},s.prototype.handleEvent=n.handleEvent,s.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},s.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},s.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},s.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},i.LazyLoader=s,i}),/*!
 * Flickity v2.3.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2021 Metafizzy
 */ function(t,e){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function t(e){return e}),/*!
 * Flickity asNavFor v2.0.2
 * enable asNavFor for Flickity
 */ function(t,e){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t.Flickity,t.fizzyUIUtils)}(window,function t(e,i){e.createMethods.push("_createAsNavFor");var n=e.prototype;function r(t,e,i){return(e-t)*i+t}return n._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t=this.options.asNavFor;if(t){var e=this;setTimeout(function i(){e.setNavCompanion(t)})}},n.setNavCompanion=function(t){t=i.getQueryElement(t);var n=e.data(t);if(n&&n!=this){this.navCompanion=n;var r=this;this.onNavCompanionSelect=function(){r.navCompanionSelect()},n.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},n.navCompanionSelect=function(t){var e=this.navCompanion&&this.navCompanion.selectedCells;if(e){var i,n,r,s=e[0],o=this.navCompanion.cells.indexOf(s),a=o+e.length-1,l=Math.floor((i=o,n=a,r=this.navCompanion.cellAlign,(n-i)*r+i));if(this.selectCell(l,!1,t),this.removeNavSelectedElements(),!(l>=this.cells.length)){var c=this.cells.slice(o,a+1);this.navSelectedElements=c.map(function(t){return t.element}),this.changeNavSelectedClass("add")}}},n.changeNavSelectedClass=function(t){this.navSelectedElements.forEach(function(e){e.classList[t]("is-nav-selected")})},n.activateAsNavFor=function(){this.navCompanionSelect(!0)},n.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},n.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.selectCell(n)},n.deactivateAsNavFor=function(){this.removeNavSelectedElements()},n.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},e}),/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */ function(t,e){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function t(e,i){var n=e.jQuery,r=e.console;function s(t,e){for(var i in e)t[i]=e[i];return t}var o=Array.prototype.slice;function a(t,e,i){if(!(this instanceof a))return new a(t,e,i);var l,c=t;if("string"==typeof t&&(c=document.querySelectorAll(t)),!c){r.error("Bad element for imagesLoaded "+(c||t));return}this.elements=(l=c,Array.isArray(l)?l:"object"==typeof l&&"number"==typeof l.length?o.call(l):[l]),this.options=s({},this.options),"function"==typeof e?i=e:s(this.options,e),i&&this.on("always",i),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(i.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var r=i[n];this.addImage(r)}if("string"==typeof this.options.background){var s=t.querySelectorAll(this.options.background);for(n=0;n<s.length;n++){var o=s[n];this.addElementBackgroundImages(o)}}}};var l={1:!0,9:!0,11:!0};function c(t){this.img=t}function d(t,e){this.url=t,this.element=e,this.img=new Image}return a.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var r=n&&n[2];r&&this.addBackground(r,t),n=i.exec(e.backgroundImage)}},a.prototype.addImage=function(t){var e=new c(t);this.images.push(e)},a.prototype.addBackground=function(t,e){var i=new d(t,e);this.images.push(i)},a.prototype.check=function(){var t=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}function e(e,i,n){setTimeout(function(){t.progress(e,i,n)})}this.images.forEach(function(t){t.once("progress",e),t.check()})},a.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: "+i,t,e)},a.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},c.prototype=Object.create(i.prototype),c.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(0!==this.img.naturalWidth,"naturalWidth");return}this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},c.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype=Object.create(c.prototype),d.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},d.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},a.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(t,e){return new a(this,t,e).jqDeferred.promise(n(this))})},a.makeJQueryPlugin(),a}),/*!
 * Flickity imagesLoaded v2.0.0
 * enables imagesLoaded option for Flickity
 */ function(t,e){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("flickity"),require("imagesloaded")):t.Flickity=e(t,t.Flickity,t.imagesLoaded)}(window,function t(e,i,n){"use strict";i.createMethods.push("_createImagesLoaded");var r=i.prototype;return r._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},r.imagesLoaded=function(){if(this.options.imagesLoaded){var t=this;n(this.slider).on("progress",function e(i,n){var r=t.getParentCell(n.img);t.cellSizeChange(r&&r.element),t.options.freeScroll||t.positionSliderAtSelected()})}},i}),function(t,e){"function"==typeof define&&define.amd?define(["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t.Flickity,t.fizzyUIUtils)}(window,function t(e,i){return e.createMethods.push("_createSync"),e.prototype._createSync=function(){this.syncers={};var t=this.options.sync;if(this.on("destroy",this.unsyncAll),t){var e=this;setTimeout(function i(){e.sync(t)})}},e.prototype.sync=function(t){t=i.getQueryElement(t);var n=e.data(t);n&&(this._syncCompanion(n),n._syncCompanion(this))},e.prototype._syncCompanion=function(t){var e=this;function i(){var i=e.selectedIndex;t.selectedIndex!=i&&t.select(i)}this.on("select",i),this.syncers[t.guid]={flickity:t,listener:i}},e.prototype.unsync=function(t){t=i.getQueryElement(t);var n=e.data(t);this._unsync(n)},e.prototype._unsync=function(t){t&&(this._unsyncCompanion(t),t._unsyncCompanion(this))},e.prototype._unsyncCompanion=function(t){var e=t.guid,i=this.syncers[e];this.off("select",i.listener),delete this.syncers[e]},e.prototype.unsyncAll=function(){for(var t in this.syncers){var e=this.syncers[t];this._unsync(e.flickity)}},e}),function(t,e){"function"==typeof define&&define.amd?define(["flickity/js/index","fizzy-ui-utils/utils",],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):e(t.Flickity,t.fizzyUIUtils)}(this,function t(e,i){var n=e.Slide,r=n.prototype.updateTarget;n.prototype.updateTarget=function(){if(r.apply(this,arguments),this.parent.options.fade){var t=this.target-this.x,e=this.cells[0].x;this.cells.forEach(function(i){var n=i.x-e-t;i.renderPosition(n)})}},n.prototype.setOpacity=function(t){this.cells.forEach(function(e){e.element.style.opacity=t})};var s=e.prototype;e.createMethods.push("_createFade"),s._createFade=function(){this.fadeIndex=this.selectedIndex,this.prevSelectedIndex=this.selectedIndex,this.on("select",this.onSelectFade),this.on("dragEnd",this.onDragEndFade),this.on("settle",this.onSettleFade),this.on("activate",this.onActivateFade),this.on("deactivate",this.onDeactivateFade)};var o=s.updateSlides;s.updateSlides=function(){o.apply(this,arguments),this.options.fade&&this.slides.forEach(function(t,e){var i=e==this.selectedIndex?1:0;t.setOpacity(i)},this)},s.onSelectFade=function(){this.fadeIndex=Math.min(this.prevSelectedIndex,this.slides.length-1),this.prevSelectedIndex=this.selectedIndex},s.onSettleFade=function(){delete this.didDragEnd,this.options.fade&&(this.selectedSlide.setOpacity(1),this.slides[this.fadeIndex]&&this.fadeIndex!=this.selectedIndex&&this.slides[this.fadeIndex].setOpacity(0))},s.onDragEndFade=function(){this.didDragEnd=!0},s.onActivateFade=function(){this.options.fade&&this.element.classList.add("is-fade")},s.onDeactivateFade=function(){this.options.fade&&(this.element.classList.remove("is-fade"),this.slides.forEach(function(t){t.setOpacity("")}))};var a=s.positionSlider;s.positionSlider=function(){if(!this.options.fade){a.apply(this,arguments);return}this.fadeSlides(),this.dispatchScrollEvent()};var l=s.positionSliderAtSelected;s.positionSliderAtSelected=function(){this.options.fade&&this.setTranslateX(0),l.apply(this,arguments)},s.fadeSlides=function(){if(!(this.slides.length<2)){var t=this.getFadeIndexes(),e=this.slides[t.a],i=this.slides[t.b],n=this.wrapDifference(e.target,i.target),r=this.wrapDifference(e.target,-this.x);r/=n,e.setOpacity(1-r),i.setOpacity(r);var s=t.a;this.isDragging&&(s=r>.5?t.a:t.b),void 0!=this.fadeHideIndex&&this.fadeHideIndex!=s&&this.fadeHideIndex!=t.a&&this.fadeHideIndex!=t.b&&this.slides[this.fadeHideIndex].setOpacity(0),this.fadeHideIndex=s}},s.getFadeIndexes=function(){return this.isDragging||this.didDragEnd?this.options.wrapAround?this.getFadeDragWrapIndexes():this.getFadeDragLimitIndexes():{a:this.fadeIndex,b:this.selectedIndex}},s.getFadeDragWrapIndexes=function(){var t=this.slides.map(function(t,e){return this.getSlideDistance(-this.x,e)},this),e=t.map(function(t){return Math.abs(t)}),n=Math.min.apply(Math,e),r=e.indexOf(n),s=t[r],o=this.slides.length;return{a:r,b:i.modulo(r+(s>=0?1:-1),o)}},s.getFadeDragLimitIndexes=function(){for(var t=0,e=0;e<this.slides.length-1;e++){var i=this.slides[e];if(-this.x<i.target)break;t=e}return{a:t,b:t+1}},s.wrapDifference=function(t,e){var i=e-t;if(!this.options.wrapAround)return i;var n=i+this.slideableWidth,r=i-this.slideableWidth;return Math.abs(n)<Math.abs(i)&&(i=n),Math.abs(r)<Math.abs(i)&&(i=r),i};var c=s._getWrapShiftCells;s._getWrapShiftCells=function(){this.options.fade||c.apply(this,arguments)};var d=s.shiftWrapCells;return s.shiftWrapCells=function(){this.options.fade||d.apply(this,arguments)},e}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipe=e()}(this,function(){return function(t,e,i,n){var r={features:null,bind:function(t,e,i,n){var r=(n?"remove":"add")+"EventListener";e=e.split(" ");for(var s=0;s<e.length;s++)e[s]&&t[r](e[s],i,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var i=document.createElement(e||"div");return t&&(i.className=t),i},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,i){r.bind(t,e,i,!0)},removeClass:function(t,e){var i=RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){r.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var i=t.firstChild;i;){if(r.hasClass(i,e))return i;i=i.nextSibling}},arraySearch:function(t,e,i){for(var n=t.length;n--;)if(t[n][i]===e)return n;return -1},extend:function(t,e,i){for(var n in e)if(e.hasOwnProperty(n)){if(i&&t.hasOwnProperty(n))continue;t[n]=e[n]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(r.features)return r.features;var t=r.createEl().style,e="",i={};if(i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!i.pointerEvent){var n=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var s=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);s&&s.length>0&&(s=parseInt(s[1],10))>=1&&s<8&&(i.isOldIOSPhone=!0)}var o=n.match(/Android\s([0-9\.]*)/),a=o?o[1]:0;(a=parseFloat(a))>=1&&(a<4.4&&(i.isOldAndroid=!0),i.androidVersion=a),i.isMobileOpera=/opera mini|opera mobi/i.test(n)}for(var l,c,d=["transform","perspective","animationName"],u=["","webkit","Moz","ms","O"],h=0;h<4;h++){e=u[h];for(var p=0;p<3;p++)l=d[p],c=e+(e?l.charAt(0).toUpperCase()+l.slice(1):l),!i[l]&&c in t&&(i[l]=c);e&&!i.raf&&(e=e.toLowerCase(),i.raf=window[e+"RequestAnimationFrame"],i.raf&&(i.caf=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]))}if(!i.raf){var f=0;i.raf=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-f)),n=window.setTimeout(function(){t(e+i)},i);return f=e+i,n},i.caf=function(t){clearTimeout(t)}}return i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r.features=i,i}};r.detectFeatures(),r.features.oldIE&&(r.bind=function(t,e,i,n){e=e.split(" ");for(var r,s=(n?"detach":"attach")+"Event",o=function(){i.handleEvent.call(i)},a=0;a<e.length;a++)if(r=e[a]){if("object"==typeof i&&i.handleEvent){if(n){if(!i["oldIE"+r])return!1}else i["oldIE"+r]=o;t[s]("on"+r,i["oldIE"+r])}else t[s]("on"+r,i)}});var s=this,o={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t?1:e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};r.extend(o,n);var a,l,c,d,u,h,p,f,m,g,v,y,b,S,w,E,k,x,C,L,A,P,I,T,q,F,D,M,O,z,B,H,W,N,R,V,j,U,G,Z,K,Y,Q,X,J,tt,te,ti,tn,tr,ts,to,ta,tl,tc,td,tu,th=function(){return{x:0,y:0}},tp=th(),tf=th(),tm=th(),tg={},tv=0,ty={},tb=th(),tS=0,t$=!0,tw=[],tE={},tk=!1,tx=function(t,e){r.extend(s,e.publicMethods),tw.push(t)},tC=function(t){var e=eO();return t>e-1?t-e:t<0?e+t:t},tL={},t_=function(t,e){return tL[t]||(tL[t]=[]),tL[t].push(e)},tA=function(t){var e=tL[t];if(e){var i=Array.prototype.slice.call(arguments);i.shift();for(var n=0;n<e.length;n++)e[n].apply(s,i)}},tP=function(){return(new Date).getTime()},tI=function(t){tc=t,s.bg.style.opacity=t*o.bgOpacity},tT=function(t,e,i,n,r){(!tk||r&&r!==s.currItem)&&(n/=r?r.fitRatio:s.currItem.fitRatio),t[P]=y+e+"px, "+i+"px"+b+" scale("+n+")"},t8=function(t){tr&&(t&&(g>s.currItem.fitRatio?tk||(eG(s.currItem,!1,!0),tk=!0):tk&&(eG(s.currItem),tk=!1)),tT(tr,tm.x,tm.y,g))},tq=function(t){t.container&&tT(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},tF=function(t,e){e[P]=y+t+"px, 0px"+b},tD=function(t,e){if(!o.loop&&e){var i=d+(tb.x*tv-t)/tb.x,n=Math.round(t-eo.x);(i<0&&n>0||i>=eO()-1&&n<0)&&(t=eo.x+n*o.mainScrollEndFriction)}eo.x=t,tF(t,u)},tM=function(t,e){var i=ea[t]-ty[t];return tf[t]+tp[t]+i-i*(e/v)},tO=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},tz=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},tB=null,tH=function(){tB&&(r.unbind(document,"mousemove",tH),r.addClass(t,"pswp--has_mouse"),o.mouseUsed=!0,tA("mouseUsed")),tB=setTimeout(function(){tB=null},100)},tW=function(){r.bind(document,"keydown",s),B.transform&&r.bind(s.scrollWrap,"click",s),o.mouseUsed||r.bind(document,"mousemove",tH),r.bind(window,"resize scroll orientationchange",s),tA("bindEvents")},tN=function(){r.unbind(window,"resize scroll orientationchange",s),r.unbind(window,"scroll",m.scroll),r.unbind(document,"keydown",s),r.unbind(document,"mousemove",tH),B.transform&&r.unbind(s.scrollWrap,"click",s),G&&r.unbind(window,p,s),clearTimeout(H),tA("unbindEvents")},tR=function(t,e){var i=ej(s.currItem,tg,t);return e&&(tn=i),i},tV=function(t){return t||(t=s.currItem),t.initialZoomLevel},tj=function(t){return t||(t=s.currItem),t.w>0?o.maxSpreadZoom:1},t9=function(t,e,i,n){return n===s.currItem.initialZoomLevel?(i[t]=s.currItem.initialPosition[t],!0):(i[t]=tM(t,n),i[t]>e.min[t]?(i[t]=e.min[t],!0):i[t]<e.max[t]&&(i[t]=e.max[t],!0))},tU=function(){if(P)return y="translate"+(B.perspective&&!T?"3d(":"("),void(b=B.perspective?", 0px)":")");P="left",r.addClass(t,"pswp--ie"),tF=function(t,e){e.left=t+"px"},tq=function(t){var e=t.fitRatio>1?1:t.fitRatio,i=t.container.style,n=e*t.w,r=e*t.h;i.width=n+"px",i.height=r+"px",i.left=t.initialPosition.x+"px",i.top=t.initialPosition.y+"px"},t8=function(){if(tr){var t=tr,e=s.currItem,i=e.fitRatio>1?1:e.fitRatio,n=i*e.w,r=i*e.h;t.width=n+"px",t.height=r+"px",t.left=tm.x+"px",t.top=tm.y+"px"}}},t0=function(t){var e="";o.escKey&&27===t.keyCode?e="close":o.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,s[e]()))},tG=function(t){t&&(Y||K||ts||j)&&(t.preventDefault(),t.stopPropagation())},t1=function(){s.setScrollOffset(0,r.getScrollY())},t3={},tZ=0,tK=function(t){t3[t]&&(t3[t].raf&&F(t3[t].raf),tZ--,delete t3[t])},tY=function(t){t3[t]&&tK(t),t3[t]||(tZ++,t3[t]={})},tQ=function(){for(var t in t3)t3.hasOwnProperty(t)&&tK(t)},tX=function(t,e,i,n,r,s,o){var a,l=tP();tY(t);var c=function(){if(t3[t]){if((a=tP()-l)>=n)return tK(t),s(i),void(o&&o());s((i-e)*r(a/n)+e),t3[t].raf=q(c)}};c()},t2={},t7={},t6={},tJ={},t5={},t4=[],et={},ee=[],ei={},en=0,er=th(),es=0,eo=th(),ea=th(),el=th(),ec=function(t,e){return ei.x=Math.abs(t.x-e.x),ei.y=Math.abs(t.y-e.y),Math.sqrt(ei.x*ei.x+ei.y*ei.y)},ed=function(){Q&&(F(Q),Q=null)},eu=function(){G&&(Q=q(eu),eC())},eh=function(t,e){return!(!t||t===document)&&!(t.getAttribute("class")&&t.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(e(t)?t:eh(t.parentNode,e))},ep={},ef=function(t,e){return ep.prevent=!eh(t.target,o.isClickableElement),tA("preventDragEvent",t,e,ep),ep.prevent},em=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},eg=function(t,e,i){i.x=.5*(t.x+e.x),i.y=.5*(t.y+e.y)},ev=function(t,e,i){if(t-N>50){var n=ee.length>2?ee.shift():{};n.x=e,n.y=i,ee.push(n),N=t}},ey=function(){return 1-Math.abs((tm.y-s.currItem.initialPosition.y)/(tg.y/2))},eb={},eS={},e$=[],ew=function(t){for(;e$.length>0;)e$.pop();return I?(tu=0,t4.forEach(function(t){0===tu?e$[0]=t:1===tu&&(e$[1]=t),tu++})):t.type.indexOf("touch")>-1?t.touches&&t.touches.length>0&&(e$[0]=em(t.touches[0],eb),t.touches.length>1&&(e$[1]=em(t.touches[1],eS))):(eb.x=t.pageX,eb.y=t.pageY,eb.id="",e$[0]=eb),e$},eE=function(t,e){var i,n,r,a,l=0,c=tm[t]+e[t],d=e[t]>0,u=eo.x+e.x,h=eo.x-et.x;return i=c>tn.min[t]||c<tn.max[t]?o.panEndFriction:1,c=tm[t]+e[t]*i,(o.allowPanToNext||g===s.currItem.initialZoomLevel)&&(tr?"h"!==to||"x"!==t||K||(d?(c>tn.min[t]&&(i=o.panEndFriction,l=tn.min[t]-c,n=tn.min[t]-tf[t]),(n<=0||h<0)&&eO()>1?(a=u,h<0&&u>et.x&&(a=et.x)):tn.min.x!==tn.max.x&&(r=c)):(c<tn.max[t]&&(i=o.panEndFriction,l=c-tn.max[t],n=tf[t]-tn.max[t]),(n<=0||h>0)&&eO()>1?(a=u,h>0&&u<et.x&&(a=et.x)):tn.min.x!==tn.max.x&&(r=c))):a=u,"x"===t)?(void 0!==a&&(tD(a,!0),X=a!==et.x),tn.min.x!==tn.max.x&&(void 0!==r?tm.x=r:X||(tm.x+=e.x*i)),void 0!==a):void(ts||X||g>s.currItem.fitRatio&&(tm[t]+=e[t]*i))},ek=function(t){if(!("mousedown"===t.type&&t.button>0)){if(eD)return void t.preventDefault();if(!U||"mousedown"!==t.type){if(ef(t,!0)&&t.preventDefault(),tA("pointerDown"),I){var e=r.arraySearch(t4,t.pointerId,"id");e<0&&(e=t4.length),t4[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var i=ew(t),n=i.length;J=null,tQ(),G&&1!==n||(G=ta=!0,r.bind(window,p,s),V=td=tl=j=X=Y=Z=K=!1,to=null,tA("firstTouchStart",i),tO(tf,tm),tp.x=tp.y=0,tO(tJ,i[0]),tO(t5,tJ),et.x=tb.x*tv,ee=[{x:tJ.x,y:tJ.y}],N=W=tP(),tR(g,!0),ed(),eu()),tt||!(n>1)||ts||X||(v=g,K=!1,tt=Z=!0,tp.y=tp.x=0,tO(tf,tm),tO(t2,i[0]),tO(t7,i[1]),eg(t2,t7,el),ea.x=Math.abs(el.x)-tm.x,ea.y=Math.abs(el.y)-tm.y,te=ti=ec(t2,t7))}}},ex=function(t){if(t.preventDefault(),I){var e=r.arraySearch(t4,t.pointerId,"id");if(e>-1){var i=t4[e];i.x=t.pageX,i.y=t.pageY}}if(G){var n=ew(t);if(to||Y||tt)J=n;else if(eo.x!==tb.x*tv)to="h";else{var s=Math.abs(n[0].x-tJ.x)-Math.abs(n[0].y-tJ.y);Math.abs(s)>=10&&(to=s>0?"h":"v",J=n)}}},eC=function(){if(J){var t=J.length;if(0!==t){if(tO(t2,J[0]),t6.x=t2.x-tJ.x,t6.y=t2.y-tJ.y,tt&&t>1){if(tJ.x=t2.x,tJ.y=t2.y,!t6.x&&!t6.y&&(l=J[1],c=t7,l.x===c.x&&l.y===c.y))return;tO(t7,J[1]),K||(K=!0,tA("zoomGestureStarted"));var e=ec(t2,t7),i=eI(e);i>s.currItem.initialZoomLevel+s.currItem.initialZoomLevel/15&&(td=!0);var n=1,r=tV(),a=tj();if(i<r){if(o.pinchToClose&&!td&&v<=s.currItem.initialZoomLevel){var l,c,d=1-(r-i)/(r/1.2);tI(d),tA("onPinchClose",d),tl=!0}else(n=(r-i)/r)>1&&(n=1),i=r-n*(r/3)}else i>a&&((n=(i-a)/(6*r))>1&&(n=1),i=a+n*r);n<0&&(n=0),te=e,eg(t2,t7,er),tp.x+=er.x-el.x,tp.y+=er.y-el.y,tO(el,er),tm.x=tM("x",i),tm.y=tM("y",i),V=i>g,g=i,t8()}else{if(!to||(ta&&(ta=!1,Math.abs(t6.x)>=10&&(t6.x-=J[0].x-t5.x),Math.abs(t6.y)>=10&&(t6.y-=J[0].y-t5.y)),tJ.x=t2.x,tJ.y=t2.y,0===t6.x&&0===t6.y))return;if("v"===to&&o.closeOnVerticalDrag&&"fit"===o.scaleMode&&g===s.currItem.initialZoomLevel){tp.y+=t6.y,tm.y+=t6.y;var u=ey();return j=!0,tA("onVerticalDrag",u),tI(u),void t8()}ev(tP(),t2.x,t2.y),Y=!0,tn=s.currItem.bounds,eE("x",t6)||(eE("y",t6),tz(tm),t8())}}}},eL=function(t){if(B.isOldAndroid){if(U&&"mouseup"===t.type)return;t.type.indexOf("touch")>-1&&(clearTimeout(U),U=setTimeout(function(){U=0},600))}if(tA("pointerUp"),ef(t,!1)&&t.preventDefault(),I){var e=r.arraySearch(t4,t.pointerId,"id");e>-1&&((i=t4.splice(e,1)[0],navigator.msPointerEnabled)?(i.type=({4:"mouse",2:"touch",3:"pen"})[t.pointerType],i.type||(i.type=t.pointerType||"mouse")):i.type=t.pointerType||"mouse")}var i,n,a=ew(t),l=a.length;if("mouseup"===t.type&&(l=0),2===l)return J=null,!0;1===l&&tO(t5,a[0]),0!==l||to||ts||(i||("mouseup"===t.type?i={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(i={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),tA("touchRelease",t,i));var c=-1;if(0===l&&(G=!1,r.unbind(window,p,s),ed(),tt?c=0:-1!==es&&(c=tP()-es)),es=1===l?tP():-1,n=-1!==c&&c<150?"zoom":"swipe",tt&&l<2&&(tt=!1,1===l&&(n="zoomPointerUp"),tA("zoomGestureEnded")),J=null,Y||K||ts||j){if(tQ(),R||(R=e_()),R.calculateSwipeSpeed("x"),j){if(ey()<o.verticalDragRange)s.close();else{var d=tm.y,u=tc;tX("verticalDrag",0,1,300,r.easing.cubic.out,function(t){tm.y=(s.currItem.initialPosition.y-d)*t+d,tI((1-u)*t+u),t8()}),tA("onVerticalDrag",1)}}else{if((X||ts)&&0===l){if(eP(n,R))return;n="zoomPointerUp"}if(!ts)return"swipe"!==n?void eT():void(!X&&g>s.currItem.fitRatio&&eA(R))}}},e_=function(){var t,e,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(n){ee.length>1?(t=tP()-N+50,e=ee[ee.length-2][n]):(t=tP()-W,e=t5[n]),i.lastFlickOffset[n]=tJ[n]-e,i.lastFlickDist[n]=Math.abs(i.lastFlickOffset[n]),i.lastFlickDist[n]>20?i.lastFlickSpeed[n]=i.lastFlickOffset[n]/t:i.lastFlickSpeed[n]=0,.1>Math.abs(i.lastFlickSpeed[n])&&(i.lastFlickSpeed[n]=0),i.slowDownRatio[n]=.95,i.slowDownRatioReverse[n]=1-i.slowDownRatio[n],i.speedDecelerationRatio[n]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(tm[t]>tn.min[t]?i.backAnimDestination[t]=tn.min[t]:tm[t]<tn.max[t]&&(i.backAnimDestination[t]=tn.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,tX("bounceZoomPan"+t,tm[t],i.backAnimDestination[t],e||300,r.easing.sine.out,function(e){tm[t]=e,t8()}))))},calculateAnimOffset:function(t){i.backAnimStarted[t]||(i.speedDecelerationRatio[t]=i.speedDecelerationRatio[t]*(i.slowDownRatio[t]+i.slowDownRatioReverse[t]-i.slowDownRatioReverse[t]*i.timeDiff/10),i.speedDecelerationRatioAbs[t]=Math.abs(i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]),i.distanceOffset[t]=i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]*i.timeDiff,tm[t]+=i.distanceOffset[t])},panAnimLoop:function(){if(t3.zoomPan&&(t3.zoomPan.raf=q(i.panAnimLoop),i.now=tP(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),t8(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return tm.x=Math.round(tm.x),tm.y=Math.round(tm.y),t8(),void tK("zoomPan")}};return i},eA=function(t){return t.calculateSwipeSpeed("y"),tn=s.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},.05>=Math.abs(t.lastFlickSpeed.x)&&.05>=Math.abs(t.lastFlickSpeed.y)?(t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0):(tY("zoomPan"),t.lastNow=tP(),void t.panAnimLoop())},eP=function(t,e){if(ts||(en=d),"swipe"===t){var i=tJ.x-t5.x,n=e.lastFlickDist.x<10;i>30&&(n||e.lastFlickOffset.x>20)?l=-1:i<-30&&(n||e.lastFlickOffset.x<-20)&&(l=1)}l&&((d+=l)<0?(d=o.loop?eO()-1:0,c=!0):d>=eO()&&(d=o.loop?0:eO()-1,c=!0),c&&!o.loop||(tS+=l,tv-=l,a=!0));var a,l,c,u,h=tb.x*tv,p=Math.abs(h-eo.x);return u=a||h>eo.x==e.lastFlickSpeed.x>0?Math.max(u=Math.min(u=Math.abs(e.lastFlickSpeed.x)>0?p/Math.abs(e.lastFlickSpeed.x):333,400),250):333,en===d&&(a=!1),ts=!0,tA("mainScrollAnimStart"),tX("mainScroll",eo.x,h,u,r.easing.cubic.out,tD,function(){tQ(),ts=!1,en=-1,(a||en!==d)&&s.updateCurrItem(),tA("mainScrollAnimComplete")}),a&&s.updateCurrItem(!0),a},eI=function(t){return 1/ti*t*v},eT=function(){var t=g,e=tV(),i=tj();g<e?t=e:g>i&&(t=i);var n,o=tc;return tl&&!V&&!td&&g<e?(s.close(),!0):(tl&&(n=function(t){tI((1-o)*t+o)}),s.zoomTo(t,0,200,r.easing.cubic.out,n),!0)};tx("Gestures",{publicMethods:{initGestures:function(){var t=function(t,e,i,n,r){x=t+e,C=t+i,L=t+n,A=r?t+r:""};(I=B.pointerEvent)&&B.touch&&(B.touch=!1),I?navigator.msPointerEnabled?t("MSPointer","Down","Move","Up","Cancel"):t("pointer","down","move","up","cancel"):B.touch?(t("touch","start","move","end","cancel"),T=!0):t("mouse","down","move","up"),p=C+" "+L+" "+A,f=x,I&&!T&&(T=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),s.likelyTouchDevice=T,m[x]=ek,m[C]=ex,m[L]=eL,A&&(m[A]=m[L]),B.touch&&(f+=" mousedown",p+=" mousemove mouseup",m.mousedown=m[x],m.mousemove=m[C],m.mouseup=m[L]),T||(o.allowPanToNext=!1)}}});var e8,eq,eF,eD,eM,eO,ez,eB=function(e,i,n,a){e8&&clearTimeout(e8),eD=!0,eF=!0,e.initialLayout?(h=e.initialLayout,e.initialLayout=null):h=o.getThumbBoundsFn&&o.getThumbBoundsFn(d);var l,u,h,p=n?o.hideAnimationDuration:o.showAnimationDuration,f=function(){tK("initialZoom"),n?(s.template.removeAttribute("style"),s.bg.removeAttribute("style")):(tI(1),i&&(i.style.display="block"),r.addClass(t,"pswp--animated-in"),tA("initialZoom"+(n?"OutEnd":"InEnd"))),a&&a(),eD=!1};if(!p||!h||void 0===h.x)return tA("initialZoom"+(n?"Out":"In")),g=e.initialZoomLevel,tO(tm,e.initialPosition),t8(),t.style.opacity=n?0:1,tI(1),void(p?setTimeout(function(){f()},p):f());l=c,u=!s.currItem.src||s.currItem.loadError||o.showHideOpacity,e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),n||(g=h.w/e.w,tm.x=h.x,tm.y=h.y-M,s[u?"template":"bg"].style.opacity=.001,t8()),tY("initialZoom"),n&&!l&&r.removeClass(t,"pswp--animated-in"),u&&(n?r[(l?"remove":"add")+"Class"](t,"pswp--animate_opacity"):setTimeout(function(){r.addClass(t,"pswp--animate_opacity")},30)),e8=setTimeout(function(){if(tA("initialZoom"+(n?"Out":"In")),n){var i=h.w/e.w,s={x:tm.x,y:tm.y},o=g,a=tc,c=function(e){1===e?(g=i,tm.x=h.x,tm.y=h.y-z):(g=(i-o)*e+o,tm.x=(h.x-s.x)*e+s.x,tm.y=(h.y-z-s.y)*e+s.y),t8(),u?t.style.opacity=1-e:tI(a-e*a)};l?tX("initialZoom",0,1,p,r.easing.cubic.out,c,f):(c(1),e8=setTimeout(f,p+20))}else g=e.initialZoomLevel,tO(tm,e.initialPosition),t8(),tI(1),u?t.style.opacity=1:tI(1),e8=setTimeout(f,p+20)},n?25:90)},eH={},eW=[],eN={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return eq.length}},eR=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},eV=function(t,e,i){var n=t.bounds;n.center.x=Math.round((eH.x-e)/2),n.center.y=Math.round((eH.y-i)/2)+t.vGap.top,n.max.x=e>eH.x?Math.round(eH.x-e):n.center.x,n.max.y=i>eH.y?Math.round(eH.y-i)+t.vGap.top:n.center.y,n.min.x=e>eH.x?0:n.center.x,n.min.y=i>eH.y?t.vGap.top:n.center.y},ej=function(t,e,i){if(t.src&&!t.loadError){var n=!i;if(n&&(t.vGap||(t.vGap={top:0,bottom:0}),tA("parseVerticalMargin",t)),eH.x=e.x,eH.y=e.y-t.vGap.top-t.vGap.bottom,n){var r=eH.x/t.w,s=eH.y/t.h;t.fitRatio=r<s?r:s;var a=o.scaleMode;"orig"===a?i=1:"fit"===a&&(i=t.fitRatio),i>1&&(i=1),t.initialZoomLevel=i,t.bounds||(t.bounds=eR())}if(!i)return;return eV(t,t.w*i,t.h*i),n&&i===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds}return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds=eR(),t.initialPosition=t.bounds.center,t.bounds},e9=function(t,e,i,n,r,o){e.loadError||n&&(e.imageAppended=!0,eG(e,n,e===s.currItem&&tk),i.appendChild(n),o&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)},500))},eU=function(t){t.loading=!0,t.loaded=!1;var e=t.img=r.createEl("pswp__img","img"),i=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=i,e.onerror=function(){t.loadError=!0,i()},e.src=t.src,e},e0=function(t,e){if(t.src&&t.loadError&&t.container)return e&&(t.container.innerHTML=""),t.container.innerHTML=o.errorMsg.replace("%url%",t.src),!0},eG=function(t,e,i){if(t.src){e||(e=t.container.lastChild);var n=i?t.w:Math.round(t.w*t.fitRatio),r=i?t.h:Math.round(t.h*t.fitRatio);t.placeholder&&!t.loaded&&(t.placeholder.style.width=n+"px",t.placeholder.style.height=r+"px"),e.style.width=n+"px",e.style.height=r+"px"}},e1=function(){if(eW.length){for(var t,e=0;e<eW.length;e++)(t=eW[e]).holder.index===t.index&&e9(t.index,t.item,t.baseDiv,t.img,!1,t.clearPlaceholder);eW=[]}};tx("Controller",{publicMethods:{lazyLoadItem:function(t){t=tC(t);var e=eM(t);e&&(!e.loaded&&!e.loading||w)&&(tA("gettingData",t,e),e.src&&eU(e))},initController:function(){r.extend(o,eN,!0),s.items=eq=i,eM=s.getItemAt,eO=o.getNumItemsFn,ez=o.loop,3>eO()&&(o.loop=!1),t_("beforeChange",function(t){var e,i=o.preload,n=null===t||t>=0,r=Math.min(i[0],eO()),a=Math.min(i[1],eO());for(e=1;e<=(n?a:r);e++)s.lazyLoadItem(d+e);for(e=1;e<=(n?r:a);e++)s.lazyLoadItem(d-e)}),t_("initialLayout",function(){s.currItem.initialLayout=o.getThumbBoundsFn&&o.getThumbBoundsFn(d)}),t_("mainScrollAnimComplete",e1),t_("initialZoomInEnd",e1),t_("destroy",function(){for(var t,e=0;e<eq.length;e++)(t=eq[e]).container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);eW=null})},getItemAt:function(t){return t>=0&&void 0!==eq[t]&&eq[t]},allowProgressiveImg:function(){return o.forceProgressiveLoading||!T||o.mouseUsed||screen.width>1200},setContent:function(t,e){o.loop&&(e=tC(e));var i=s.getItemAt(t.index);i&&(i.container=null);var n,l=s.getItemAt(e);if(!l)return void(t.el.innerHTML="");tA("gettingData",e,l),t.index=e,t.item=l;var c=l.container=r.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?c.appendChild(l.html):c.innerHTML=l.html),e0(l),ej(l,tg),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&((n=r.createEl("pswp__img","img")).style.opacity=1,n.src=l.src,eG(l,n),e9(e,l,c,n,!0));else{if(l.loadComplete=function(i){if(a){if(t&&t.index===e){if(e0(i,!0))return i.loadComplete=i.img=null,ej(i,tg),tq(i),void(t.index===d&&s.updateCurrZoomItem());i.imageAppended?!eD&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):B.transform&&(ts||eD)?eW.push({item:i,baseDiv:c,img:i.img,index:e,holder:t,clearPlaceholder:!0}):e9(e,i,c,i.img,ts||eD,!0)}i.loadComplete=null,i.img=null,tA("imageLoadComplete",e,i)}},r.features.transform){var u="pswp__img pswp__img--placeholder";u+=l.msrc?"":" pswp__img--placeholder--blank";var h=r.createEl(u,l.msrc?"img":"");l.msrc&&(h.src=l.msrc),eG(l,h),c.appendChild(h),l.placeholder=h}l.loading||eU(l),s.allowProgressiveImg()&&(!eF&&B.transform?eW.push({item:l,baseDiv:c,img:l.img,index:e,holder:t}):e9(e,l,c,l.img,!0,!0))}eF||e!==d?tq(l):(tr=c.style,eB(l,n||l.img)),t.el.innerHTML="",t.el.appendChild(c)},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var e3,eZ={},eK=function(t,e,i){var n=document.createEvent("CustomEvent"),r={origEvent:t,target:t.target,releasePoint:e,pointerType:i||"touch"};n.initCustomEvent("pswpTap",!0,!0,r),t.target.dispatchEvent(n)};tx("Tap",{publicMethods:{initTap:function(){t_("firstTouchStart",s.onTapStart),t_("touchRelease",s.onTapRelease),t_("destroy",function(){eZ={},e3=null})},onTapStart:function(t){t.length>1&&(clearTimeout(e3),e3=null)},onTapRelease:function(t,e){if(e&&!Y&&!Z&&!tZ){var i,n,s=e;if(e3&&(clearTimeout(e3),e3=null,i=s,n=eZ,25>Math.abs(i.x-n.x)&&25>Math.abs(i.y-n.y)))return void tA("doubleTap",s);if("mouse"===e.type)return void eK(t,e,"mouse");if("BUTTON"===t.target.tagName.toUpperCase()||r.hasClass(t.target,"pswp__single-tap"))return void eK(t,e);tO(eZ,s),e3=setTimeout(function(){eK(t,e),e3=null},300)}}}}),tx("DesktopZoom",{publicMethods:{initDesktopZoom:function(){O||(T?t_("mouseUsed",function(){s.setupDesktopZoom()}):s.setupDesktopZoom(!0))},setupDesktopZoom:function(e){eY={};var i="wheel mousewheel DOMMouseScroll";t_("bindEvents",function(){r.bind(t,i,s.handleMouseWheel)}),t_("unbindEvents",function(){eY&&r.unbind(t,i,s.handleMouseWheel)}),s.mouseZoomedIn=!1;var n,o=function(){s.mouseZoomedIn&&(r.removeClass(t,"pswp--zoomed-in"),s.mouseZoomedIn=!1),g<1?r.addClass(t,"pswp--zoom-allowed"):r.removeClass(t,"pswp--zoom-allowed"),a()},a=function(){n&&(r.removeClass(t,"pswp--dragging"),n=!1)};t_("resize",o),t_("afterChange",o),t_("pointerDown",function(){s.mouseZoomedIn&&(n=!0,r.addClass(t,"pswp--dragging"))}),t_("pointerUp",a),e||o()},handleMouseWheel:function(t){if(g<=s.currItem.fitRatio)return o.modal&&(!o.closeOnScroll||tZ||G?t.preventDefault():P&&Math.abs(t.deltaY)>2&&(c=!0,s.close())),!0;if(t.stopPropagation(),eY.x=0,"deltaX"in t)1===t.deltaMode?(eY.x=18*t.deltaX,eY.y=18*t.deltaY):(eY.x=t.deltaX,eY.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(eY.x=-.16*t.wheelDeltaX),t.wheelDeltaY?eY.y=-.16*t.wheelDeltaY:eY.y=-.16*t.wheelDelta;else{if(!("detail"in t))return;eY.y=t.detail}tR(g,!0);var e=tm.x-eY.x,i=tm.y-eY.y;(o.modal||e<=tn.min.x&&e>=tn.max.x&&i<=tn.min.y&&i>=tn.max.y)&&t.preventDefault(),s.panTo(e,i)},toggleDesktopZoom:function(e){e=e||{x:tg.x/2+ty.x,y:tg.y/2+ty.y};var i=o.getDoubleTapZoom(!0,s.currItem),n=g===i;s.mouseZoomedIn=!n,s.zoomTo(n?s.currItem.initialZoomLevel:i,e,333),r[(n?"remove":"add")+"Class"](t,"pswp--zoomed-in")}}});var eY,eQ,eX,e2,e7,e6,eJ,e5,e4,it,ie,ii,ir,is={history:!0,galleryUID:1},io=function(){return ii.hash.substring(1)},ia=function(){eQ&&clearTimeout(eQ),e2&&clearTimeout(e2)},il=function(){var t=io(),e={};if(t.length<5)return e;var i,n=t.split("&");for(i=0;i<n.length;i++)if(n[i]){var r=n[i].split("=");r.length<2||(e[r[0]]=r[1])}if(o.galleryPIDs){var s=e.pid;for(e.pid=0,i=0;i<eq.length;i++)if(eq[i].pid===s){e.pid=i;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},ic=function(){if(e2&&clearTimeout(e2),tZ||G)return void(e2=setTimeout(ic,500));e7?clearTimeout(eX):e7=!0;var t=d+1,e=eM(d);e.hasOwnProperty("pid")&&(t=e.pid);var i=e5+"&gid="+o.galleryUID+"&pid="+t;e4||-1===ii.hash.indexOf(i)&&(ie=!0);var n=ii.href.split("#")[0]+"#"+i;ir?"#"+i!==window.location.hash&&history[e4?"replaceState":"pushState"]("",document.title,n):e4?ii.replace(n):ii.hash=i,e4=!0,eX=setTimeout(function(){e7=!1},60)};tx("History",{publicMethods:{initHistory:function(){if(r.extend(o,is,!0),o.history){ii=window.location,ie=!1,it=!1,e4=!1,e5=io(),ir="pushState"in history,e5.indexOf("gid=")>-1&&(e5=(e5=e5.split("&gid=")[0]).split("?gid=")[0]),t_("afterChange",s.updateURL),t_("unbindEvents",function(){r.unbind(window,"hashchange",s.onHashChange)});var t=function(){eJ=!0,it||(ie?history.back():e5?ii.hash=e5:ir?history.pushState("",document.title,ii.pathname+ii.search):ii.hash=""),ia()};t_("unbindEvents",function(){c&&t()}),t_("destroy",function(){eJ||t()}),t_("firstUpdate",function(){d=il().pid});var e=e5.indexOf("pid=");e>-1&&"&"===(e5=e5.substring(0,e)).slice(-1)&&(e5=e5.slice(0,-1)),setTimeout(function(){a&&r.bind(window,"hashchange",s.onHashChange)},40)}},onHashChange:function(){return io()===e5?(it=!0,void s.close()):void(e7||(e6=!0,s.goTo(il().pid),e6=!1))},updateURL:function(){ia(),e6||(e4?eQ=setTimeout(ic,800):ic())}}}),r.extend(s,{shout:tA,listen:t_,viewportSize:tg,options:o,isMainScrollAnimating:function(){return ts},getZoomLevel:function(){return g},getCurrentIndex:function(){return d},isDragging:function(){return G},isZooming:function(){return tt},setScrollOffset:function(t,e){ty.x=t,z=ty.y=e,tA("updateScrollOffset",ty)},applyZoomPan:function(t,e,i,n){tm.x=e,tm.y=i,g=t,t8(n)},init:function(){if(!a&&!l){s.framework=r,s.template=t,s.bg=r.getChildByClass(t,"pswp__bg"),D=t.className,a=!0,q=(B=r.detectFeatures()).raf,F=B.caf,P=B.transform,O=B.oldIE,s.scrollWrap=r.getChildByClass(t,"pswp__scroll-wrap"),s.container=r.getChildByClass(s.scrollWrap,"pswp__container"),u=s.container.style,s.itemHolders=E=[{el:s.container.children[0],wrap:0,index:-1},{el:s.container.children[1],wrap:0,index:-1},{el:s.container.children[2],wrap:0,index:-1}],E[0].el.style.display=E[2].el.style.display="none",tU(),m={resize:s.updateSize,orientationchange:function(){clearTimeout(H),H=setTimeout(function(){tg.x!==s.scrollWrap.clientWidth&&s.updateSize()},500)},scroll:t1,keydown:t0,click:tG};var i,n=B.isOldIOSPhone||B.isOldAndroid||B.isMobileOpera;for(B.animationName&&B.transform&&!n||(o.showAnimationDuration=o.hideAnimationDuration=0),i=0;i<tw.length;i++)s["init"+tw[i]]();e&&(s.ui=new e(s,r)).init(),tA("firstUpdate"),d=d||o.index||0,(isNaN(d)||d<0||d>=eO())&&(d=0),s.currItem=eM(d),(B.isOldIOSPhone||B.isOldAndroid)&&(t$=!1),t.setAttribute("aria-hidden","false"),o.modal&&(t$?t.style.position="fixed":(t.style.position="absolute",t.style.top=r.getScrollY()+"px")),void 0===z&&(tA("initialLayout"),z=M=r.getScrollY());var c="pswp--open ";for(o.mainClass&&(c+=o.mainClass+" "),o.showHideOpacity&&(c+="pswp--animate_opacity "),c+=T?"pswp--touch":"pswp--notouch",c+=B.animationName?" pswp--css_animation":"",c+=B.svg?" pswp--svg":"",r.addClass(t,c),s.updateSize(),h=-1,tS=null,i=0;i<3;i++)tF((i+h)*tb.x,E[i].el.style);O||r.bind(s.scrollWrap,f,s),t_("initialZoomInEnd",function(){s.setContent(E[0],d-1),s.setContent(E[2],d+1),E[0].el.style.display=E[2].el.style.display="block",o.focus&&t.focus(),tW()}),s.setContent(E[1],d),s.updateCurrItem(),tA("afterInit"),t$||(S=setInterval(function(){tZ||G||tt||g!==s.currItem.initialZoomLevel||s.updateSize()},1e3)),r.addClass(t,"pswp--visible")}},close:function(){a&&(a=!1,l=!0,tA("close"),tN(),eB(s.currItem,null,!0,s.destroy))},destroy:function(){tA("destroy"),e8&&clearTimeout(e8),t.setAttribute("aria-hidden","true"),t.className=D,S&&clearInterval(S),r.unbind(s.scrollWrap,f,s),r.unbind(window,"scroll",s),ed(),tQ(),tL=null},panTo:function(t,e,i){i||(t>tn.min.x?t=tn.min.x:t<tn.max.x&&(t=tn.max.x),e>tn.min.y?e=tn.min.y:e<tn.max.y&&(e=tn.max.y)),tm.x=t,tm.y=e,t8()},handleEvent:function(t){m[(t=t||window.event).type]&&m[t.type](t)},goTo:function(t){var e=(t=tC(t))-d;tS=e,d=t,s.currItem=eM(d),tv-=e,tD(tb.x*tv),tQ(),ts=!1,s.updateCurrItem()},next:function(){s.goTo(d+1)},prev:function(){s.goTo(d-1)},updateCurrZoomItem:function(t){if(t&&tA("beforeChange",0),E[1].el.children.length){var e=E[1].el.children[0];tr=r.hasClass(e,"pswp__zoom-wrap")?e.style:null}else tr=null;tn=s.currItem.bounds,v=g=s.currItem.initialZoomLevel,tm.x=tn.center.x,tm.y=tn.center.y,t&&tA("afterChange")},invalidateCurrItems:function(){w=!0;for(var t=0;t<3;t++)E[t].item&&(E[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==tS){var e,i=Math.abs(tS);if(!(t&&i<2)){s.currItem=eM(d),tk=!1,tA("beforeChange",tS),i>=3&&(h+=tS+(tS>0?-3:3),i=3);for(var n=0;n<i;n++)tS>0?(e=E.shift(),E[2]=e,tF((++h+2)*tb.x,e.el.style),s.setContent(e,d-i+n+1+1)):(e=E.pop(),E.unshift(e),tF(--h*tb.x,e.el.style),s.setContent(e,d+i-n-1-1));if(tr&&1===Math.abs(tS)){var r=eM(k);r.initialZoomLevel!==g&&(ej(r,tg),eG(r),tq(r))}tS=0,s.updateCurrZoomItem(),k=d,tA("afterChange")}}},updateSize:function(e){if(!t$&&o.modal){var i=r.getScrollY();if(z!==i&&(t.style.top=i+"px",z=i),!e&&tE.x===window.innerWidth&&tE.y===window.innerHeight)return;tE.x=window.innerWidth,tE.y=window.innerHeight,t.style.height=tE.y+"px"}if(tg.x=s.scrollWrap.clientWidth,tg.y=s.scrollWrap.clientHeight,t1(),tb.x=tg.x+Math.round(tg.x*o.spacing),tb.y=tg.y,tD(tb.x*tv),tA("beforeResize"),void 0!==h){for(var n,a,l,c=0;c<3;c++)n=E[c],tF((c+h)*tb.x,n.el.style),l=d+c-1,o.loop&&eO()>2&&(l=tC(l)),(a=eM(l))&&(w||a.needsUpdate||!a.bounds)?(s.cleanSlide(a),s.setContent(n,l),1===c&&(s.currItem=a,s.updateCurrZoomItem(!0)),a.needsUpdate=!1):-1===n.index&&l>=0&&s.setContent(n,l),a&&a.container&&(ej(a,tg),eG(a),tq(a));w=!1}v=g=s.currItem.initialZoomLevel,(tn=s.currItem.bounds)&&(tm.x=tn.center.x,tm.y=tn.center.y,t8(!0)),tA("resize")},zoomTo:function(t,e,i,n,s){e&&(v=g,ea.x=Math.abs(e.x)-tm.x,ea.y=Math.abs(e.y)-tm.y,tO(tf,tm));var o=tR(t,!1),a={};t9("x",o,a,t),t9("y",o,a,t);var l=g,c={x:tm.x,y:tm.y};tz(a);var d=function(e){1===e?(g=t,tm.x=a.x,tm.y=a.y):(g=(t-l)*e+l,tm.x=(a.x-c.x)*e+c.x,tm.y=(a.y-c.y)*e+c.y),s&&s(e),t8(1===e)};i?tX("customZoomTo",0,1,i,n||r.easing.sine.inOut,d):d(1)}})}}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipeUI_Default=e()}(this,function(){return function(t,e){var i,n,r,s,o,a,l,c,d,u,h,p,f,m,g,v,y,b,S,w=this,E=!1,k=!0,x=!0,C={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return t.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return t.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},L=function(t){if(v)return!0;t=t||window.event,g.timeToIdle&&g.mouseUsed&&!d&&O();for(var i,n,r=t.target||t.srcElement,s=r.getAttribute("class")||"",o=0;o<j.length;o++)(i=j[o]).onTap&&s.indexOf("pswp__"+i.name)>-1&&(i.onTap(),n=!0);n&&(t.stopPropagation&&t.stopPropagation(),v=!0,y=setTimeout(function(){v=!1},e.features.isOldAndroid?600:30))},A=function(t,i,n){e[(n?"add":"remove")+"Class"](t,"pswp__"+i)},P=function(){var t=1===g.getNumItemsFn();t!==m&&(A(n,"ui--one-slide",t),m=t)},I=function(){A(l,"share-modal--hidden",x)},T=function(){return(x=!x)?(e.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){x&&I()},300)):(I(),setTimeout(function(){x||e.addClass(l,"pswp__share-modal--fade-in")},30)),x||F(),!1},q=function(e){var i=(e=e||window.event).target||e.srcElement;return t.shout("shareLinkClick",e,i),!!i.href&&(!!i.hasAttribute("download")||(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),x||T(),!1))},F=function(){for(var t,e,i,n,r,s="",o=0;o<g.shareButtons.length;o++)t=g.shareButtons[o],i=g.getImageURLForShare(t),n=g.getPageURLForShare(t),r=g.getTextForShare(t),e=t.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(i)).replace("{{raw_image_url}}",i).replace("{{text}}",encodeURIComponent(r)),s+='<a href="'+e+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>",g.parseShareButtonOut&&(s=g.parseShareButtonOut(t,s));l.children[0].innerHTML=s,l.children[0].onclick=q},D=function(t){for(var i=0;i<g.closeElClasses.length;i++)if(e.hasClass(t,"pswp__"+g.closeElClasses[i]))return!0},M=0,O=function(){clearTimeout(S),M=0,d&&w.setIdle(!1)},z=function(t){var e=(t=t||window.event).relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||(clearTimeout(S),S=setTimeout(function(){w.setIdle(!0)},g.timeToIdleOutside))},B=function(){g.fullscreenEl&&!e.features.isOldAndroid&&(i||(i=w.getFullscreenAPI()),i?(e.bind(document,i.eventK,w.updateFullscreen),w.updateFullscreen(),e.addClass(t.template,"pswp--supports-fs")):e.removeClass(t.template,"pswp--supports-fs"))},H=function(){g.preloaderEl&&(W(!0),u("beforeChange",function(){clearTimeout(f),f=setTimeout(function(){t.currItem&&t.currItem.loading?t.allowProgressiveImg()&&(!t.currItem.img||t.currItem.img.naturalWidth)||W(!1):W(!0)},g.loadingIndicatorDelay)}),u("imageLoadComplete",function(e,i){t.currItem===i&&W(!0)}))},W=function(t){p!==t&&(A(h,"preloader--active",!t),p=t)},N=function(i){var o=i.vGap;if(!t.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth){var a=g.barsSize;if(g.captionEl&&"auto"===a.bottom){if(s||((s=e.createEl("pswp__caption pswp__caption--fake")).appendChild(e.createEl("pswp__caption__center")),n.insertBefore(s,r),e.addClass(n,"pswp__ui--fit")),g.addCaptionHTMLFn(i,s,!0)){var l=s.clientHeight;o.bottom=parseInt(l,10)||44}else o.bottom=a.top}else o.bottom="auto"===a.bottom?0:a.bottom;o.top=a.top}else o.top=o.bottom=0},R=function(){g.timeToIdle&&u("mouseUsed",function(){e.bind(document,"mousemove",O),e.bind(document,"mouseout",z),b=setInterval(function(){2==++M&&w.setIdle(!0)},g.timeToIdle/2)})},V=function(){var t;u("onVerticalDrag",function(t){k&&t<.95?w.hideControls():!k&&t>=.95&&w.showControls()}),u("onPinchClose",function(e){k&&e<.9?(w.hideControls(),t=!0):t&&!k&&e>.9&&w.showControls()}),u("zoomGestureEnded",function(){t=!1})},j=[{name:"caption",option:"captionEl",onInit:function(t){r=t}},{name:"share-modal",option:"shareEl",onInit:function(t){l=t},onTap:function(){T()}},{name:"button--share",option:"shareEl",onInit:function(t){a=t},onTap:function(){T()}},{name:"button--zoom",option:"zoomEl",onTap:t.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){o=t}},{name:"button--close",option:"closeEl",onTap:t.close},{name:"button--arrow--left",option:"arrowEl",onTap:t.prev},{name:"button--arrow--right",option:"arrowEl",onTap:t.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){i.isFullscreen()?i.exit():i.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(t){h=t}}],U=function(){var t,i,r,s=function(n){if(n)for(var s=n.length,o=0;o<s;o++){i=(t=n[o]).className;for(var a=0;a<j.length;a++)r=j[a],i.indexOf("pswp__"+r.name)>-1&&(g[r.option]?(e.removeClass(t,"pswp__element--disabled"),r.onInit&&r.onInit(t)):e.addClass(t,"pswp__element--disabled"))}};s(n.children);var o=e.getChildByClass(n,"pswp__top-bar");o&&s(o.children)};w.init=function(){e.extend(t.options,C,!0),g=t.options,n=e.getChildByClass(t.scrollWrap,"pswp__ui"),u=t.listen,V(),u("beforeChange",w.update),u("doubleTap",function(e){var i=t.currItem.initialZoomLevel;t.getZoomLevel()!==i?t.zoomTo(i,e,333):t.zoomTo(g.getDoubleTapZoom(!1,t.currItem),e,333)}),u("preventDragEvent",function(t,e,i){var n=t.target||t.srcElement;n&&n.getAttribute("class")&&t.type.indexOf("mouse")>-1&&(n.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(i.prevent=!1)}),u("bindEvents",function(){e.bind(n,"pswpTap click",L),e.bind(t.scrollWrap,"pswpTap",w.onGlobalTap),t.likelyTouchDevice||e.bind(t.scrollWrap,"mouseover",w.onMouseOver)}),u("unbindEvents",function(){x||T(),b&&clearInterval(b),e.unbind(document,"mouseout",z),e.unbind(document,"mousemove",O),e.unbind(n,"pswpTap click",L),e.unbind(t.scrollWrap,"pswpTap",w.onGlobalTap),e.unbind(t.scrollWrap,"mouseover",w.onMouseOver),i&&(e.unbind(document,i.eventK,w.updateFullscreen),i.isFullscreen()&&(g.hideAnimationDuration=0,i.exit()),i=null)}),u("destroy",function(){g.captionEl&&(s&&n.removeChild(s),e.removeClass(r,"pswp__caption--empty")),l&&(l.children[0].onclick=null),e.removeClass(n,"pswp__ui--over-close"),e.addClass(n,"pswp__ui--hidden"),w.setIdle(!1)}),g.showAnimationDuration||e.removeClass(n,"pswp__ui--hidden"),u("initialZoomIn",function(){g.showAnimationDuration&&e.removeClass(n,"pswp__ui--hidden")}),u("initialZoomOut",function(){e.addClass(n,"pswp__ui--hidden")}),u("parseVerticalMargin",N),U(),g.shareEl&&a&&l&&(x=!0),P(),R(),B(),H()},w.setIdle=function(t){d=t,A(n,"ui--idle",t)},w.update=function(){k&&t.currItem?(w.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(t.currItem,r),A(r,"caption--empty",!t.currItem.title)),E=!0):E=!1,x||T(),P()},w.updateFullscreen=function(n){n&&setTimeout(function(){t.setScrollOffset(0,e.getScrollY())},50),e[(i.isFullscreen()?"add":"remove")+"Class"](t.template,"pswp--fs")},w.updateIndexIndicator=function(){g.counterEl&&(o.innerHTML=t.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},w.onGlobalTap=function(i){var n=(i=i||window.event).target||i.srcElement;if(!v){if(i.detail&&"mouse"===i.detail.pointerType){if(D(n))return void t.close();e.hasClass(n,"pswp__img")&&(1===t.getZoomLevel()&&t.getZoomLevel()<=t.currItem.fitRatio?g.clickToCloseNonZoomable&&t.close():t.toggleDesktopZoom(i.detail.releasePoint))}else if(g.tapToToggleControls&&(k?w.hideControls():w.showControls()),g.tapToClose&&(e.hasClass(n,"pswp__img")||D(n)))return void t.close()}},w.onMouseOver=function(t){A(n,"ui--over-close",D((t=t||window.event).target||t.srcElement))},w.hideControls=function(){e.addClass(n,"pswp__ui--hidden"),k=!1},w.showControls=function(){k=!0,E||w.update(),e.removeClass(n,"pswp__ui--hidden")},w.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},w.getFullscreenAPI=function(){var e,i=document.documentElement,n="fullscreenchange";return i.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:i.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:i.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:i.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?t.template[this.enterK]():void t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return -1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||[])[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return -1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,r=i[n];e=e||[];for(var s=this._onceEvents&&this._onceEvents[t];r;){var o=s&&s[r];o&&(this.off(t,r),delete s[r]),r.apply(this,e),n+=o?0:1,r=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t,e,r){return this instanceof n?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=function t(e){var i=[];if(Array.isArray(e))i=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)i.push(e[n]);else i.push(e);return i}(t),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),o&&(this.jqDeferred=new o.Deferred),void setTimeout((function(){this.check()}).bind(this))):new n(t,e,r)}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var o=t.jQuery,a=t.console;n.prototype=Object.create(e.prototype),n.prototype.options={},n.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},n.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var r=i[n];this.addImage(r)}if("string"==typeof this.options.background){var s=t.querySelectorAll(this.options.background);for(n=0;n<s.length;n++){var o=s[n];this.addElementBackgroundImages(o)}}}};var l={1:!0,9:!0,11:!0};return n.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var r=n&&n[2];r&&this.addBackground(r,t),n=i.exec(e.backgroundImage)}},n.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},n.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},n.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},n.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},n.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},n.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((o=e).fn.imagesLoaded=function(t,e){return new n(this,t,e).jqDeferred.promise(o(this))})},n.makeJQueryPlugin(),n}),PaloAlto.isInViewport=function(t){if(t){let e=t.getBoundingClientRect(),i=e.top<=window.innerHeight&&e.top+e.height>=0,n=e.left<=window.innerWidth&&e.left+e.width>=0;return i&&n}},(function(){function t(t){return z(t)&&tc.call(t,"callee")&&!tf.call(t,"callee")}function e(t,e){return t.push.apply(t,e),t}function i(t){return function(e){return null==e?Z:e[t]}}function n(t){return t instanceof r?t:new r(t)}function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e}function s(t,e,i){if("function"!=typeof t)throw TypeError("Expected a function");return setTimeout(function(){t.apply(Z,i)},e)}function o(t,e,i){for(var n=-1,r=t.length;++n<r;){var s=t[n],o=e(s);if(null!=o&&(a===Z?o==o:i(o,a)))var a=o,l=s}return l}function a(t,e){var i=[];return tS(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i}function l(t,i,n,r,s){var o=-1,a=t.length;for(n||(n=k),s||(s=[]);++o<a;){var c=t[o];0<i&&n(c)?1<i?l(c,i-1,n,r,s):e(s,c):r||(s[s.length]=c)}return s}function c(t,e){return t&&t$(t,e,t8)}function d(t,e){return a(e,function(e){return M(t[e])})}function u(t,e){return t>e}function h(t,e,i,n,r){return t===e||(null!=t&&null!=e&&(z(t)||z(e))?function t(e,i,n,r,s,o){var a=tL(e),l=tL(i),c=a?"[object Array]":tu.call(e),d=l?"[object Array]":tu.call(i),c="[object Arguments]"==c?"[object Object]":c,d="[object Arguments]"==d?"[object Object]":d,u="[object Object]"==c,l="[object Object]"==d,d=c==d;o||(o=[]);var h=tE(o,function(t){return t[0]==e}),p=tE(o,function(t){return t[0]==i});if(h&&p)return h[1]==i;if(o.push([e,i]),o.push([i,e]),d&&!u){if(a)n=function t(e,i,n,r,s,o){var a=e.length,l=i.length;if(a!=l&&!(1&n&&l>a))return!1;for(var l=-1,c=!0,d=2&n?[]:Z;++l<a;){var u=e[l],h=i[l];if(void 0!==Z){c=!1;break}if(d){if(!S(i,function(t,e){if(!P(d,e)&&(u===t||s(u,t,n,r,o)))return d.push(e)})){c=!1;break}}else if(u!==h&&!s(u,h,n,r,o)){c=!1;break}}return c}(e,i,n,r,s,o);else n:{switch(c){case"[object Boolean]":case"[object Date]":case"[object Number]":n=F(+e,+i);break n;case"[object Error]":n=e.name==i.name&&e.message==i.message;break n;case"[object RegExp]":case"[object String]":n=e==i+"";break n}n=!1}return o.pop(),n}return!(1&n)&&(a=u&&tc.call(e,"__wrapped__"),c=l&&tc.call(i,"__wrapped__"),a||c)?(a=a?e.value():e,c=c?i.value():i,n=s(a,c,n,r,o),o.pop(),n):!!d&&(n=function t(e,i,n,r,s,o){var a=1&n,l=t8(e),c=l.length,d=t8(i).length;if(c!=d&&!a)return!1;for(var u=c;u--;){var h=l[u];if(!(a?h in i:tc.call(i,h)))return!1}for(d=!0;++u<c;){var h=l[u],p=e[h],f=i[h];if(void 0!==Z||p!==f&&!s(p,f,n,r,o)){d=!1;break}a||(a="constructor"==h)}return d&&!a&&(n=e.constructor)!=(r=i.constructor)&&"constructor"in e&&"constructor"in i&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(d=!1),d}(e,i,n,r,s,o),o.pop(),n)}(t,e,i,n,h,r):t!=t&&e!=e)}function p(t){return"function"==typeof t?t:null==t?R:("object"==typeof t?g:i)(t)}function f(t,e){return t<e}function m(t,e){var i=-1,n=D(t)?Array(t.length):[];return tS(t,function(t,r,s){n[++i]=e(t,r,s)}),n}function g(t){var e=tg(t);return function(i){var n=e.length;if(null==i)return!n;for(i=Object(i);n--;){var r=e[n];if(!(r in i&&h(t[r],i[r],3)))return!1}return!0}}function v(t){return tw(C(t,void 0,R),t+"")}function y(t,e,i){var n=-1,r=t.length;for(0>e&&(e=-e>r?0:r+e),0>(i=i>r?r:i)&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0,i=Array(r);++n<r;)i[n]=t[n+e];return i}function b(t){return y(t,0,t.length)}function S(t,e){var i;return tS(t,function(t,n,r){return!(i=e(t,n,r))}),!!i}function w(t,e,i){var n=!i;i||(i={});for(var r=-1,s=e.length;++r<s;){var o=e[r],a=Z;if(a===Z&&(a=t[o]),n)i[o]=a;else{var l=i,c=l[o];tc.call(l,o)&&F(c,a)&&(a!==Z||o in l)||(l[o]=a)}}return i}function E(t){return v(function(e,i){var n=-1,r=i.length,s=1<r?i[r-1]:Z,s=3<t.length&&"function"==typeof s?(r--,s):Z;for(e=Object(e);++n<r;){var o=i[n];o&&t(e,o,n,s)}return e})}function k(e){return tL(e)||t(e)}function x(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}function C(t,e,i){return e=tv(e===Z?t.length-1:e,0),function(){for(var n=arguments,r=-1,s=tv(n.length-e,0),o=Array(s);++r<s;)o[r]=n[e+r];for(r=-1,s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=i(o),t.apply(this,s)}}function L(t){return(null==t?0:t.length)?l(t,1):[]}function A(t){return t&&t.length?t[0]:Z}function P(t,e,i){var n=null==t?0:t.length;i=((i="number"==typeof i?0>i?tv(n+i,0):i:0)||0)-1;for(var r=e==e;++i<n;){var s=t[i];if(r?s===e:s!=s)return i}return -1}function I(t,e){return tS(t,p(e))}function T(t,e,i){var n,r,s,o,a;return n=t,r=p(e),s=i,o=3>arguments.length,(a=tS)(n,function(t,e,i){s=o?(o=!1,t):r(s,t,e,i)}),s}function q(t,e){var i;if("function"!=typeof e)throw TypeError("Expected a function");return t=t_(t),function(){return 0<--t&&(i=e.apply(this,arguments)),1>=t&&(e=Z),i}}function F(t,e){return t===e||t!=t&&e!=e}function D(t){var e;return(e=null!=t)&&(e="number"==typeof(e=t.length)&&-1<e&&0==e%1&&9007199254740991>=e),e&&!M(t)}function M(t){return!!O(t)&&("[object Function]"==(t=tu.call(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function O(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function z(t){return null!=t&&"object"==typeof t}function B(t){return"number"==typeof t||z(t)&&"[object Number]"==tu.call(t)}function H(t){return"string"==typeof t||!tL(t)&&z(t)&&"[object String]"==tu.call(t)}function W(t){return"string"==typeof t?t:null==t?"":t+""}function N(t){var e,i;return null==t?[]:(e=t,i=t8(t),m(i,function(t){return e[t]}))}function R(t){return t}function V(t,i,n){var r=t8(i),s=d(i,r);null!=n||O(i)&&(s.length||!r.length)||(n=i,i=t,t=this,s=d(i,t8(i)));var o=!(O(n)&&"chain"in n&&!n.chain),a=M(t);return tS(s,function(n){var r=i[n];t[n]=r,a&&(t.prototype[n]=function(){var i=this.__chain__;if(o||i){var n=t(this.__wrapped__);return(n.__actions__=b(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=i,n}return r.apply(t,e([this.value()],arguments))})}),t}var j,U,G,Z,K,Y,Q,X,J=1/0,tt=/[&<>"']/g,te=RegExp(tt.source),ti=/^(?:0|[1-9]\d*)$/,tn="object"==typeof self&&self&&self.Object===Object&&self,tr="object"==typeof global&&global&&global.Object===Object&&global||tn||Function("return this")(),ts=(tn="object"==typeof exports&&exports&&!exports.nodeType&&exports)&&"object"==typeof module&&module&&!module.nodeType&&module,to=(j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(t){return null==j?Z:j[t]}),ta=Array.prototype,tl=Object.prototype,tc=tl.hasOwnProperty,td=0,tu=tl.toString,th=tr._,tp=Object.create,tf=tl.propertyIsEnumerable,tm=tr.isFinite,tg=(U=Object.keys,G=Object,function(t){return U(G(t))}),tv=Math.max,ty=function(){function t(){}return function(e){return O(e)?tp?tp(e):(t.prototype=e,e=new t,t.prototype=Z,e):{}}}();r.prototype=ty(n.prototype),r.prototype.constructor=r;var tb,tS=(K=c,function(t,e){if(null==t)return t;if(!D(t))return K(t,e);for(var i=t.length,n=Y?i:-1,r=Object(t);(Y?n--:++n<i)&&!1!==e(r[n],n,r););return t}),t$=function(t,e,i){var n=-1,r=Object(t);i=i(t);for(var s=i.length;s--;){var o=i[++n];if(!1===e(r[o],o,r))break}return t},tw=R,tE=(Q=function(t,e,i){var n=null==t?0:t.length;if(!n)return -1;0>(i=null==i?0:t_(i))&&(i=tv(n+i,0));n:{for(e=p(e),n=t.length,i+=-1;++i<n;)if(e(t[i],i,t)){t=i;break n}t=-1}return t},function(t,e,i){var n=Object(t);if(!D(t)){var r=p(e);t=t8(t),e=function(t){return r(n[t],t,n)}}return -1<(e=Q(t,e,i))?n[r?t[e]:e]:Z}),tk=v(function(t,e,i){return function t(e,i,n){if("function"!=typeof e)throw TypeError("Expected a function");var r,s=(r=e,function(){var t=arguments,e=ty(r.prototype),t=r.apply(e,t);return O(t)?t:e});return function t(){for(var r=-1,o=arguments.length,a=-1,l=n.length,c=Array(l+o),d=this&&this!==tr&&this instanceof t?s:e;++a<l;)c[a]=n[a];for(;o--;)c[a++]=arguments[++r];return d.apply(i,c)}}(t,e,i)}),tx=v(function(t,e){return s(t,1,e)}),tC=v(function(t,e,i){return s(t,tA(e)||0,i)}),tL=Array.isArray,t_=Number,tA=Number,tP=E(function(t,e){w(e,tg(e),t)}),tI=E(function(t,e){w(e,x(e),t)}),tT=v(function(t,e){t=Object(t);var i,n=-1,r=e.length,s=2<r?e[2]:Z;if(i=s){i=e[0];var o=e[1];if(O(s)){var a=typeof o;if("number"==a){if(a=D(s))var a=s.length,l=typeof o,a=null==a?9007199254740991:a,a=!!a&&("number"==l||"symbol"!=l&&ti.test(o))&&-1<o&&0==o%1&&o<a}else a="string"==a&&o in s;i=!!a&&F(s[o],i)}else i=!1}for(i&&(r=1);++n<r;)for(i=tq(s=e[n]),o=-1,a=i.length;++o<a;){var l=i[o],c=t[l];(c===Z||F(c,tl[l])&&!tc.call(t,l))&&(t[l]=s[l])}return t}),t8=tg,tq=x,tF=tw(C(X=function(t,e){var i,n;return null==t?{}:(i=t,n=e,i=Object(i),T(n,function(t,e){return e in i&&(t[e]=i[e]),t},{}))},Z,L),X+"");n.assignIn=tI,n.before=q,n.bind=tk,n.chain=function(t){return(t=n(t)).__chain__=!0,t},n.compact=function(t){return a(t,Boolean)},n.concat=function(){var t=arguments.length;if(!t)return[];for(var i=Array(t-1),n=arguments[0];t--;)i[t-1]=arguments[t];return e(tL(n)?b(n):[n],l(i,1))},n.create=function(t,e){var i=ty(t);return null==e?i:tP(i,e)},n.defaults=tT,n.defer=tx,n.delay=tC,n.filter=function(t,e){return a(t,p(e))},n.flatten=L,n.flattenDeep=function(t){return(null==t?0:t.length)?l(t,J):[]},n.iteratee=p,n.keys=t8,n.map=function(t,e){return m(t,p(e))},n.matches=function(t){return g(tP({},t))},n.mixin=V,n.negate=function(t){if("function"!=typeof t)throw TypeError("Expected a function");return function(){return!t.apply(this,arguments)}},n.once=function(t){return q(2,t)},n.pick=tF,n.slice=function(t,e,i){var n=null==t?0:t.length;return i=i===Z?n:+i,n?y(t,null==e?0:+e,i):[]},n.sortBy=function(t,e){var n=0;return e=p(e),m(m(t,function(t,i,r){return{value:t,index:n++,criteria:e(t,i,r)}}).sort(function(t,e){var i;n:{i=t.criteria;var n=e.criteria;if(i!==n){var r=i!==Z,s=null===i,o=i==i,a=n!==Z,l=null===n,c=n==n;if(!l&&i>n||s&&a&&c||!r&&c||!o){i=1;break n}if(!s&&i<n||l&&r&&o||!a&&o||!c){i=-1;break n}}i=0}return i||t.index-e.index}),i("value"))},n.tap=function(t,e){return e(t),t},n.thru=function(t,e){return e(t)},n.toArray=function(t){return D(t)?t.length?b(t):[]:N(t)},n.values=N,n.extend=tI,V(n,n),n.clone=function(t){return O(t)?tL(t)?b(t):w(t,tg(t)):t},n.escape=function(t){return(t=W(t))&&te.test(t)?t.replace(tt,to):t},n.every=function(t,e,i){var n,r,s;return e=i?Z:e,n=t,r=p(e),s=!0,tS(n,function(t,e,i){return s=!!r(t,e,i)}),s},n.find=tE,n.forEach=I,n.has=function(t,e){return null!=t&&tc.call(t,e)},n.head=A,n.identity=R,n.indexOf=P,n.isArguments=t,n.isArray=tL,n.isBoolean=function(t){return!0===t||!1===t||z(t)&&"[object Boolean]"==tu.call(t)},n.isDate=function(t){return z(t)&&"[object Date]"==tu.call(t)},n.isEmpty=function(e){return D(e)&&(tL(e)||H(e)||M(e.splice)||t(e))?!e.length:!tg(e).length},n.isEqual=function(t,e){return h(t,e)},n.isFinite=function(t){return"number"==typeof t&&tm(t)},n.isFunction=M,n.isNaN=function(t){return B(t)&&t!=+t},n.isNull=function(t){return null===t},n.isNumber=B,n.isObject=O,n.isRegExp=function(t){return z(t)&&"[object RegExp]"==tu.call(t)},n.isString=H,n.isUndefined=function(t){return t===Z},n.last=function(t){var e=null==t?0:t.length;return e?t[e-1]:Z},n.max=function(t){return t&&t.length?o(t,R,u):Z},n.min=function(t){return t&&t.length?o(t,R,f):Z},n.noConflict=function(){return tr._===this&&(tr._=th),this},n.noop=function(){},n.reduce=T,n.result=function(t,e,i){return(e=null==t?Z:t[e])===Z&&(e=i),M(e)?e.call(t):e},n.size=function(t){return null==t?0:(t=D(t)?t:tg(t)).length},n.some=function(t,e,i){return e=i?Z:e,S(t,p(e))},n.uniqueId=function(t){var e=++td;return W(t)+e},n.each=I,n.first=A,V(n,(tb={},c(n,function(t,e){tc.call(n.prototype,e)||(tb[e]=t)}),tb),{chain:!1}),n.VERSION="4.17.15",tS("pop join replace reverse split push shift sort splice unshift".split(" "),function(t){var e=(/^(?:replace|split)$/.test(t)?String.prototype:ta)[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|join|replace|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var n=this.value();return e.apply(tL(n)?n:[],t)}return this[i](function(i){return e.apply(tL(i)?i:[],t)})}}),n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){var t,i;return t=this.__wrapped__,T(i=this.__actions__,function(t,i){return i.func.apply(i.thisArg,e([t],i.args))},t)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?(tr._=n,define(function(){return n})):ts?((ts.exports=n)._=n,tn._=n):tr._=n}).call(this),PaloAlto.Listeners={add:function(t,e,i){this.entries=[],this.entries.push({element:t,event:e,fn:i}),t.addEventListener(e,i)},removeAll:function(t){this.entries=this.entries.filter(function(t){return t.element.removeEventListener(t.event,t.fn),!1})}},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(t){var e,i,n,r,s,o,a="Close",l="BeforeClose",c="MarkupParse",d="Open",u="Change",h=".mfp",p="mfp-ready",f="mfp-removing",m="mfp-prevent-close",g=function(){},v=!!window.jQuery,y=t(window),b=function(t,i){e.ev.on("mfp"+t+h,i)},S=function(e,i,n,r){var s=document.createElement("div");return s.className="mfp-"+e,n&&(s.innerHTML=n),r?i&&i.appendChild(s):(s=t(s),i&&s.appendTo(i)),s},w=function(i,n){e.ev.triggerHandler("mfp"+i,n),e.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),e.st.callbacks[i]&&e.st.callbacks[i].apply(e,t.isArray(n)?n:[n]))},E=function(i){return i===o&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),o=i),e.currTemplate.closeBtn},k=function(){t.magnificPopup.instance||((e=new g).init(),t.magnificPopup.instance=e)},x=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition" in t)return!0;return!1};g.prototype={constructor:g,init:function(){var i=navigator.appVersion;e.isLowIE=e.isIE8=document.all&&!document.addEventListener,e.isAndroid=/android/gi.test(i),e.isIOS=/iphone|ipad|ipod/gi.test(i),e.supportsTransition=x(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=t(document),e.popupsCache={}},open:function(i){if(!1===i.isObj){e.items=i.items.toArray(),e.index=0;var r,o,a=i.items;for(r=0;r<a.length;r++)if((o=a[r]).parsed&&(o=o.el[0]),o===i.el[0]){e.index=r;break}}else e.items=t.isArray(i.items)?i.items:[i.items],e.index=i.index||0;if(e.isOpen)return void e.updateItemHTML();e.types=[],s="",i.mainEl&&i.mainEl.length?e.ev=i.mainEl.eq(0):e.ev=n,i.key?(e.popupsCache[i.key]||(e.popupsCache[i.key]={}),e.currTemplate=e.popupsCache[i.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,i),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=S("bg").on("click"+h,function(){e.close()}),e.wrap=S("wrap").attr("tabindex",-1).on("mousedown"+h,function(t){e._checkIfClose(t.target)&&e.close()}),e.container=S("container",e.wrap)),e.contentContainer=S("content"),e.st.preloader&&(e.preloader=S("preloader",e.container,e.st.tLoading));var l=t.magnificPopup.modules;for(r=0;r<l.length;r++){var u=l[r];e["init"+(u=u.charAt(0).toUpperCase()+u.slice(1))].call(e)}w("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(b(c,function(t,e,i,n){i.close_replaceWith=E(n.type)}),s+=" mfp-close-btn-in"):e.wrap.append(E())),e.st.alignTop&&(s+=" mfp-align-top"),e.fixedContentPos?e.wrap.css({overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}):e.wrap.css({top:y.scrollTop(),position:"absolute"}),!1!==e.st.fixedBgPos&&("auto"!==e.st.fixedBgPos||e.fixedContentPos)||e.bgOverlay.css({height:n.height(),position:"absolute"}),e.st.enableEscapeKey&&n.on("keyup"+h,function(t){27===t.keyCode&&e.close()}),y.on("resize"+h,function(){e.updateSize()}),e.st.closeOnContentClick||(s+=" mfp-auto-cursor"),s&&e.wrap.addClass(s);var f=e.wH=y.height(),m={};if(e.fixedContentPos&&e._hasScrollBar(f)){var g=e._getScrollbarSize();g&&(m.marginRight=g)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):m.overflow="hidden");var v=e.st.mainClass;return e.isIE7&&(v+=" mfp-ie7"),v&&e._addClassToMFP(v),e.updateItemHTML(),w("BuildControls"),t("html").css(m),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||t(document.body)),e._lastFocusedEl=document.activeElement,setTimeout(function(){e.content?(e._addClassToMFP(p),e._setFocus()):e.bgOverlay.addClass(p),n.on("focusin"+h,e._onFocusIn)},16),e.isOpen=!0,e.updateSize(f),w(d),i},close:function(){e.isOpen&&(w(l),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(f),setTimeout(function(){e._close()},e.st.removalDelay)):e._close())},_close:function(){w(a);var i=f+" "+p+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(i+=e.st.mainClass+" "),e._removeClassFromMFP(i),e.fixedContentPos){var r={marginRight:""};e.isIE7?t("body, html").css("overflow",""):r.overflow="",t("html").css(r)}n.off("keyup"+h+" focusin"+h),e.ev.off(h),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&!0!==e.currTemplate[e.currItem.type]||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e.st.autoFocusLast&&e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,w("AfterClose")},updateSize:function(t){if(e.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;e.wrap.css("height",n),e.wH=n}else e.wH=t||y.height();e.fixedContentPos||e.wrap.css("height",e.wH),w("Resize")},updateItemHTML:function(){var i=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),i.parsed||(i=e.parseEl(e.index));var n=i.type;if(w("BeforeChange",[e.currItem?e.currItem.type:"",n]),e.currItem=i,!e.currTemplate[n]){var s=!!e.st[n]&&e.st[n].markup;w("FirstMarkupParse",s),s?e.currTemplate[n]=t(s):e.currTemplate[n]=!0}r&&r!==i.type&&e.container.removeClass("mfp-"+r+"-holder");var o=e["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,e.currTemplate[n]);e.appendContent(o,n),i.preloaded=!0,w(u,i),r=i.type,e.container.prepend(e.contentContainer),w("AfterChange")},appendContent:function(t,i){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&!0===e.currTemplate[i]?e.content.find(".mfp-close").length||e.content.append(E()):e.content=t:e.content="",w("BeforeAppend"),e.container.addClass("mfp-"+i+"-holder"),e.contentContainer.append(e.content)},parseEl:function(i){var n,r=e.items[i];if(r.tagName?r={el:t(r)}:(n=r.type,r={data:r,src:r.src}),r.el){for(var s=e.types,o=0;o<s.length;o++)if(r.el.hasClass("mfp-"+s[o])){n=s[o];break}r.src=r.el.attr("data-mfp-src"),r.src||(r.src=r.el.attr("href"))}return r.type=n||e.st.type||"inline",r.index=i,r.parsed=!0,e.items[i]=r,w("ElementParse",r),e.items[i]},addGroup:function(t,i){var n=function(n){n.mfpEl=this,e._openClick(n,t,i)};i||(i={});var r="click.magnificPopup";i.mainEl=t,i.items?(i.isObj=!0,t.off(r).on(r,n)):(i.isObj=!1,i.delegate?t.off(r).on(r,i.delegate,n):(i.items=t,t.off(r).on(r,n)))},_openClick:function(i,n,r){if((void 0!==r.midClick?r.midClick:t.magnificPopup.defaults.midClick)||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var s=void 0!==r.disableOn?r.disableOn:t.magnificPopup.defaults.disableOn;if(s){if(t.isFunction(s)){if(!s.call(e))return!0}else if(y.width()<s)return!0}i.type&&(i.preventDefault(),e.isOpen&&i.stopPropagation()),r.el=t(i.mfpEl),r.delegate&&(r.items=n.find(r.delegate)),e.open(r)}},updateStatus:function(t,n){if(e.preloader){i!==t&&e.container.removeClass("mfp-s-"+i),n||"loading"!==t||(n=e.st.tLoading);var r={status:t,text:n};w("UpdateStatus",r),t=r.status,n=r.text,e.preloader.html(n),e.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),e.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(i){if(!t(i).hasClass(m)){var n=e.st.closeOnContentClick,r=e.st.closeOnBgClick;if(n&&r||!e.content||t(i).hasClass("mfp-close")||e.preloader&&i===e.preloader[0])return!0;if(i===e.content[0]||t.contains(e.content[0],i)){if(n)return!0}else if(r&&t.contains(document,i))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?n.height():document.body.scrollHeight)>(t||y.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(i){return i.target===e.wrap[0]||t.contains(e.wrap[0],i.target)?void 0:(e._setFocus(),!1)},_parseMarkup:function(e,i,n){var r;n.data&&(i=t.extend(n.data,i)),w(c,[e,i,n]),t.each(i,function(i,n){if(void 0===n||!1===n)return!0;if((r=i.split("_")).length>1){var s=e.find(h+"-"+r[0]);if(s.length>0){var o=r[1];"replaceWith"===o?s[0]!==n[0]&&s.replaceWith(n):"img"===o?s.is("img")?s.attr("src",n):s.replaceWith(t("<img>").attr("src",n).attr("class",s.attr("class"))):s.attr(r[1],n)}}else e.find(h+"-"+i).html(n)})},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:g.prototype,modules:[],open:function(e,i){return k(),(e=e?t.extend(!0,{},e):{}).isObj=!0,e.index=i||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,i){i.options&&(t.magnificPopup.defaults[e]=i.options),t.extend(this.proto,i.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},t.fn.magnificPopup=function(i){k();var n=t(this);if("string"==typeof i){if("open"===i){var r,s=v?n.data("magnificPopup"):n[0].magnificPopup,o=parseInt(arguments[1],10)||0;s.items?r=s.items[o]:(r=n,s.delegate&&(r=r.find(s.delegate)),r=r.eq(o)),e._openClick({mfpEl:r},n,s)}else e.isOpen&&e[i].apply(e,Array.prototype.slice.call(arguments,1))}else i=t.extend(!0,{},i),v?n.data("magnificPopup",i):n[0].magnificPopup=i,e.addGroup(n,i);return n};var C,L,A,P="inline",I=function(){A&&(L.after(A.addClass(C)).detach(),A=null)};t.magnificPopup.registerModule(P,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(P),b(a+"."+P,function(){I()})},getInline:function(i,n){if(I(),i.src){var r=e.st.inline,s=t(i.src);if(s.length){var o=s[0].parentNode;o&&o.tagName&&(L||(L=S(C=r.hiddenClass),C="mfp-"+C),A=s.after(L).detach().removeClass(C)),e.updateStatus("ready")}else e.updateStatus("error",r.tNotFound),s=t("<div>");return i.inlineElement=s,s}return e.updateStatus("ready"),e._parseMarkup(n,{},i),n}}});var T,q="ajax",F=function(){T&&t(document.body).removeClass(T)},D=function(){F(),e.req&&e.req.abort()};t.magnificPopup.registerModule(q,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(q),T=e.st.ajax.cursor,b(a+"."+q,D),b("BeforeChange."+q,D)},getAjax:function(i){T&&t(document.body).addClass(T),e.updateStatus("loading");var n=t.extend({url:i.src,success:function(n,r,s){var o={data:n,xhr:s};w("ParseAjax",o),e.appendContent(t(o.data),q),i.finished=!0,F(),e._setFocus(),setTimeout(function(){e.wrap.addClass(p)},16),e.updateStatus("ready"),w("AjaxContentAdded")},error:function(){F(),i.finished=i.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",i.src))}},e.st.ajax.settings);return e.req=t.ajax(n),""}}});var M,O,z=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=e.st.image.titleSrc;if(n){if(t.isFunction(n))return n.call(e,i);if(i.el)return i.el.attr(n)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=e.st.image,n=".image";e.types.push("image"),b(d+n,function(){"image"===e.currItem.type&&i.cursor&&t(document.body).addClass(i.cursor)}),b(a+n,function(){i.cursor&&t(document.body).removeClass(i.cursor),y.off("resize"+h)}),b("Resize"+n,e.resizeImage),e.isLowIE&&b("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var i=0;e.isLowIE&&(i=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-i)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,M&&clearInterval(M),t.isCheckingImgSize=!1,w("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0],r=function(s){M&&clearInterval(M),M=setInterval(function(){return n.naturalWidth>0?void e._onImageHasSize(t):(i>200&&clearInterval(M),void(3==++i?r(10):40===i?r(50):100===i&&r(500)))},s)};r(1)},getImage:function(i,n){var r=0,s=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,w("ImageLoadComplete")):200>++r?setTimeout(s,100):o())},o=function(){i&&(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("error",a.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},a=e.st.image,l=n.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",i.el&&i.el.find("img").length&&(c.alt=i.el.find("img").attr("alt")),i.img=t(c).on("load.mfploader",s).on("error.mfploader",o),c.src=i.src,l.is("img")&&(i.img=i.img.clone()),(c=i.img[0]).naturalWidth>0?i.hasSize=!0:c.width||(i.hasSize=!1)}return e._parseMarkup(n,{title:z(i),img_replaceWith:i.img},i),e.resizeImage(),i.hasSize?(M&&clearInterval(M),i.loadError?(n.addClass("mfp-loading"),e.updateStatus("error",a.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),e.updateStatus("ready")),n):(e.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),e.findImageSize(i)),n)}}}),t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,i=e.st.zoom,n=".zoom";if(i.enabled&&e.supportsTransition){var r,s,o=i.duration,c=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},s="transition";return r["-webkit-"+s]=r["-moz-"+s]=r["-o-"+s]=r[s]=n,e.css(r),e},d=function(){e.content.css("visibility","visible")};b("BuildControls"+n,function(){if(e._allowZoom()){if(clearTimeout(r),e.content.css("visibility","hidden"),!(t=e._getItemToZoom()))return void d();(s=c(t)).css(e._getOffset()),e.wrap.append(s),r=setTimeout(function(){s.css(e._getOffset(!0)),r=setTimeout(function(){d(),setTimeout(function(){s.remove(),t=s=null,w("ZoomAnimationEnded")},16)},o)},16)}}),b(l+n,function(){if(e._allowZoom()){if(clearTimeout(r),e.st.removalDelay=o,!t){if(!(t=e._getItemToZoom()))return;s=c(t)}s.css(e._getOffset(!0)),e.wrap.append(s),e.content.css("visibility","hidden"),setTimeout(function(){s.css(e._getOffset())},16)}}),b(a+n,function(){e._allowZoom()&&(d(),s&&s.remove(),t=null)})}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return!!e.currItem.hasSize&&e.currItem.img},_getOffset:function(i){var n,r=(n=i?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem)).offset(),s=parseInt(n.css("padding-top"),10),o=parseInt(n.css("padding-bottom"),10);r.top-=t(window).scrollTop()-s;var a={width:n.width(),height:(v?n.innerHeight():n[0].offsetHeight)-o-s};return(void 0===O&&(O=void 0!==document.createElement("p").style.MozTransform),O)?a["-moz-transform"]=a.transform="translate("+r.left+"px,"+r.top+"px)":(a.left=r.left,a.top=r.top),a}}});var B="iframe",H=function(t){if(e.currTemplate[B]){var i=e.currTemplate[B].find("iframe");i.length&&(t||(i[0].src="//about:blank"),e.isIE8&&i.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(B,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(B),b("BeforeChange",function(t,e,i){e!==i&&(e===B?H():i===B&&H(!0))}),b(a+"."+B,function(){H()})},getIframe:function(i,n){var r=i.src,s=e.st.iframe;t.each(s.patterns,function(){return r.indexOf(this.index)>-1?(this.id&&(r="string"==typeof this.id?r.substr(r.lastIndexOf(this.id)+this.id.length,r.length):this.id.call(this,r)),r=this.src.replace("%id%",r),!1):void 0});var o={};return s.srcAction&&(o[s.srcAction]=r),e._parseMarkup(n,o,i),e.updateStatus("ready"),n}}});var W=function(t){var i=e.items.length;return t>i-1?t-i:0>t?i+t:t},N=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=e.st.gallery,r=".mfp-gallery";return e.direction=!0,!!i&&!!i.enabled&&(s+=" mfp-gallery",b(d+r,function(){i.navigateByImgClick&&e.wrap.on("click"+r,".mfp-img",function(){return e.items.length>1?(e.next(),!1):void 0}),n.on("keydown"+r,function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()})}),b("UpdateStatus"+r,function(t,i){i.text&&(i.text=N(i.text,e.currItem.index,e.items.length))}),b(c+r,function(t,n,r,s){var o=e.items.length;r.counter=o>1?N(i.tCounter,s.index,o):""}),b("BuildControls"+r,function(){if(e.items.length>1&&i.arrows&&!e.arrowLeft){var n=i.arrowMarkup,r=e.arrowLeft=t(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(m),s=e.arrowRight=t(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(m);r.click(function(){e.prev()}),s.click(function(){e.next()}),e.container.append(r.add(s))}}),b(u+r,function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout(function(){e.preloadNearbyImages(),e._preloadTimeout=null},16)}),void b(a+r,function(){n.off(r),e.wrap.off("click"+r),e.arrowRight=e.arrowLeft=null}))},next:function(){e.direction=!0,e.index=W(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=W(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,i=e.st.gallery.preload,n=Math.min(i[0],e.items.length),r=Math.min(i[1],e.items.length);for(t=1;t<=(e.direction?r:n);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?n:r);t++)e._preloadItem(e.index-t)},_preloadItem:function(i){if(i=W(i),!e.items[i].preloaded){var n=e.items[i];n.parsed||(n=e.parseEl(i)),w("LazyLoad",n),"image"===n.type&&(n.img=t('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,w("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var R="retina";t.magnificPopup.registerModule(R,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,i=t.ratio;(i=isNaN(i)?i():i)>1&&(b("ImageHasSize."+R,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/i,width:"100%"})}),b("ElementParse."+R,function(e,n){n.src=t.replaceSrc(n,i)}))}}}}),k()}),PaloAlto.Modals=function(){function t(t,e,i){if(this.modal=document.getElementById(t),!this.modal)return!1;this.nodes={parents:[document.querySelector("html"),document.body]},this.config=Object.assign({close:".js-modal-close",open:".js-modal-open-"+e,openClass:"modal--is-active",openBodyClass:"modal--is-visible",closeModalOnClick:!1,scrollIntoView:!1},i),this.modalIsOpen=!1,this.focusOnOpen=this.config.focusOnOpen?document.getElementById(this.config.focusOnOpen):this.modal,this.openElement=document.querySelector(this.config.open),this.init()}return t.prototype.init=function(){this.openElement.addEventListener("click",this.open.bind(this)),this.modal.querySelector(this.config.close).addEventListener("click",this.closeModal.bind(this))},t.prototype.open=function(t){let e=!1;if(t?t.preventDefault():e=!0,this.modalIsOpen&&!e){this.closeModal();return}this.modal.classList.add(this.config.openClass),this.nodes.parents.forEach(t=>{t.classList.add(this.config.openBodyClass)}),this.modalIsOpen=!0;let i=document.querySelector(".store-availabilities-list");document.dispatchEvent(new CustomEvent("theme:scroll:lock",{bubbles:!0,detail:i})),this.config.scrollIntoView&&this.scrollIntoView(),this.bindEvents()},t.prototype.closeModal=function(){if(this.modalIsOpen){document.activeElement.blur(),this.modal.classList.remove(this.config.openClass);var t=this;this.nodes.parents.forEach(function(e){e.classList.remove(t.config.openBodyClass)}),this.modalIsOpen=!1,this.openElement.focus(),this.unbindEvents(),document.dispatchEvent(new CustomEvent("theme:scroll:unlock",{bubbles:!0,detail:400}))}},t.prototype.bindEvents=function(){this.keyupHandler=this.keyupHandler.bind(this),this.clickHandler=this.clickHandler.bind(this),document.body.addEventListener("keyup",this.keyupHandler),document.body.addEventListener("click",this.clickHandler)},t.prototype.unbindEvents=function(){document.body.removeEventListener("keyup",this.keyupHandler),document.body.removeEventListener("click",this.clickHandler)},t.prototype.keyupHandler=function(t){27===t.keyCode&&this.closeModal()},t.prototype.clickHandler=function(t){!this.config.closeModalOnClick||this.modal.contains(t.target)||t.target.matches(this.config.open)||this.closeModal()},t.prototype.scrollIntoView=function(){this.focusOnOpen.scrollIntoView({behavior:"smooth"})},t}(),function(t){t.fn.prepareTransition=function(){return this.each(function(){var e=t(this);e.one("TransitionEnd webkitTransitionEnd transitionend oTransitionEnd",function(){e.removeClass("is-transitioning")});var i=0;t.each(["transition-duration","-moz-transition-duration","-webkit-transition-duration","-o-transition-duration"],function(t,n){i||(i=parseFloat(e.css(n)))}),0!=i&&(e.addClass("is-transitioning"),e[0].offsetWidth)})}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.Rellax=e()}("undefined"!=typeof window?window:global,function(){var t=function(e,i){"use strict";var n=Object.create(t.prototype),r=0,s=0,o=[],a=!0,l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},c=null,d=!1;try{var u=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassive",null,u),window.removeEventListener("testPassive",null,u)}catch(h){}var p=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,f=window.transformProp||function(){var t=document.createElement("div");if(null===t.style.transform){var e,i=["Webkit","Moz","ms"];for(e in i)if(void 0!==t.style[i[e]+"Transform"])return i[e]+"Transform"}return"transform"}();if(n.options={round:!0,frame:null,callback:function(){}},i&&Object.keys(i).forEach(function(t){n.options[t]=i[t]}),0<(e="string"==typeof(e=e||".rellax")?document.querySelectorAll(e):[e]).length){if(n.elems=e,n.options.frame&&!n.options.frame.nodeType){if(!(e=document.querySelector(n.options.frame)))return void console.warn("Rellax: The frame you're trying to use doesn't exist.");n.options.frame=e}var m=function(){for(var t=0;t<o.length;t++)n.elems[t].style.cssText=o[t].style;o=[],s=window.innerHeight,window.innerWidth,v(),function(){for(var t=0;t<n.elems.length;t++){var e=g(n.elems[t]);o.push(e)}}(),S(),a&&(window.addEventListener("resize",m),a=!1,b())},g=function(t){var e=t.getAttribute("data-rellax-zindex")||0,i=0+t.getBoundingClientRect().top,n=t.clientHeight||t.offsetHeight||t.scrollHeight,r=0+t.getBoundingClientRect().left,s=t.clientWidth||t.offsetWidth||t.scrollWidth,o=t.style.cssText,a="",l=/transform\s*:/i.exec(o);return l&&(t=l.index,a=(t=(l=o.slice(t)).indexOf(";"))?" "+l.slice(11,t).replace(/\s/g,""):" "+l.slice(11).replace(/\s/g,"")),{top:i,left:r,height:n,width:s,style:o,transform:a,zindex:e}},v=function(){return r!=(r=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset)},y=function(){window.removeEventListener("resize",y),window.removeEventListener("orientationchange",y),window.removeEventListener("scroll",y),document.removeEventListener("touchmove",y),c=l(b)},b=function(){v()&&!1===a?(S(),c=l(b)):(c=null,window.addEventListener("resize",y),window.addEventListener("orientationchange",y),window.addEventListener("scroll",y,!!d&&{passive:!0}),document.addEventListener("touchmove",y,!!d&&{passive:!0}))},S=function(){for(var t=0;t<n.elems.length;t++){var e=n.elems[t].parentNode,i=e.clientHeight||e.offsetHeight||e.scrollHeight,a=e.getBoundingClientRect().top+r,l=i+a,c=o[t].height-i;if(l<r||r+s<a)return;var d=document.body,e=document.documentElement,e=Math.max(d.scrollHeight,d.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight),c="translate3d(0px,"+(a<s?-(c/(i+a)*(r+a-a))+c/2:e-l<s?-(c/(i+(e-l))*(r+s-a))+c/2:-(c/(i+s)*(r+s-a))+c/2)+"px,"+o[t].zindex+"px) "+o[t].transform;n.elems[t].style[f]=c}};return n.destroy=function(){for(var t=0;t<n.elems.length;t++)n.elems[t].style.cssText=o[t].style;a||(window.removeEventListener("resize",m),a=!0),p(c),c=null},m(),n.refresh=m,n}console.warn("Rellax: The elements you're trying to select don't exist.")};return t}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.scrollLock=e():t.scrollLock=e()}(this,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,(function(e){return t[e]}).bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n=function(t){return Array.isArray(t)?t:[t]},r=function(t){return t instanceof Node},s=function(t,e){if(t&&e){t=t instanceof NodeList?t:[t];for(var i=0;i<t.length&&!0!==e(t[i],i,t.length);i++);}},o=function(t){return console.error("[scroll-lock] ".concat(t))},a=function(t){if(Array.isArray(t))return t.join(", ")},l=function(t){var e=[];return s(t,function(t){return e.push(t)}),e},c=function(t,e){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:document;if(i&&-1!==l(n.querySelectorAll(e)).indexOf(t))return t;for(;(t=t.parentElement)&&-1===l(n.querySelectorAll(e)).indexOf(t););return t},d=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document;return -1!==l(i.querySelectorAll(e)).indexOf(t)},u=function(t){if(t)return"hidden"===getComputedStyle(t).overflow},h=function(t){if(t)return!!u(t)||t.scrollTop<=0},p=function(t){if(t){if(u(t))return!0;var e=t.scrollTop;return t.scrollHeight<=e+t.offsetHeight}},f=function(t){if(t)return!!u(t)||t.scrollLeft<=0},m=function(t){if(t){if(u(t))return!0;var e=t.scrollLeft;return t.scrollWidth<=e+t.offsetWidth}};i.d(e,"disablePageScroll",function(){return y}),i.d(e,"enablePageScroll",function(){return b}),i.d(e,"getScrollState",function(){return S}),i.d(e,"clearQueueScrollLocks",function(){return w}),i.d(e,"getTargetScrollBarWidth",function(){return E}),i.d(e,"getCurrentTargetScrollBarWidth",function(){return k}),i.d(e,"getPageScrollBarWidth",function(){return x}),i.d(e,"getCurrentPageScrollBarWidth",function(){return C}),i.d(e,"addScrollableTarget",function(){return L}),i.d(e,"removeScrollableTarget",function(){return A}),i.d(e,"addScrollableSelector",function(){return P}),i.d(e,"removeScrollableSelector",function(){return I}),i.d(e,"addLockableTarget",function(){return T}),i.d(e,"addLockableSelector",function(){return q}),i.d(e,"setFillGapMethod",function(){return F}),i.d(e,"addFillGapTarget",function(){return D}),i.d(e,"removeFillGapTarget",function(){return M}),i.d(e,"addFillGapSelector",function(){return O}),i.d(e,"removeFillGapSelector",function(){return z}),i.d(e,"refillGaps",function(){return B});var g=["padding","margin","width","max-width","none"],v={scroll:!0,queue:0,scrollableSelectors:["[data-scroll-lock-scrollable]"],lockableSelectors:["body","[data-scroll-lock-lockable]"],fillGapSelectors:["body","[data-scroll-lock-fill-gap]","[data-scroll-lock-lockable]"],fillGapMethod:g[0],startTouchY:0,startTouchX:0},y=function(t){v.queue<=0&&(v.scroll=!1,H(),U()),L(t),v.queue++},b=function(t){0<v.queue&&v.queue--,v.queue<=0&&(v.scroll=!0,W(),G()),A(t)},S=function(){return v.scroll},w=function(){v.queue=0},E=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(r(t)){var i=t.style.overflowY;e?S()||(t.style.overflowY=t.getAttribute("data-scroll-lock-saved-overflow-y-property")):t.style.overflowY="scroll";var n=k(t);return t.style.overflowY=i,n}return 0},k=function(t){if(r(t)){if(t===document.body){var e=document.documentElement.clientWidth;return window.innerWidth-e}var i=t.style.borderLeftWidth,n=t.style.borderRightWidth;t.style.borderLeftWidth="0px",t.style.borderRightWidth="0px";var s=t.offsetWidth-t.clientWidth;return t.style.borderLeftWidth=i,t.style.borderRightWidth=n,s}return 0},x=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return E(document.body,t)},C=function(){return k(document.body)},L=function(t){t&&n(t).map(function(t){s(t,function(t){r(t)?t.setAttribute("data-scroll-lock-scrollable",""):o('"'.concat(t,'" is not a Element.'))})})},A=function(t){t&&n(t).map(function(t){s(t,function(t){r(t)?t.removeAttribute("data-scroll-lock-scrollable"):o('"'.concat(t,'" is not a Element.'))})})},P=function(t){t&&n(t).map(function(t){v.scrollableSelectors.push(t)})},I=function(t){t&&n(t).map(function(t){v.scrollableSelectors=v.scrollableSelectors.filter(function(e){return e!==t})})},T=function(t){t&&(n(t).map(function(t){s(t,function(t){r(t)?t.setAttribute("data-scroll-lock-lockable",""):o('"'.concat(t,'" is not a Element.'))})}),S()||H())},q=function(t){t&&(n(t).map(function(t){v.lockableSelectors.push(t)}),S()||H(),O(t))},F=function(t){if(t){if(-1!==g.indexOf(t))v.fillGapMethod=t,B();else{var e=g.join(", ");o('"'.concat(t,'" method is not available!\nAvailable fill gap methods: ').concat(e,"."))}}},D=function(t){t&&n(t).map(function(t){s(t,function(t){r(t)?(t.setAttribute("data-scroll-lock-fill-gap",""),v.scroll||K(t)):o('"'.concat(t,'" is not a Element.'))})})},M=function(t){t&&n(t).map(function(t){s(t,function(t){r(t)?(t.removeAttribute("data-scroll-lock-fill-gap"),v.scroll||Q(t)):o('"'.concat(t,'" is not a Element.'))})})},O=function(t){t&&n(t).map(function(t){-1===v.fillGapSelectors.indexOf(t)&&(v.fillGapSelectors.push(t),v.scroll||Z(t))})},z=function(t){t&&n(t).map(function(t){v.fillGapSelectors=v.fillGapSelectors.filter(function(e){return e!==t}),v.scroll||Y(t)})},B=function(){v.scroll||U()},H=function(){var t=a(v.lockableSelectors);N(t)},W=function(){var t=a(v.lockableSelectors);R(t)},N=function(t){s(document.querySelectorAll(t),function(t){V(t)})},R=function(t){s(document.querySelectorAll(t),function(t){j(t)})},V=function(t){if(r(t)&&"true"!==t.getAttribute("data-scroll-lock-locked")){var e=window.getComputedStyle(t);t.setAttribute("data-scroll-lock-saved-overflow-y-property",e.overflowY),t.setAttribute("data-scroll-lock-saved-inline-overflow-property",t.style.overflow),t.setAttribute("data-scroll-lock-saved-inline-overflow-y-property",t.style.overflowY),t.style.overflow="hidden",t.setAttribute("data-scroll-lock-locked","true")}},j=function(t){r(t)&&"true"===t.getAttribute("data-scroll-lock-locked")&&(t.style.overflow=t.getAttribute("data-scroll-lock-saved-inline-overflow-property"),t.style.overflowY=t.getAttribute("data-scroll-lock-saved-inline-overflow-y-property"),t.removeAttribute("data-scroll-lock-saved-overflow-property"),t.removeAttribute("data-scroll-lock-saved-inline-overflow-property"),t.removeAttribute("data-scroll-lock-saved-inline-overflow-y-property"),t.removeAttribute("data-scroll-lock-locked"))},U=function(){v.fillGapSelectors.map(function(t){Z(t)})},G=function(){v.fillGapSelectors.map(function(t){Y(t)})},Z=function(t){var e=document.querySelectorAll(t),i=-1!==v.lockableSelectors.indexOf(t);s(e,function(t){K(t,i)})},K=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(r(t)){if(""===t.getAttribute("data-scroll-lock-lockable")||e)i=E(t,!0);else{var i,n=c(t,a(v.lockableSelectors));i=E(n,!0)}"true"===t.getAttribute("data-scroll-lock-filled-gap")&&Q(t);var s=window.getComputedStyle(t);if(t.setAttribute("data-scroll-lock-filled-gap","true"),t.setAttribute("data-scroll-lock-current-fill-gap-method",v.fillGapMethod),"margin"===v.fillGapMethod){var o=parseFloat(s.marginRight);t.style.marginRight="".concat(o+i,"px")}else if("width"===v.fillGapMethod)t.style.width="calc(100% - ".concat(i,"px)");else if("max-width"===v.fillGapMethod)t.style.maxWidth="calc(100% - ".concat(i,"px)");else if("padding"===v.fillGapMethod){var l=parseFloat(s.paddingRight);t.style.paddingRight="".concat(l+i,"px")}}},Y=function(t){s(document.querySelectorAll(t),function(t){Q(t)})},Q=function(t){if(r(t)&&"true"===t.getAttribute("data-scroll-lock-filled-gap")){var e=t.getAttribute("data-scroll-lock-current-fill-gap-method");t.removeAttribute("data-scroll-lock-filled-gap"),t.removeAttribute("data-scroll-lock-current-fill-gap-method"),"margin"===e?t.style.marginRight="":"width"===e?t.style.width="":"max-width"===e?t.style.maxWidth="":"padding"===e&&(t.style.paddingRight="")}};"undefined"!=typeof window&&window.addEventListener("resize",function(t){B()}),"undefined"!=typeof document&&(document.addEventListener("touchstart",function(t){v.scroll||(v.startTouchY=t.touches[0].clientY,v.startTouchX=t.touches[0].clientX)}),document.addEventListener("touchmove",function(t){if(!v.scroll){var e=v.startTouchY,i=v.startTouchX,n=t.touches[0].clientY,r=t.touches[0].clientX;if(t.touches.length<2){var s=a(v.scrollableSelectors),o=e<n,l=n<e,u=i<r,g=r<i,y=e+3<n,b=n<e-3,S=i+3<r,w=r<i-3;!function e(i){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(i){var r=c(i,s,!1);if(d(i,'input[type="range"]'))return!1;if(n||d(i,'textarea, [contenteditable="true"]')&&c(i,s)||d(i,s)){var a=!1;f(i)&&m(i)?(o&&h(i)||l&&p(i))&&(a=!0):h(i)&&p(i)?(u&&f(i)||g&&m(i))&&(a=!0):(y&&h(i)||b&&p(i)||S&&f(i)||w&&m(i))&&(a=!0),a&&(r?e(r,!0):t.preventDefault())}else e(r)}else t.preventDefault()}(t.target)}}},{passive:!1}),document.addEventListener("touchend",function(t){v.scroll||(v.startTouchY=0,v.startTouchX=0)}));var X=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){var n,r,s;n=t,s=i[r=e],r in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s})}return t}({disablePageScroll:y,enablePageScroll:b,getScrollState:S,clearQueueScrollLocks:w,getTargetScrollBarWidth:E,getCurrentTargetScrollBarWidth:k,getPageScrollBarWidth:x,getCurrentPageScrollBarWidth:C,addScrollableSelector:P,removeScrollableSelector:I,addScrollableTarget:L,removeScrollableTarget:A,addLockableSelector:q,addLockableTarget:T,addFillGapSelector:O,removeFillGapSelector:z,addFillGapTarget:D,removeFillGapTarget:M,setFillGapMethod:F,refillGaps:B,_state:v},{hide:function(t){o('"hide" is deprecated! Use "disablePageScroll" instead. \n https://github.com/FL3NKEY/scroll-lock#disablepagescrollscrollabletarget'),y(t)},show:function(t){o('"show" is deprecated! Use "enablePageScroll" instead. \n https://github.com/FL3NKEY/scroll-lock#enablepagescrollscrollabletarget'),b(t)},toggle:function(t){o('"toggle" is deprecated! Do not use it.'),S()?y():b(t)},getState:function(){return o('"getState" is deprecated! Use "getScrollState" instead. \n https://github.com/FL3NKEY/scroll-lock#getscrollstate'),S()},getWidth:function(){return o('"getWidth" is deprecated! Use "getPageScrollBarWidth" instead. \n https://github.com/FL3NKEY/scroll-lock#getpagescrollbarwidth'),x()},getCurrentWidth:function(){return o('"getCurrentWidth" is deprecated! Use "getCurrentPageScrollBarWidth" instead. \n https://github.com/FL3NKEY/scroll-lock#getcurrentpagescrollbarwidth'),C()},setScrollableTargets:function(t){o('"setScrollableTargets" is deprecated! Use "addScrollableTarget" instead. \n https://github.com/FL3NKEY/scroll-lock#addscrollabletargetscrollabletarget'),L(t)},setFillGapSelectors:function(t){o('"setFillGapSelectors" is deprecated! Use "addFillGapSelector" instead. \n https://github.com/FL3NKEY/scroll-lock#addfillgapselectorfillgapselector'),O(t)},setFillGapTargets:function(t){o('"setFillGapTargets" is deprecated! Use "addFillGapTarget" instead. \n https://github.com/FL3NKEY/scroll-lock#addfillgaptargetfillgaptarget'),D(t)},clearQueue:function(){o('"clearQueue" is deprecated! Use "clearQueueScrollLocks" instead. \n https://github.com/FL3NKEY/scroll-lock#clearqueuescrolllocks'),w()}});e.default=X}]).default}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Sqrl={})}(this,function(t){"use strict";function e(t){var i,n,r=Error(t);return i=r,n=e.prototype,Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n,r}function i(t,i,n){var r=i.slice(0,n).split(/\n/),s=r.length,o=r[s-1].length+1;throw e(t+=" at line "+s+" col "+o+":\n\n  "+i.split(/\n/)[s-1]+"\n  "+Array(o).join(" ")+"^")}e.prototype=Object.create(Error.prototype,{name:{value:"Squirrelly Error",enumerable:!1}});var n=Function("return this")().Promise,r=!1;try{r=Function("return (async function(){}).constructor")()}catch(s){if(!(s instanceof SyntaxError))throw s}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e,i){for(var n in e)o(e,n)&&(null==e[n]||"object"!=typeof e[n]||"storage"!==n&&"prefixes"!==n||i?t[n]=e[n]:t[n]=a({},e[n]));return t}var l=/^async +/,c=/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})*}|(?!\${)[^\\`])*`/g,d=/'(?:\\[\s\w"'\\`]|[^\n\r'\\])*?'/g,u=/"(?:\\[\s\w"'\\`]|[^\n\r"\\])*?"/g,h=/[.*+\-?^${}()|[\]\\]/g;function p(t){return h.test(t)?t.replace(h,"\\$&"):t}function f(t,n){n.rmWhitespace&&(t=t.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),c.lastIndex=0,d.lastIndex=0,u.lastIndex=0;var r=n.prefixes,s=[r.h,r.b,r.i,r.r,r.c,r.e].reduce(function(t,e){return t&&e?t+"|"+p(e):e?p(e):t},""),o=RegExp("([|()]|=>)|('|\"|`|\\/\\*)|\\s*((\\/)?(-|_)?"+p(n.tags[1])+")","g"),a=RegExp("([^]*?)"+p(n.tags[0])+"(-|_)?\\s*("+s+")?\\s*","g"),h=0,f=!1;function m(e,r){var s,p={f:[]},m=0,g="c";function v(e){var r=t.slice(h,e),s=r.trim();"f"===g?"safe"===s?p.raw=!0:n.async&&l.test(s)?(s=s.replace(l,""),p.f.push([s,"",!0])):p.f.push([s,""]):"fp"===g?p.f[p.f.length-1][1]+=s:"err"===g?s&&i("invalid syntax",t,h+r.search(/\S/)):p[g]=s,h=e+1}for("h"===r||"b"===r||"c"===r?g="n":"r"===r&&(p.raw=!0,r="i"),o.lastIndex=h;null!==(s=o.exec(t));){var y=s[1],b=s[2],S=s[3],w=s[4],E=s[5],k=s.index;if(y)"("===y?(0===m&&("n"===g?(v(k),g="p"):"f"===g&&(v(k),g="fp")),m++):")"===y?0==--m&&"c"!==g&&(v(k),g="err"):0===m&&"|"===y?(v(k),g="f"):"=>"===y&&(v(k),h+=1,g="res");else if(b){if("/*"===b){var x=t.indexOf("*/",o.lastIndex);-1===x&&i("unclosed comment",t,s.index),o.lastIndex=x+2}else"'"===b?(d.lastIndex=s.index,d.exec(t)?o.lastIndex=d.lastIndex:i("unclosed string",t,s.index)):'"'===b?(u.lastIndex=s.index,u.exec(t)?o.lastIndex=u.lastIndex:i("unclosed string",t,s.index)):"`"===b&&(c.lastIndex=s.index,c.exec(t)?o.lastIndex=c.lastIndex:i("unclosed string",t,s.index))}else if(S)return v(k),h=k+s[0].length,a.lastIndex=h,f=E,w&&"h"===r&&(r="s"),p.t=r,p}return i("unclosed tag",t,e),p}var g=function s(o,c){o.b=[],o.d=[];var d,u=!1,p=[];function g(t,e){var i,r,s,o,a,l;t&&(t=(i=t,r=n,s=f,o=e,"string"==typeof r.autoTrim?a=l=r.autoTrim:Array.isArray(r.autoTrim)&&(a=r.autoTrim[1],l=r.autoTrim[0]),(s||!1===s)&&(a=s),(o||!1===o)&&(l=o),"slurp"===a&&"slurp"===l?i.trim():("_"===a||"slurp"===a?i=String.prototype.trimLeft?i.trimLeft():i.replace(/^[\s\uFEFF\xA0]+/,""):"-"!==a&&"nl"!==a||(i=i.replace(/^(?:\n|\r|\r\n)/,"")),"_"===l||"slurp"===l?i=String.prototype.trimRight?i.trimRight():i.replace(/[\s\uFEFF\xA0]+$/,""):"-"!==l&&"nl"!==l||(i=i.replace(/(?:\n|\r|\r\n)$/,"")),i)))&&(t=t.replace(/\\|'/g,"\\$&").replace(/\r\n|\n|\r/g,"\\n"),p.push(t))}for(;null!==(d=a.exec(t));){var v,y=d[1],b=d[2],S=d[3]||"";for(var w in r)if(r[w]===S){v=w;break}g(y,b),h=d.index+d[0].length,v||i("unrecognized tag type: "+S,t,h);var E=m(d.index,v),k=E.t;if("h"===k){var x=E.n||"";n.async&&l.test(x)&&(E.a=!0,E.n=x.replace(l,"")),E=s(E),p.push(E)}else if("c"===k){if(o.n===E.n)return u?(u.d=p,o.b.push(u)):o.d=p,o;i("Helper start and end don't match",t,d.index+d[0].length)}else if("b"===k){u?(u.d=p,o.b.push(u)):o.d=p;var C=E.n||"";n.async&&l.test(C)&&(E.a=!0,E.n=C.replace(l,"")),u=E,p=[]}else if("s"===k){var L=E.n||"";n.async&&l.test(L)&&(E.a=!0,E.n=L.replace(l,"")),p.push(E)}else p.push(E)}if(!c)throw e('unclosed helper "'+o.n+'"');return g(t.slice(h,t.length),!1),o.d=p,o}({f:[]},!0);if(n.plugins)for(var v=0;v<n.plugins.length;v++){var y=n.plugins[v];y.processAST&&(g.d=y.processAST(g.d,n))}return g.d}function m(t,e){var i=f(t,e),n="var tR='';"+(e.useWith?"with("+e.varName+"||{}){":"")+S(i,e)+"if(cb){cb(null,tR)} return tR"+(e.useWith?"}":"");if(e.plugins)for(var r=0;r<e.plugins.length;r++){var s=e.plugins[r];s.processFnString&&(n=s.processFnString(n,e))}return n}function g(t,e){for(var i=0;i<e.length;i++){var n=e[i][0],r=e[i][1];t=(e[i][2]?"await ":"")+"c.l('F','"+n+"')("+t,r&&(t+=","+r),t+=")"}return t}function v(t,e,i,n,r,s){var o="{exec:"+(r?"async ":"")+b(i,e,t)+",params:["+n+"]";return s&&(o+=",name:'"+s+"'"),r&&(o+=",async:true"),o+="}"}function y(t,e){for(var i="[",n=0;n<t.length;n++){var r=t[n];i+=v(e,r.res||"",r.d,r.p||"",r.a,r.n),n<t.length&&(i+=",")}return i+"]"}function b(t,e,i){return"function("+e+"){var tR='';"+S(t,i)+"return tR}"}function S(t,e){for(var i=0,n=t.length,r="";i<n;i++){var s=t[i];if("string"==typeof s)r+="tR+='"+s+"';";else{var o=s.t,a=s.c||"",l=s.f,c=s.n||"",d=s.p||"",u=s.res||"",h=s.b,p=!!s.a;if("i"===o){e.defaultFilter&&(a="c.l('F','"+e.defaultFilter+"')("+a+")");var f=g(a,l);!s.raw&&e.autoEscape&&(f="c.l('F','e')("+f+")"),r+="tR+="+f+";"}else if("h"===o){if(e.storage.nativeHelpers.get(c))r+=e.storage.nativeHelpers.get(c)(s,e);else{var m=(p?"await ":"")+"c.l('H','"+c+"')("+v(e,u,s.d,d,p);m+=h?","+y(h,e):",[]",r+="tR+="+g(m+=",c)",l)+";"}}else"s"===o?r+="tR+="+g((p?"await ":"")+"c.l('H','"+c+"')({params:["+d+"]},[],c)",l)+";":"e"===o&&(r+=a+"\n")}}return r}var w=function(){function t(t){this.cache=t}return t.prototype.define=function(t,e){this.cache[t]=e},t.prototype.get=function(t){return this.cache[t]},t.prototype.remove=function(t){delete this.cache[t]},t.prototype.reset=function(){this.cache={}},t.prototype.load=function(t){a(this.cache,t,!0)},t}(),E=new w({});function k(t,i,n,r){if(i&&i.length>0)throw e((r?"Native":"")+"Helper '"+t+"' doesn't accept blocks");if(n&&n.length>0)throw e((r?"Native":"")+"Helper '"+t+"' doesn't accept filters")}var x=new w({each:function(t,e){var i="",n=t.params[0];if(k("each",e,!1),t.async)return new Promise(function(e){!function t(e,i,n,r,s){n(e[i],i).then(function(o){r+=o,i===e.length-1?s(r):t(e,i+1,n,r,s)})}(n,0,t.exec,i,e)});for(var r=0;r<n.length;r++)i+=t.exec(n[r],r);return i},foreach:function(t,e){var i=t.params[0];if(k("foreach",e,!1),t.async)return new Promise(function(e){!function t(e,i,n,r,s,o){r(i[n],e[i[n]]).then(function(a){s+=a,n===i.length-1?o(s):t(e,i,n+1,r,s,o)})}(i,Object.keys(i),0,t.exec,"",e)});var n="";for(var r in i)o(i,r)&&(n+=t.exec(r,i[r]));return n},include:function(t,i,n){k("include",i,!1);var r=n.storage.templates.get(t.params[0]);if(!r)throw e('Could not fetch template "'+t.params[0]+'"');return r(t.params[1],n)},extends:function(t,i,n){var r=t.params[1]||{};r.content=t.exec();for(var s=0;s<i.length;s++){var o=i[s];r[o.name]=o.exec()}var a=n.storage.templates.get(t.params[0]);if(!a)throw e('Could not fetch template "'+t.params[0]+'"');return a(r,n)},useScope:function(t,e){return k("useScope",e,!1),t.exec(t.params[0])}}),C=new w({if:function(t,e){k("if",!1,t.f,!0);var i="if("+t.p+"){"+S(t.d,e)+"}";if(t.b)for(var n=0;n<t.b.length;n++){var r=t.b[n];"else"===r.n?i+="else{"+S(r.d,e)+"}":"elif"===r.n&&(i+="else if("+r.p+"){"+S(r.d,e)+"}")}return i},try:function(t,i){if(k("try",!1,t.f,!0),!t.b||1!==t.b.length||"catch"!==t.b[0].n)throw e("native helper 'try' only accepts 1 block, 'catch'");var n="try{"+S(t.d,i)+"}",r=t.b[0];return n+("catch"+(r.res?"("+r.res+")":"")+"{"+S(r.d,i))+"}"},block:function(t,e){return k("block",t.b,t.f,!0),"if(!"+e.varName+"["+t.p+"]){tR+=("+b(t.d,"",e)+")()}else{tR+="+e.varName+"["+t.p+"]}"}}),L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function A(t){return L[t]}var P=new w({e:function(t){var e=String(t);return/[&<>"']/.test(e)?e.replace(/[&<>"']/g,A):e}}),I={varName:"it",autoTrim:[!1,"nl"],autoEscape:!0,defaultFilter:!1,tags:["{{","}}"],l:function(t,i){if("H"===t){var n=this.storage.helpers.get(i);if(n)return n;throw e("Can't find helper '"+i+"'")}if("F"===t){var r=this.storage.filters.get(i);if(r)return r;throw e("Can't find filter '"+i+"'")}},async:!1,storage:{helpers:x,nativeHelpers:C,filters:P,templates:E},prefixes:{h:"@",b:"#",i:"",r:"*",c:"/",e:"!"},cache:!1,plugins:[],useWith:!1};function T(t,e){var i={};return a(i,I),e&&a(i,e),t&&a(i,t),i.l.bind(i),i}function q(t,i){var n=T(i||{}),s=Function;if(n.async){if(!r)throw e("This environment doesn't support async/await");s=r}try{return new s(n.varName,"c","cb",m(t,n))}catch(o){throw o instanceof SyntaxError?e("Bad template syntax\n\n"+o.message+"\n"+Array(o.message.length+1).join("=")+"\n"+m(t,n)):o}}function F(t,e){var i;return e.cache&&e.name&&e.storage.templates.get(e.name)?e.storage.templates.get(e.name):(i="function"==typeof t?t:q(t,e),e.cache&&e.name&&e.storage.templates.define(e.name,i),i)}I.l.bind(I),t.compile=q,t.compileScope=S,t.compileScopeIntoFunction=b,t.compileToString=m,t.defaultConfig=I,t.filters=P,t.getConfig=T,t.helpers=x,t.nativeHelpers=C,t.parse=f,t.render=function(t,i,r,s){var o=T(r||{});if(!o.async)return F(t,o)(i,o);if(!s){if("function"==typeof n)return new n(function(e,n){try{e(F(t,o)(i,o))}catch(r){n(r)}});throw e("Please provide a callback function, this env doesn't support Promises")}try{F(t,o)(i,o,s)}catch(a){return s(a)}},t.templates=E,Object.defineProperty(t,"__esModule",{value:!0})});const throttle=(t,e)=>{let i,n;return function r(...s){let o=Date.now();n=clearTimeout(n),!i||o-i>=e?(t.apply(null,s),i=o):n=setTimeout(r.bind(null,...s),e-(o-i))}};function preload(t,e){"string"==typeof t&&(t=[t]);for(let i=0;i<t.length;i++){let n=t[i];loadImage(getSizedImageUrl(n,e))}}function loadImage(t){new Image().src=t}function imageSize(t){let e=t.match(/.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\d{1,4}x\d{0,4}|x\d{1,4})[_\.@]/);return e?e[1]:null}function getSizedImageUrl(t,e){if(null===e)return t;if("master"===e)return removeProtocol(t);let i=t.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(!i)return null;{let n=t.split(i[0]),r=i[0];return removeProtocol(`${n[0]}_${e}${r}`)}}function removeProtocol(t){return t.replace(/http(s)?:/,"")}var images=Object.freeze({__proto__:null,preload:preload,loadImage:loadImage,imageSize:imageSize,getSizedImageUrl:getSizedImageUrl,removeProtocol:removeProtocol});function loadYoutubeAPI(){if(!isYoutubeAPILoaded){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}}function onYouTubeIframeAPIReady(){window.isYoutubeAPILoaded=!0,document.dispatchEvent(new CustomEvent("youtubeAPIReady"),{bubbles:!0})}PaloAlto.ThemeProduct={getVariantFromId:function(t,e){if(this._validateProductStructure(t),"number"!=typeof e)throw TypeError(e+" is not a Number.");return t.variants.filter(function(t){return t.id===e})[0]||null},getVariantFromSerializedArray:function(t,e){this._validateProductStructure(t);var i=this._createOptionArrayFromOptionCollection(t,e);return this.getVariantFromOptionArray(t,i)},getVariantFromOptionArray:function(t,e){return this._validateProductStructure(t),this._validateOptionsArray(e),t.variants.filter(function(t){return e.every(function(e,i){return t.options[i]===e})})[0]||null},_createOptionArrayFromOptionCollection:function(t,e){this._validateProductStructure(t),this._validateSerializedArray(e);var i=[];return e.forEach(function(e){for(var n=0;n<t.options.length;n++)if((t.options[n].name||t.options[n]).toLowerCase()===e.name.toLowerCase()){i[n]=e.value;break}}),i},_validateProductStructure:function(t){if("object"!=typeof t)throw TypeError(t+" is not an object.");if(0===Object.keys(t).length&&t.constructor===Object)throw Error(t+" is empty.")},_validateSerializedArray:function(t){if(!Array.isArray(t))throw TypeError(t+" is not an array.");if(0===t.length)throw Error(t+" is empty.");if(t[0].hasOwnProperty("name")){if("string"!=typeof t[0].name)throw TypeError("Invalid value type passed for name of option "+t[0].name+". Value should be string.")}else throw Error(t[0]+"does not contain name key.")},_validateOptionsArray:function(t){if(Array.isArray(t)&&"object"==typeof t[0])throw Error(t+"is not a valid array of options.")}},PaloAlto.ProductForm=function(){let t={idInput:'[name="id"]',planInput:'[name="selling_plan"]',optionInput:'[name^="options"]',quantityInput:'[name="quantity"]',propertyInput:'[name^="properties"]'};function e(e,i,n){this.element=e,this.form="FORM"==this.element.tagName?this.element:this.element.querySelector("form"),this.product=this._validateProductObject(i),this.variantElement=this.element.querySelector(t.idInput),n=n||{},PaloAlto.Listeners.add(this.element,"submit",this._onSubmit.bind(this,n)),this.optionInputs=this._initInputs(t.optionInput,n.onOptionChange),this.planInputs=this._initInputs(t.planInput,n.onPlanChange),this.quantityInputs=this._initInputs(t.quantityInput,n.onQuantityChange),this.propertyInputs=this._initInputs(t.propertyInput,n.onPropertyChange)}return e.prototype=$.extend({},e.prototype,{destroy(){PaloAlto.Listeners.removeAll()},options(){return this._serializeInputValues(this.optionInputs,function(t){return t.name=/(?:^(options\[))(.*?)(?:\])/.exec(t.name)[2],t})},variant(){let t=this.options();return t.length?PaloAlto.ThemeProduct.getVariantFromSerializedArray(this.product,t):this.product.variants[0]},plan(t){let e={allocation:null,group:null,detail:null},i=new FormData(this.form),n=i.get("selling_plan");return(n&&t&&(e.allocation=t.selling_plan_allocations.find(function(t){return t.selling_plan_id.toString()===n.toString()})),e.allocation&&(e.group=this.product.selling_plan_groups.find(function(t){return t.id.toString()===e.allocation.selling_plan_group_id.toString()})),e.group&&(e.detail=e.group.selling_plans.find(function(t){return t.id.toString()===n.toString()})),e&&e.allocation&&e.detail&&e.allocation)?e:null},properties(){return this._serializeInputValues(this.propertyInputs,function(t){return t.name=/(?:^(properties\[))(.*?)(?:\])/.exec(t.name)[2],t})},quantity(){return this.quantityInputs[0]?Number.parseInt(this.quantityInputs[0].value,10):1},getFormState(){let t=this.variant();return{options:this.options(),variant:t,properties:this.properties(),quantity:this.quantity(),plan:this.plan(t)}},_setIdInputValue(t){t&&t.id?this.variantElement.value=t.id.toString():this.variantElement.value="",this.variantElement.dispatchEvent(new Event("change"))},_onSubmit(t,e){e.dataset=this.getFormState(),t.onFormSubmit&&t.onFormSubmit(e)},_onOptionChange(t){this._setIdInputValue(t.dataset.variant)},_onFormEvent(t){return void 0===t?Function.prototype.bind():(function(e){e.dataset=this.getFormState(),this._setIdInputValue(e.dataset.variant),t(e)}).bind(this)},_initInputs(t,e){return Array.prototype.slice.call(this.element.querySelectorAll(t)).map((function(t){return PaloAlto.Listeners.add(t,"change",this._onFormEvent(e)),t}).bind(this))},_serializeInputValues:(t,e)=>t.reduce(function(t,i){return(i.checked||"radio"!==i.type&&"checkbox"!==i.type)&&t.push(e({name:i.name,value:i.value})),t},[]),_validateProductObject(t){if("object"!=typeof t)throw TypeError(t+" is not an object.");if(void 0===t.variants[0].options)throw TypeError("Product object is invalid. Make sure you use the product object that is output from {{ product | json }} or from the http://[your-product-url].js route");return t}}),e}(),window.isYoutubeAPILoaded=!1,slate.a11y={state:{firstFocusable:null,lastFocusable:null,trigger:null},pageLinkFocus:function(t){var e="js-focus-hidden";t.first().attr("tabIndex","-1").focus().addClass(e).one("blur",function i(){t.first().removeClass(e).removeAttr("tabindex")})},trapFocus:function(t){var e=Array.from(t.container.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex^="-"])')).filter(function(t){var e=t.offsetWidth,i=t.offsetHeight;return 0!==e&&0!==i&&"none"!==getComputedStyle(t).getPropertyValue("display")});this.state.firstFocusable=e[0],this.state.lastFocusable=e[e.length-1],t.elementToFocus||(t.elementToFocus=this.state.firstFocusable||t.container),t.container.setAttribute("tabindex","-1"),t.elementToFocus.focus(),this._setupHandlers(),document.addEventListener("focusin",this._onFocusInHandler),document.addEventListener("focusout",this._onFocusOutHandler)},removeTrapFocus:function(t){let e=!document.body.classList.contains("no-outline");t&&t.container&&t.container.removeAttribute("tabindex"),document.removeEventListener("focusin",this._onFocusInHandler),this.state.trigger&&e&&this.state.trigger.focus()},_manageFocus:function(t){t.keyCode===slate.utils.keyboardKeys.TAB&&(t.target!==this.state.lastFocusable||t.shiftKey||(t.preventDefault(),this.state.firstFocusable.focus()),t.target===this.state.firstFocusable&&t.shiftKey&&(t.preventDefault(),this.state.lastFocusable.focus()))},_onFocusOut:function(){document.removeEventListener("keydown",this._manageFocusHandler)},_onFocusIn:function(t){(t.target===this.state.lastFocusable||t.target===this.state.firstFocusable)&&document.addEventListener("keydown",this._manageFocusHandler)},_setupHandlers:function(){this._onFocusInHandler||(this._onFocusInHandler=this._onFocusIn.bind(this)),this._onFocusOutHandler||(this._onFocusOutHandler=this._onFocusIn.bind(this)),this._manageFocusHandler||(this._manageFocusHandler=this._manageFocus.bind(this))}},slate.Currency={formatMoney:function t(e,i){"string"==typeof e&&(e=e.replace(".",""));var n="",r=/\{\{\s*(\w+)\s*\}\}/,s=i||"${{amount}}";function o(t,e,i,n){if(i=i||",",n=n||".",isNaN(t)||null===t)return 0;var r,s=(t=(t/100).toFixed(e)).split(".");return s[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+i)+(s[1]?n+s[1]:"")}switch(s.match(r)[1]){case"amount":n=o(e,2);break;case"amount_no_decimals":n=o(e,0);break;case"amount_with_comma_separator":n=o(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":n=o(e,0,".",",");break;case"amount_no_decimals_with_space_separator":n=o(e,0," ");break;case"amount_with_apostrophe_separator":n=o(e,2,"'")}return s.replace(r,n)}},slate.utils={findInstance:function(t,e,i){for(var n=0;n<t.length;n++)if(t[n][e]===i)return t[n]},removeInstance:function(t,e,i){for(var n=t.length;n--;)if(t[n][e]===i){t.splice(n,1);break}return t},compact:function(t){for(var e=-1,i=null==t?0:t.length,n=0,r=[];++e<i;){var s=t[e];s&&(r[n++]=s)}return r},defaultTo:function(t,e){return null==t||t!=t?e:t},keyboardKeys:{TAB:9,ENTER:13,ESCAPE:27,SPACE:32,LEFTARROW:37,RIGHTARROW:39}},PaloAlto.CartDrawer=function(){let t={cartDrawerEnabled:"drawer"===window.theme.settings.cartType,timers:{addProductTimeout:1e3},isQuickViewEnabled:"view"==theme.settings.quickButton},e={outerSection:"[data-section-id]",additionalCheckoutButtons:"[data-additional-checkout-button]",apiContent:"[data-api-content]",buttonAddToCart:"[data-add-to-cart]",cartCloseError:"[data-cart-error-close]",cartDrawer:"[data-cart-drawer]",cartDrawerTemplate:"[data-cart-drawer-template]",cartDrawerToggle:"[data-cart-drawer-toggle]",cartDrawerBody:"[data-cart-drawer-body]",cartErrors:"[data-cart-errors]",cartForm:"[data-cart-form]",cartTermsCheckbox:"[data-cart-acceptance-checkbox]",cartCheckoutButtonWrapper:"[data-cart-checkout-buttons]",cartCheckoutButton:"[data-cart-checkout-button]",cartTotalDiscountsTemplate:"[data-cart-total-discount]",cartTotalSaving:"[data-cart-total-saving]",cartItemRemove:"[data-item-remove]",cartItemQty:"[data-quantity-field]",cartItemsQty:"[data-cart-items-qty]",cartTotal:"[data-cart-total]",cartMessage:"[data-cart-message]",cartMessageDefault:"[data-message-default]",cartProgress:"[data-cart-message-progress]",cartOriginalTotal:"[data-cart-original-total]",cartOriginalTotalPrice:"[data-cart-original-total-price]",cartDiscountsHolder:"[data-cart-discounts-holder]",emptyMessage:"[data-empty-message]",buttonHolder:"[data-foot-holder]",item:"[data-cart-item]",itemsHolder:"[data-items-holder]",itemsWrapper:"[data-items-wrapper]",formCloseError:"[data-close-error]",formErrorsContainer:"[data-cart-errors-container]",upsellHolder:"[data-upsell-holder]",errorMessage:"[data-error-message]",termsErrorMessage:"[data-terms-error-message]",pairProductsHolder:"[data-pair-products-holder]",pairProducts:"[data-pair-products]",pairProductsScript:"[data-pair-products-script]",buttonSkipPairProduct:"[data-skip-pair-product]",productIDAttribute:"data-product-id",leftToSpend:"[data-left-to-spend]",quickBuyForm:"[data-quickbuy-form]",productMediaContainer:"[data-product-media-container]",popupContent:".mfp-content",bundleinput:".bundle-input",freeinput:".free-input",freeinputVariant:".radio__label-sub input"},i={hidden:"hidden",added:"is-added",isHidden:"is-hidden",cartDrawerOpen:"js-drawer-open-cart",open:"is-open",visible:"is-visible",loading:"is-loading",disabled:"is-disabled",success:"is-success",error:"has-error",cartItems:"cart__toggle--has-items"},n={shippingMessageLimit:"data-limit",cartMessageValue:"data-cart-message",ariaExpanded:"aria-expanded",disabled:"disabled",value:"value",dataId:"data-id",focusElement:"data-focus-element",upsellButton:"data-upsell-btn",errorContainerQuickBuy:"data-cart-errors-container-quickbuy"};function r(){"/password"!==window.location.pathname&&this.init()}return r.prototype=$.extend({},r.prototype,{init(){this.cartToggleButtons=document.querySelectorAll(e.cartDrawerToggle),this.cartDrawer=document.querySelector(e.cartDrawer),this.bundleInput=document.querySelector(e.bundleinput),this.freeInput=document.querySelector(e.freeinput),this.freeInputVariant=document.querySelector(e.freeinputVariant),document.dispatchEvent(new CustomEvent("cart:free",{bubbles:!0})),document.dispatchEvent(new CustomEvent("cart:remove",{bubbles:!0})),document.dispatchEvent(new CustomEvent("cart:update_active_slide",{bubbles:!0})),this.assignArguments(),this.form=null,this.build=this.build.bind(this),this.addToCart=this.addToCart.bind(this),this.updateCart=this.updateCart.bind(this),this.openCartDrawer=this.openCartDrawer.bind(this),this.closeCartDrawer=this.closeCartDrawer.bind(this),this.toggleCartDrawer=this.toggleCartDrawer.bind(this),this.formSubmitHandler=throttle(this.formSubmitHandler.bind(this),50),this.closeCartError=PaloAlto.debounce(()=>PaloAlto.Slide.up(this.cartErrorHolder,400),250),this.cartDrawerCloseEvent=null,this.errorTimer=0,this.hasItemsInCart=this.hasItemsInCart.bind(this),this.toggleClassesOnContainers=this.toggleClassesOnContainers.bind(this),this.totalItems=0,this.isCartDrawerOpen=!1,this.isCartDrawerLoaded=!1,this.cartDiscounts=0,this.cartDrawerEnabled=t.cartDrawerEnabled,this.cartLimitErrorIsHidden=!0,this.cartEvents(),this.cartAddEvent(),this.cartDrawerToggleEvents(),this.initQuantity(),this.pairWithArray=window.pairWithProducts,this.sessionStorage=window.sessionStorage,this.getPairProducts(),this.renderPairProducts(),this.pairProductSkipEvent(),document.addEventListener("theme:upsell:unavailable",()=>{this.checkPairProductIsSoldOut()}),document.addEventListener("cart:update_remove",t=>{this.getCart()}),document.addEventListener("cart:update_bundle",t=>{this.getCart()})},assignArguments(){this.cartDrawerBody=document.querySelector(e.cartDrawerBody),this.emptyMessage=document.querySelector(e.emptyMessage),this.buttonHolder=document.querySelector(e.buttonHolder),this.itemsHolder=document.querySelector(e.itemsHolder),this.cartItemsQty=document.querySelector(e.cartItemsQty),this.itemsWrapper=document.querySelector(e.itemsWrapper),this.items=document.querySelectorAll(e.item),this.cartTotal=document.querySelector(e.cartTotal),this.cartMessage=document.querySelectorAll(e.cartMessage),this.cartOriginalTotal=document.querySelector(e.cartOriginalTotal),this.cartOriginalTotalPrice=document.querySelector(e.cartOriginalTotalPrice),this.cartTotalDiscountTemplate=document.querySelector(e.cartTotalDiscountsTemplate).innerHTML,this.cartErrorHolder=document.querySelector(e.cartErrors),this.cartCloseErrorMessage=document.querySelector(e.cartCloseError),this.pairProductsHolder=document.querySelector(e.pairProductsHolder),this.pairProducts=document.querySelector(e.pairProducts),this.cartTermsCheckbox=document.querySelector(e.cartTermsCheckbox),this.cartCheckoutButtonWrapper=document.querySelector(e.cartCheckoutButtonWrapper),this.cartCheckoutButton=document.querySelector(e.cartCheckoutButton),this.cartForm=document.querySelector(e.cartForm),this.cartMessage.length>0&&(this.cartFreeLimitShipping=100*Number(this.cartMessage[0].getAttribute(n.shippingMessageLimit)),this.subtotal=0)},initQuantity(){this.items=document.querySelectorAll(e.item),this.items.length&&this.items.forEach(t=>{let e=new PaloAlto.QuantityCounter(t,!0);e.init(),this.customEventsHandle(t)})},customEventsHandle(t){t.addEventListener("theme:cart:update",PaloAlto.debounce(e=>{this.updateCart({id:e.detail.id,quantity:e.detail.quantity},t,e.detail.valueIsEmpty)},250))},cartEvents(){let t=document.querySelectorAll(e.cartItemRemove);t.length&&(this.totalItems=t.length,t.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),this.updateCart({id:t.getAttribute(n.dataId),quantity:0})})})),this.cartCloseErrorMessage&&(this.cartCloseErrorMessage.removeEventListener("click",this.closeCartError),this.cartCloseErrorMessage.addEventListener("click",this.closeCartError)),this.cartTermsCheckbox&&(this.cartTermsCheckbox.removeEventListener("change",this.formSubmitHandler),this.cartCheckoutButtonWrapper.removeEventListener("click",this.formSubmitHandler),this.cartForm.removeEventListener("submit",this.formSubmitHandler),this.cartTermsCheckbox.addEventListener("change",this.formSubmitHandler),this.cartCheckoutButtonWrapper.addEventListener("click",this.formSubmitHandler),this.cartForm.addEventListener("submit",this.formSubmitHandler))},cartAddEvent(){document.addEventListener("click",t=>{let i=t.target;if(i.matches(e.buttonAddToCart)||i.closest(e.buttonAddToCart)&&i){let r=i.matches(e.buttonAddToCart)?i:i.closest(e.buttonAddToCart),s="";if(r.hasAttribute(e.productIDAttribute)?s=`id=${Number(r.getAttribute(e.productIDAttribute))}`:(this.form=i.closest("form"),s=new FormData(this.form),s=new URLSearchParams(s).toString()),null!==this.form&&this.form.querySelector('[type="file"]')||(t.preventDefault(),i.hasAttribute(n.disabled)||i.parentNode.hasAttribute(n.disabled)))return;let o=this.freeInput?.value,a=this.freeInput?.dataset.quantity,l=this.freeInputVariant?.value,c=this.freeInputVariant?.dataset.quntity,d=[];if(""!==o&&"0"!==a&&void 0!==o&&d.push({id:o,quantity:a,handle:this.freeInput?.dataset.handle}),0!=d.length){let u=d.map(t=>({id:t.id,quantity:t.quantity,properties:{Free:"Product "+t.handle.toLowerCase()}}));this.addBundleCart({items:u},s,r,this.addToCart)}else this.addToCart(s,r);document.dispatchEvent(new CustomEvent("theme:cart:add",{bubbles:!0,detail:{selector:i}}))}})},getCart(){this.disabledCheckout(this.buttonHolder,!0),document.dispatchEvent(new CustomEvent("cart:free",{bubbles:!0})),this.cartDrawer&&!this.isCartDrawerLoaded&&this.renderCartDrawer(!1),fetch(theme.routes.root+"cart.js").then(this.handleErrors).then(t=>t.json()).then(t=>{this.newTotalItems=t.items.length,this.buildTotalPrice(t),this.freeShippingMessageHandle(t.total_price),this.cartMessage.length>0&&(this.subtotal=t.total_price,this.updateProgress());let e=document.querySelector(".template-name").getAttribute("data-template-name");return"cart"!=e&&(e=""),document.dispatchEvent(new CustomEvent("cart:remove",{bubbles:!0,detail:{cartJson:t}})),document.dispatchEvent(new CustomEvent("cart:update_active_slide",{bubbles:!0,detail:t.items})),fetch(theme.routes.root+e+"?section_id=api-cart-items")}).then(t=>t.text()).then(t=>{let n=document.createElement("div");n.innerHTML=t,n.querySelector(e.pairProductsScript)?this.pairWithArray=JSON.parse(n.querySelector(e.pairProductsScript).innerText.split("=")[1].replace(";","")):this.pairWithArray=void 0,this.getPairProducts(),this.renderPairProducts(),this.pairProductSkipEvent(),this.removeLoadingClass(),this.cartToggleButtons.forEach(t=>{t.classList.remove(i.cartItems),this.newTotalItems>0&&t.classList.add(i.cartItems)});let r=n.querySelector(e.apiContent).innerHTML;this.build(r),this.updateItemsQuantity()}).catch(t=>console.log(t)).finally(()=>{this.disabledCheckout(this.buttonHolder,!1)})},disabledCheckout(t,e){t&&setTimeout(()=>{t.classList.toggle("is-disabled",e)},e?0:1e3)},async addBundleCart(t,e,i,n){try{let r=await fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});await r.json(),await n(e,i)}catch(s){console.error("Error:",s)}},async addFreeCart(t,e,i,n){try{let r=await fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});await r.json(),await n(e,i)}catch(s){console.error("Error:",s)}},addToCart(r,s=null){this.cartDrawerEnabled&&s&&s.classList.add(i.loading),fetch(theme.routes.root+"cart/add.js",{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:r}).then(t=>t.json()).then(r=>{if(s&&s.setAttribute(n.disabled,n.disabled),this.addLoadingClass(),r.status){this.addToCartError(r,s),this.removeLoadingClass();return}this.cartDrawerEnabled?(this.getCart(),null!==s&&(s.classList.remove(i.loading),s.removeAttribute(n.disabled),s.classList.add(i.success),t.isQuickViewEnabled&&s.closest(e.popupContent)&&$.magnificPopup.close(),s.closest(e.pairProductsHolder)&&setTimeout(()=>{s.classList.remove(i.success)},2*t.timers.addProductTimeout))):window.location=theme.routes.cart_url}).catch(t=>console.log(t))},updateCart(t={},e=null,n=!1){let r=null,s=null,o=null,a=t.quantity;this.addLoadingClass(),this.items.forEach(t=>{t.classList.add(i.disabled),t.querySelector("input").blur(),t.querySelectorAll("input, button").forEach(t=>{t.setAttribute("disabled",!0)})}),fetch(theme.routes.root+"cart.js").then(this.handleErrors).then(t=>t.json()).then(e=>{let i=e.items.findIndex(e=>e.key===t.id);s=e.item_count,o=e.items[i].title;let n={line:`${i+1}`,quantity:a};return fetch(theme.routes.root+"cart/change.js",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}).then(this.handleErrors).then(t=>t.json()).then(t=>{r=t.item_count,n&&(a=1),0!==a&&(this.cartLimitErrorIsHidden=r!==s,this.toggleLimitError(o)),this.buildTotalPrice(t),this.freeShippingMessageHandle(t.total_price),this.cartDiscounts=t.total_discount,this.updateItemsQuantity(r),this.cartMessage.length>0&&(this.subtotal=t.total_price,this.updateProgress()),this.getCart()}).then(()=>{fetch("/cart").then(t=>t.text()).then(t=>{let e=new DOMParser().parseFromString(t,"text/html"),i=e.querySelector(".upsell"),n=i.querySelector(".upsell_product");i&&n?document.querySelector(".upsell").classList.remove("hidden"):document.querySelector(".upsell").classList.add("hidden"),document.querySelector(".upsell").innerHTML=i.innerHTML}).catch(t=>{})}).catch(t=>console.log(t))},toggleLimitError(t){this.cartErrorHolder.querySelector(e.errorMessage).innerText=t,this.cartLimitErrorIsHidden?PaloAlto.Slide.up(this.cartErrorHolder,400):PaloAlto.Slide.down(this.cartErrorHolder,400)},handleErrors:t=>t.ok?t:t.json().then(function(e){let i=new PaloAlto.FetchError({status:t.statusText,headers:t.headers,json:e});throw i}),addToCartError(t,r){this.cartDrawerEnabled&&r&&null!==r.closest(e.cartDrawer)&&!r.closest(e.cartDrawer)&&this.closeCartDrawer();let s=r.closest(e.outerSection);s||(s=r.closest(e.pairProducts));let o=s.querySelector(e.formErrorsContainer);if(null!==r){let a=r.closest(e.upsellHolder),l=r.closest(e.quickBuyForm);a&&a.querySelector(e.formErrorsContainer)&&(o=a.querySelector(e.formErrorsContainer)),l&&l.closest(e.productMediaContainer)&&(o=l.closest(e.productMediaContainer).querySelector(e.formErrorsContainer)),r.classList.remove(i.loading),r.removeAttribute(n.disabled)}o&&(o.classList.add(i.visible),o.innerHTML=`<div class="errors">${t.message}: ${t.description}<button type="button" class="product__errors__close" data-close-error>${theme.icons.closeSmall}</button></div>`,o.hasAttribute(n.errorContainerQuickBuy)&&(this.errorTimer&&clearTimeout(this.errorTimer),this.errorTimer=setTimeout(()=>{o.classList.remove(i.visible),setTimeout(()=>{o.innerHTML=""},300)},3e3)));let c=document.querySelector(e.formCloseError);c&&c.addEventListener("click",t=>{let n=t.target;(n.matches(e.formCloseError)||n.closest(e.formCloseError))&&(t.preventDefault(),this.errorTimer&&clearTimeout(this.errorTimer),o.classList.remove(i.visible),setTimeout(()=>{o.innerHTML=""},300))})},renderCartDrawer(t=!0){let i=document.querySelector(e.cartDrawerTemplate);i&&(this.cartDrawer.innerHTML=i.innerHTML,this.assignArguments(),this.initQuantity(),this.cartEvents(),this.cartDrawer.querySelector(e.pairProductsScript)&&(this.pairWithArray=JSON.parse(this.cartDrawer.querySelector(e.pairProductsScript).innerText.split("=")[1].replace(";",""))),this.getPairProducts(),this.renderPairProducts(),this.pairProductSkipEvent(),PaloAlto.initCollapsible(),this.cartDrawerToggle=this.cartDrawer.querySelector(e.cartDrawerToggle),this.cartDrawerToggle.addEventListener("click",this.cartDrawerToggleClickEvent),this.isCartDrawerLoaded=!0,document.dispatchEvent(new CustomEvent("theme:cart:loaded",{bubbles:!0})),t&&this.openCartDrawer())},openCartDrawer(){if(!this.isCartDrawerOpen){if(!this.isCartDrawerLoaded){this.renderCartDrawer();return}document.dispatchEvent(new CustomEvent("theme:cart:open",{bubbles:!0})),document.dispatchEvent(new CustomEvent("theme:scroll:lock",{bubbles:!0,detail:this.cartDrawer})),document.dispatchEvent(new CustomEvent("theme:scroll:lock",{bubbles:!0,detail:this.cartDrawerBody})),document.body.classList.add(i.cartDrawerOpen),this.cartDrawer.classList.add(i.open),this.cartToggleButtons.forEach(t=>{t.setAttribute(n.ariaExpanded,!0)}),slate.a11y.trapFocus({container:this.cartDrawer}),this.observeAdditionalCheckoutButtons(),this.isCartDrawerOpen=!0}},closeCartDrawer(){if(!this.isCartDrawerOpen)return;document.dispatchEvent(new CustomEvent("theme:cart:close",{bubbles:!0})),PaloAlto.Slide.up(this.cartErrorHolder,400),slate.a11y.removeTrapFocus(),this.cartToggleButtons.forEach(t=>{t.setAttribute(n.ariaExpanded,!1)});let t=document.querySelector(`[${n.upsellButton}].${i.success}`);t&&setTimeout(()=>{t.classList.remove(i.success)},2e3),document.body.classList.remove(i.cartDrawerOpen),this.cartDrawer.classList.remove(i.open),document.dispatchEvent(new CustomEvent("theme:scroll:unlock",{bubbles:!0,detail:400})),this.isCartDrawerOpen=!1},toggleCartDrawer(){this.isCartDrawerOpen?this.closeCartDrawer():this.openCartDrawer()},cartDrawerToggleEvents(){this.cartDrawer&&(this.cartDrawer.addEventListener("keyup",t=>{t.which===slate.utils.keyboardKeys.ESCAPE&&this.closeCartDrawer()}),this.cartDrawerToggleClickEvent=t=>{t.preventDefault();let e=t.target;"false"===e.getAttribute(n.ariaExpanded)&&(slate.a11y.state.trigger=e),this.toggleCartDrawer()},this.cartDrawerCloseEvent=t=>{let i=t.target.matches(e.cartDrawerToggle),n=document.querySelector(e.cartDrawer).contains(t.target);i||n||this.closeCartDrawer()},this.cartToggleButtons.forEach(t=>{t.addEventListener("click",this.cartDrawerToggleClickEvent)}),document.addEventListener("click",this.cartDrawerCloseEvent))},toggleClassesOnContainers(){this.emptyMessage.classList.toggle(i.hidden,this.hasItemsInCart()),this.buttonHolder.classList.toggle(i.hidden,!this.hasItemsInCart()),this.itemsHolder.classList.toggle(i.hidden,!this.hasItemsInCart()),this.cartItemsQty.classList.toggle(i.hidden,!this.hasItemsInCart())},build(t){this.totalItems!==this.newTotalItems&&(this.totalItems=this.newTotalItems,this.toggleClassesOnContainers()),this.itemsHolder.innerHTML=t,this.cartEvents(),this.initQuantity(),this.cartDrawer&&this.openCartDrawer()},hasItemsInCart(){return this.totalItems>0},buildTotalPrice(t){fetch("/cart").then(t=>t.text()).then(t=>{let i=new DOMParser().parseFromString(t,"text/html"),n=i.querySelector(e.cartTotalSaving);null!=n&&(document.querySelector(e.cartTotalSaving).innerHTML=n.innerHTML)}).catch(t=>{});let n=document.querySelector(e.cartDiscountsHolder);if(t.original_total_price>t.total_price&&t.cart_level_discount_applications.length>0?(this.cartOriginalTotal.classList.remove(i.hidden),this.cartOriginalTotalPrice.innerHTML=0===t.original_total_price?window.theme.strings.free:slate.Currency.formatMoney(t.original_total_price,theme.moneyFormat)):this.cartOriginalTotal.classList.add(i.hidden),this.cartTotal.innerHTML=0===t.total_price?window.theme.strings.free:slate.Currency.formatMoney(t.total_price,theme.moneyFormat),t.cart_level_discount_applications.length>0){let r=this.buildCartTotalDiscounts(t.cart_level_discount_applications);n.classList.remove(i.hidden),n.innerHTML=r}else n.classList.add(i.hidden)},buildCartTotalDiscounts(t){let e="";return t.forEach(t=>{e+=Sqrl.render(this.cartTotalDiscountTemplate,{discountTitle:t.title,discountTotalAllocatedAmount:slate.Currency.formatMoney(t.total_allocated_amount,theme.moneyFormat)})}),e},freeShippingMessageHandle(t){this.cartMessage.length>0&&document.querySelectorAll(e.cartMessage).forEach(r=>{let s=r.hasAttribute(n.cartMessageValue)&&"true"===r.getAttribute(n.cartMessageValue)&&0!==t,o=r.querySelector(e.cartMessageDefault);r.classList.toggle(i.success,t>=this.cartFreeLimitShipping&&s),r.classList.toggle(i.isHidden,0===t),o.classList.toggle(i.isHidden,t>=this.cartFreeLimitShipping)})},updateProgress(){let t=this.subtotal/this.cartFreeLimitShipping*100,r=slate.Currency.formatMoney(this.cartFreeLimitShipping-this.subtotal,theme.moneyFormat);this.cartMessage.length>0&&document.querySelectorAll(e.cartMessage).forEach(s=>{let o=s.querySelector(e.cartProgress),a=s.querySelector(e.leftToSpend);a&&(a.innerHTML=r.replace(".00","")),o&&(o.classList.toggle(i.isHidden,this.subtotal/this.cartFreeLimitShipping>=1),o.setAttribute(n.value,t))})},renderPairProducts(){if(null!==this.pairProductsHolder){if(void 0===this.pairWithArray||this.pairWithArray.length<=0){this.pairProductsHolder.classList.add(i.hidden);return}new PaloAlto.PairWithProduct(this.pairWithArray[0]),document.addEventListener("theme:upsell:product-error",()=>{this.checkPairProductIsSoldOut()}),this.pairProductsHolder.classList.remove(i.hidden)}},getPairProducts(){void 0!==this.pairWithArray&&void 0!==this.sessionStorage&&null!==this.sessionStorage.getItem("pair_products")&&(this.pairWithArray=this.pairWithArray.filter(t=>-1===this.sessionStorage.getItem("pair_products").indexOf(`,${t},`)))},updateItemsQuantity(t){let i=0,n=theme.strings.cart_items_one,r=theme.strings.cart_items_many;n=n.split("}} ")[1],r=r.split("}} ")[1],this.cartItemsQty&&(t?this.cartItemsQty.textContent=1===t?`${t} ${n}`:`${t} ${r}`:(document.querySelectorAll(e.cartItemQty).forEach(t=>{i+=Number(t.value)}),this.cartItemsQty.textContent=1===i?`${i} ${n}`:`${i} ${r}`))},pairProductSkipEvent(){null!==this.pairProductsHolder&&this.pairProductsHolder.addEventListener("click",t=>{let n=t.target;(n.matches(e.buttonSkipPairProduct)||n.closest(e.buttonSkipPairProduct))&&(t.preventDefault(),void 0!==this.sessionStorage&&this.pairWithArray.length&&this.sessionStorage.setItem("pair_products",null!==this.sessionStorage.getItem("pair_products")?`${this.sessionStorage.getItem("pair_products")},${this.pairWithArray[0]},`:`,${this.pairWithArray[0]},`),this.getPairProducts(),0===this.pairWithArray.length?this.pairProductsHolder.classList.add(i.hidden):new PaloAlto.PairWithProduct(this.pairWithArray[0]))})},checkPairProductIsSoldOut(){void 0!==this.sessionStorage&&this.pairWithArray.length&&(this.sessionStorage.setItem("pair_products",null!==this.sessionStorage.getItem("pair_products")?`${this.sessionStorage.getItem("pair_products")},${this.pairWithArray[0]},`:`,${this.pairWithArray[0]},`),this.getPairProducts(),0===this.pairWithArray.length?this.pairProductsHolder.classList.add(i.hidden):this.renderPairProducts())},observeAdditionalCheckoutButtons(){let t=this.cartDrawer.querySelector(e.additionalCheckoutButtons);if(t){let i=new MutationObserver(()=>{slate.a11y.removeTrapFocus(),slate.a11y.trapFocus({container:this.cartDrawer,elementToFocus:this.cartDrawer.querySelector("a:first-child, input:first-child")}),i.disconnect()});i.observe(t,{subtree:!0,childList:!0})}},formSubmitHandler(){let t=document.querySelector(e.cartTermsCheckbox).checked,i=document.querySelector(e.termsErrorMessage);if(t)PaloAlto.Slide.up(i,400),this.cartCheckoutButton.removeAttribute(n.disabled);else{if(document.querySelector(e.termsErrorMessage).length>0)return;i.innerText=theme.strings.cart_acceptance_error,this.cartCheckoutButton.setAttribute(n.disabled,!0),PaloAlto.Slide.down(i,400)}},addLoadingClass(){this.cartDrawer?this.cartDrawer.classList.add(i.loading):this.itemsWrapper&&this.itemsWrapper.classList.add(i.loading)},removeLoadingClass(){this.cartDrawer?this.cartDrawer.classList.remove(i.loading):this.itemsWrapper&&this.itemsWrapper.classList.remove(i.loading)},destroy(){this.cartDrawerToggle&&this.cartDrawerToggle.removeEventListener("click",this.cartDrawerToggleClickEvent),this.cartToggleButtons.forEach(t=>{t.removeEventListener("click",this.cartDrawerToggleClickEvent)}),document.removeEventListener("click",this.cartDrawerCloseEvent)}}),r}(),PaloAlto.initCollapsible=function(){var t={collapsibleTrigger:"[data-collapsible-trigger]",collapsibleTriggerMobile:"[data-collapsible-trigger-mobile]",collapsibleContent:"[data-collapsible-content]",collapsibleContentMobile:"[data-collapsible-content-mobile]"},e={isExpanded:"is-expanded"},i=!1,n=0,r=function(n){if(n.preventDefault(),(!n.keyCode||n.keyCode===slate.utils.keyboardKeys.ESCAPE)&&!i){var r=window.innerWidth<theme.sizes.small,o=$(this),a=$(this).is(t.collapsibleTriggerMobile),l=$(this).attr("aria-controls"),c=$("#"+l),d=$(c).find(t.collapsibleContent).eq(0).outerHeight()||$(c).find(t.collapsibleContentMobile).eq(0).outerHeight(),u=$(o).hasClass(e.isExpanded);(!a||r)&&(u||n.keyCode!==slate.utils.keyboardKeys.ESCAPE)&&(i=!0,u&&setTimeout(function(){s(c,d=0,u)},0),$(o).attr("aria-expanded",!u).toggleClass(e.isExpanded,!u),s(c,d,u))}};function s(t,r,s){$(t).css("height",r).attr("aria-hidden",s).toggleClass(e.isExpanded,!s),n&&clearTimeout(n),0==r&&(n=setTimeout(function(){$(t).css("height","")},500)),s?i=!1:setTimeout(function(){$(t).css("height","auto"),i=!1},500)}$(t.collapsibleTrigger).off("click keyup").on("click keyup",r),$(t.collapsibleTriggerMobile).off("click keyup").on("click keyup",r)},PaloAlto.flickitySmoothScrolling=function(t){let e=Flickity.data(t);e&&(e.on("dragStart",(t,e)=>{document.ontouchmove=function(t){t.preventDefault()}}),e.on("dragEnd",(t,e)=>{document.ontouchmove=function(t){return!0}}))};let screenOrientation=getScreenOrientation();function readHeights(){let t={};return t.windowHeight=window.innerHeight,t.footerHeight=getHeight('[data-section-type*="footer"]'),t.headerHeight=getHeight("[data-header-height]"),t.collectionStickyBarHeight=getHeight("[data-collection-sticky-bar]"),t}function setVarsOnResize(){document.addEventListener("theme:resize",resizeVars),setVars()}function setVars(){let{windowHeight:t,headerHeight:e,footerHeight:i,collectionStickyBarHeight:n}=readHeights();document.documentElement.style.setProperty("--full-height",`${t}px`),document.documentElement.style.setProperty("--header-height",`${e}px`),document.documentElement.style.setProperty("--footer-height",`${i}px`),document.documentElement.style.setProperty("--content-full",`${t-e}px`),document.documentElement.style.setProperty("--content-min",`${t-e-i}px`),document.documentElement.style.setProperty("--collection-sticky-bar-height",`${n}px`)}function resizeVars(){let{windowHeight:t,headerHeight:e,footerHeight:i,collectionStickyBarHeight:n}=readHeights(),r=getScreenOrientation();r!==screenOrientation&&(document.documentElement.style.setProperty("--full-height",`${t}px`),screenOrientation=r),document.documentElement.style.setProperty("--header-height",`${e}px`),document.documentElement.style.setProperty("--footer-height",`${i}px`),document.documentElement.style.setProperty("--content-full",`${t-e}px`),document.documentElement.style.setProperty("--content-min",`${t-e-i}px`),document.documentElement.style.setProperty("--collection-sticky-bar-height",`${n}px`)}function getHeight(t){let e=document.querySelector(t);return e?e.clientHeight:0}function getScreenOrientation(){return window.matchMedia("(orientation: portrait)").matches?"portrait":window.matchMedia("(orientation: landscape)").matches?"landscape":void 0}function loadingAnimation(){document.documentElement.classList.remove("is-loading")}function lazyImageBackgrounds(){document.addEventListener("lazyloaded",t=>{let e=t.target.parentNode;e.classList.contains("lazy-image")&&setTimeout(()=>{e.style.backgroundImage="none"},500)})}function PopupCookie(t,e){this.configuration={expires:null,path:"/",domain:window.location.hostname},this.name=t,this.value=e}function dispatchResizeEvent(){document.dispatchEvent(new CustomEvent("theme:resize",{bubbles:!0})),window.lastWindowWidth!==window.innerWidth&&(document.dispatchEvent(new CustomEvent("theme:resize:width",{bubbles:!0})),window.lastWindowWidth=window.innerWidth)}function resizeListener(){window.addEventListener("resize",PaloAlto.debounce(dispatchResizeEvent,50))}PaloAlto.initFocusVisibility=function(){let t={noOutline:"no-outline"};document.addEventListener("keyup",e=>{e.keyCode===slate.utils.keyboardKeys.TAB&&document.body.classList.remove(t.noOutline)}),document.addEventListener("mousedown",()=>{document.body.classList.add(t.noOutline)})},PaloAlto.initTransparentHeader=function(){let t={body:"body",main:"[data-main]",header:"[data-site-header]",shopifySection:".shopify-section",preventTransparentHeader:"[data-prevent-transparent-header]"},e={transparentHeader:"transparent-header",siteHeaderTransparent:"site-header--transparent",hasTransparentHeader:"has-transparent-header"},i=document.querySelector(t.body),n=i.querySelector(t.header),r="true"===n.getAttribute("data-transparent"),s=i.querySelector(t.main).children[0];if(!s)return;let o=s.querySelector(`${t.preventTransparentHeader}:first-of-type`);(isHeaderTransparent=r&&s.classList.contains(e.transparentHeader)&&!o)?(n.classList.add(e.siteHeaderTransparent),i.classList.add(e.hasTransparentHeader)):(n.classList.remove(e.siteHeaderTransparent),i.classList.remove(e.hasTransparentHeader))},PaloAlto.initSections=function(){var t=new PaloAlto.Sections;t.register("header",PaloAlto.Header),t.register("footer",PaloAlto.Footer),t.register("announcement-bar",PaloAlto.AnnouncementBar),t.register("article",PaloAlto.Article),t.register("product-template",PaloAlto.Product),t.register("related-products",PaloAlto.RelatedProducts),t.register("store-availability",PaloAlto.StoreAvailability),t.register("collection-template",PaloAlto.CollectionTemplate),t.register("list-collections",PaloAlto.ListCollections),t.register("featured-collection",PaloAlto.FeaturedCollection),t.register("products-list",PaloAlto.ProductsList),t.register("custom-content",PaloAlto.CustomContent),t.register("tab-collections",PaloAlto.TabCollections),t.register("featured-product",PaloAlto.Product),t.register("slider",PaloAlto.Slider),t.register("image-with-text",PaloAlto.RichText),t.register("image-accordions",PaloAlto.ImageAccordions),t.register("shoppable-blog",PaloAlto.ShoppableBlog),t.register("blog-posts",PaloAlto.BlogPosts),t.register("featured-video",PaloAlto.FeaturedVideo),t.register("logo-list",PaloAlto.LogoList),t.register("icons-row",PaloAlto.IconsRow),t.register("locations",PaloAlto.Locations),t.register("testimonials",PaloAlto.Testimonials),t.register("accordions",PaloAlto.Accordions),t.register("press",PaloAlto.Press),t.register("overlapping-images",PaloAlto.OverlappingImages),t.register("popups",PaloAlto.Popups),t.register("look",PaloAlto.Look),t.register("mosaic",PaloAlto.Mosaic),t.register("columns-with-image",PaloAlto.ColumnsWithImage),t.register("about-page",PaloAlto.AboutPage),t.register("password-template",PaloAlto.PasswordTemplate),t.register("search-template",PaloAlto.SearchTemplate),t.register("subcollections",PaloAlto.Subcollections),t.register("newsletter",PaloAlto.NewsletterSection),t.register("marquee",PaloAlto.AnnouncementBar),$(document).on("shopify:section:load shopify:section:reorder shopify:section:unload",function(){setTimeout(()=>{PaloAlto.initTransparentHeader(),PaloAlto.setMainSpacing(),AOS.refreshHard()},300)})},PaloAlto.initSwatches={makeSwatch:function(t){this.swatches=[];let e=t.querySelectorAll("[data-swatch]");e.forEach(t=>{this.swatches.push(new PaloAlto.Swatches.Swatch(t))})},makeGridSwatch:function(t){let e=t.querySelectorAll("[data-grid-swatches]");e.forEach(t=>{new PaloAlto.Swatches.GridSwatch(t)})}},PaloAlto.Drawer={attributes:{ariaExpanded:"aria-expanded"},selectors:{drawer:"[data-drawer]",drawerToggle:"[data-drawer-toggle]",scroller:"[data-scroll]"},classes:{open:"is-open",drawerOpen:"js-drawer-open"},init:function(){this.drawers=document.querySelectorAll(this.selectors.drawer),this.drawerToggleButtons=document.querySelectorAll(this.selectors.drawerToggle),this.drawerToggleEvent=throttle(t=>{this.toggle(t)},150),this.keyPressCloseEvent=throttle(t=>{t.keyCode===slate.utils.keyboardKeys.ESCAPE&&this.close(t)},150),this.drawerCloseEvent=t=>{let e=document.querySelector(`${this.selectors.drawer}.${this.classes.open}`),i=t.target.matches(this.selectors.drawerToggle),n=!!e&&e.contains(t.target);i||n||this.close(t)},this.drawerToggleButtons.forEach(t=>{t.addEventListener("click",this.drawerToggleEvent)}),this.drawers.forEach(t=>{t.addEventListener("keyup",this.keyPressCloseEvent)}),document.addEventListener("click",this.drawerCloseEvent)},toggle:function(t){t.preventDefault();let e=document.querySelector(`#${t.target.getAttribute("aria-controls")}`);if(!e)return;let i=e.classList.contains(this.classes.open);i?this.close():this.open(t)},open:function(t){let e=t.target,i=document.querySelector(`#${t.target.getAttribute("aria-controls")}`);if(!i)return;let n=i.querySelector(this.selectors.scroller)||i,r=i.querySelector(this.selectors.drawerToggle);document.dispatchEvent(new CustomEvent("theme:scroll:lock",{bubbles:!0,detail:n})),document.dispatchEvent(new CustomEvent("theme:drawer:open"),{bubbles:!0}),document.body.classList.add(this.classes.drawerOpen),i.classList.add(this.classes.open),e.setAttribute(this.attributes.ariaExpanded,!0),setTimeout(()=>{slate.a11y.state.trigger=e,slate.a11y.trapFocus({container:i,elementToFocus:r})})},close:function(){if(!document.body.classList.contains(this.classes.drawerOpen))return;let t=document.querySelector(`${this.selectors.drawer}.${this.classes.open}`);this.drawerToggleButtons.forEach(t=>{t.setAttribute(this.attributes.ariaExpanded,!1)}),document.dispatchEvent(new CustomEvent("theme:scroll:unlock",{bubbles:!0,detail:400})),slate.a11y.removeTrapFocus({container:t}),t.classList.remove(this.classes.open),document.body.classList.remove(this.classes.drawerOpen),document.dispatchEvent(new CustomEvent("theme:drawer:close"),{bubbles:!0})},destroy:function(){this.close(),this.drawerToggleButtons.forEach(t=>{t.removeEventListener("click",this.drawerToggleEvent)}),this.drawers.forEach(t=>{t.removeEventListener("keyup",this.keyPressCloseEvent)}),document.removeEventListener("click",this.drawerCloseEvent)}},PaloAlto.Newsletter=function(){let t={popup:"[data-popup]"},e={success:"has-success",error:"has-error"},i={storageNewsletterFormId:"newsletter_form_id"};function n(e){this.newsletter=e,this.sessionStorage=window.sessionStorage,this.popup=this.newsletter.closest(t.popup),this.stopSubmit=!0,this.isChallengePage=!1,this.formID=null,this.formIdSuccess=null,this.checkForChallengePage(),this.newsletterSubmit=t=>this.newsletterSubmitEvent(t),this.isChallengePage||this.init()}return n.prototype=$.extend({},n.prototype,{init(){this.newsletter.addEventListener("submit",this.newsletterSubmit),this.showMessage()},newsletterSubmitEvent(t){this.stopSubmit&&(t.preventDefault(),this.removeStorage(),this.writeStorage(),this.stopSubmit=!1,this.newsletter.submit())},checkForChallengePage(){this.isChallengePage=window.location.pathname===theme.routes.root+"challenge"},writeStorage(){void 0!==this.sessionStorage&&this.sessionStorage.setItem(i.storageNewsletterFormId,this.newsletter.id)},readStorage(){this.formID=this.sessionStorage.getItem(i.storageNewsletterFormId)},removeStorage(){this.sessionStorage.removeItem(i.storageNewsletterFormId)},showMessage(){if(this.readStorage(),this.newsletter.id===this.formID){let t=document.getElementById(this.formID),i=-1!==window.location.search.indexOf("?customer_posted=true"),n=-1!==window.location.search.indexOf("accepts_marketing");i?(t.classList.remove(e.error),t.classList.add(e.success),this.popup&&(this.cookie=new PopupCookie(this.popup.dataset.cookieName,"user_has_closed"),this.cookie.write())):n&&(t.classList.remove(e.success),t.classList.add(e.error)),(i||n)&&this.scrollToForm(t)}},scrollToForm(t){let e=t.getBoundingClientRect(),i=PaloAlto.isInViewport(t);i||setTimeout(()=>{window.scroll({top:e.top,left:0,behavior:"smooth"})},400)},onUnload(){this.newsletter.removeEventListener("submit",this.newsletterSubmit)}}),n}(),PopupCookie.prototype=$.extend({},PopupCookie.prototype,{write(){let t=-1!==document.cookie.indexOf("; ")&&!document.cookie.split("; ").find(t=>t.startsWith(this.name));(t||-1===document.cookie.indexOf("; "))&&(document.cookie=`${this.name}=${this.value}; expires=${this.configuration.expires}; path=${this.configuration.path}; domain=${this.configuration.domain}`)},read(){if(!(-1!==document.cookie.indexOf("; ")&&document.cookie.split("; ").find(t=>t.startsWith(this.name))))return!1;{let t=document.cookie.split("; ").find(t=>t.startsWith(this.name)).split("=")[1];return t}},destroy(){document.cookie.split("; ").find(t=>t.startsWith(this.name))&&(document.cookie=`${this.name}=null; expires=${this.configuration.expires}; path=${this.configuration.path}; domain=${this.configuration.domain}`)}}),PaloAlto.QuantityCounter=function(){let t={quantityHolder:"[data-quantity-holder]",quantityField:"[data-quantity-field]",quantityButton:"[data-quantity-button]",quantityMinusButton:"[data-quantity-minus]",quantityPlusButton:"[data-quantity-plus]"},e={quantityReadOnly:"read-only",isDisabled:"is-disabled"};function i(t,e=!1){this.holder=t,this.quantityUpdateCart=e}return i.prototype=$.extend({},i.prototype,{init(){this.quantity=this.holder.querySelector(t.quantityHolder),this.quantity&&(this.field=this.quantity.querySelector(t.quantityField),this.buttons=this.quantity.querySelectorAll(t.quantityButton),this.increaseButton=this.quantity.querySelector(t.quantityPlusButton),this.quantityValue=Number(this.field.value||0),this.cartItemID=this.field.getAttribute("data-id"),this.maxValue=Number(this.field.getAttribute("max"))>0?Number(this.field.getAttribute("max")):null,this.minValue=Number(this.field.getAttribute("min"))>0?Number(this.field.getAttribute("min")):0,this.disableIncrease=this.disableIncrease.bind(this),this.emptyField=!1,this.updateQuantity=this.updateQuantity.bind(this),this.decrease=this.decrease.bind(this),this.increase=this.increase.bind(this),this.disableIncrease(),this.quantity.classList.contains(e.quantityReadOnly)||(this.changeValueOnClick(),this.changeValueOnInput()))},changeValueOnClick(){this.buttons.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let i=e.target,n=i.matches(t.quantityMinusButton)||i.closest(t.quantityMinusButton),r=i.matches(t.quantityPlusButton)||i.closest(t.quantityPlusButton);n&&this.decrease(),r&&this.increase(),this.updateQuantity()})})},changeValueOnInput(){this.field.addEventListener("input",t=>{this.quantityValue=this.field.value,""===this.value&&(this.emptyField=!0),this.updateQuantity()})},updateQuantity(){this.maxValue<this.quantityValue&&null!==this.maxValue&&(this.quantityValue=this.maxValue),this.minValue>this.quantityValue&&(this.quantityValue=this.minValue),this.field.value=this.quantityValue,this.disableIncrease(),document.dispatchEvent(new CustomEvent("theme:cart:update")),this.quantityUpdateCart&&this.updateCart()},decrease(){if(this.quantityValue>this.minValue){this.quantityValue--;return}this.quantityValue=0},increase(){this.quantityValue++},disableIncrease(){this.increaseButton.classList.toggle(e.isDisabled,this.quantityValue>=this.maxValue&&null!==this.maxValue)},updateCart(){let t=new CustomEvent("theme:cart:update",{bubbles:!0,detail:{id:this.cartItemID,quantity:this.quantityValue,valueIsEmpty:this.emptyField}});this.holder.dispatchEvent(t)}}),i}(),PaloAlto.QuickViewPopup={init:function(t){var e=this;this.$container=$(t),this.container=t,this.sectionId=$(t).data("section-id"),this.product={},this.isFlickityDragging=!1,this.selectors={addToCart:"[data-add-to-cart]",deferredMedia:"[data-deferred-media]",deferredMediaButton:"[data-deferred-media-button]",popout:"[data-popout]",product:"[data-product]",productForm:"[data-product-form]",productMediaSlider:"[data-product-single-media-slider]",productMediaThumb:"[data-thumbnail-id]",productMediaThumbLink:".product-single__thumbnail-link",productMediaThumbs:"[data-product-single-media-thumbs]",productMediaWrapper:"[data-product-single-media-wrapper]",productModel:"[data-model]",productSingleThumbnailLink:".product-single__thumbnail-link",productJSON:"[data-product-json]",buttonQuickView:"[data-button-quick-view]",progressBar:"[data-product-slideshow-progress]"},this.classes={hasMediaActive:"has-media-active",isSelected:"is-selected",isLoading:"is-loading",mediaHidden:"media--hidden",noOutline:"no-outline",quickViewVisible:"quick-view-visible",fill:"fill"},this.attributes={mediaId:"data-media-id",sectionId:"data-section-id",thumbId:"data-thumbnail-id",loaded:"loaded",tabindex:"tabindex"},this.ids={addToCartFormId:"AddToCartForm--",addToCartId:"AddToCart--"},$(this.selectors.buttonQuickView,t).on("click",function(t){t.preventDefault(),slate.a11y.state.trigger=this;var i=theme.routes.root+"products/"+$(this).data("handle")+"?section_id=api-quickview";$.magnificPopup.open({items:{src:i},type:"ajax",cache:!1,removalDelay:300,mainClass:"popup-quick-view mfp-fade",autoFocusLast:!1,closeMarkup:'<button title="%title%" class="mfp-close">'+theme.icons.close+"</i></button>",callbacks:{parseAjax:function(t){var i=$(t.data).children(),n=i.filter(e.selectors.product),r=n.attr("data-section-id");let s=JSON.parse(i.find(e.selectors.productJSON)[0].innerHTML);return e.container=n[0],e.$container=n,e.$container.addClass(e.classes.isLoading),e.sectionId=r,e.product=s,t.data=i},ajaxContentAdded:function(){var t=e.sectionId+"-"+e.product.handle;e.addFormSuffix(e.$container,t),e.initProductSlider(),e.initMediaSwitch(),e.initProductVideo(),e.initProductModel(),e.initShopifyXrLaunch(),PaloAlto.initSwatches.makeSwatch(e.$container[0]);let i=e.container.querySelectorAll(e.selectors.popout),n={};i.length&&i.forEach((t,e)=>{n[e]=new PaloAlto.Popout(t)}),new PaloAlto.ProductAddForm(e.$container.parent()[0]),PaloAlto.videoLink(),slate.a11y.trapFocus({container:document.querySelector(".mfp-content"),elementToFocus:document.querySelector(".mfp-content .mfp-close")}),Shopify.PaymentButton&&Shopify.PaymentButton.init(),e.$container.removeClass(e.classes.isLoading)},open:function(){document.body.classList.add(e.classes.quickViewVisible)},afterClose:function(){let t=e.container.querySelector(e.selectors.productMediaSlider),i=Flickity.data(t)||null;i&&i.pausePlayer(),slate.a11y.removeTrapFocus(),document.body.classList.remove(e.classes.quickViewVisible)}}})})},initProductSlider:function(){let t=this.container.querySelector(this.selectors.productMediaSlider),e=this.container.querySelector(this.selectors.productMediaThumbs),i=this.container.querySelectorAll(this.selectors.productMediaWrapper),n=this.container.querySelector(this.selectors.progressBar),r=0;if(i.length>1){this.container.style.setProperty("--autoplay-speed","3500ms"),n.classList.add(this.classes.fill),r=setTimeout(()=>{n.classList.remove(this.classes.fill)},3500);let s=new Flickity(t,{wrapAround:!0,pageDots:!1,prevNextButtons:!1,adaptiveHeight:!1,pauseAutoPlayOnHover:!1,selectedAttraction:.2,friction:1,autoPlay:3500,on:{ready:()=>{t.setAttribute(this.attributes.tabindex,"-1")},settle:(t,e)=>{let i=s.selectedElement,n=i.getAttribute(this.attributes.mediaId);i.setAttribute(this.attributes.tabindex,"0"),[...i.parentNode.children].forEach(t=>{t!==i&&t.setAttribute(this.attributes.tabindex,"-1")}),this.switchMedia(n)},change:()=>{r&&clearTimeout(r),n.classList.remove(this.classes.fill),setTimeout(()=>{n.classList.add(this.classes.fill)}),r=setTimeout(()=>{n.classList.remove(this.classes.fill)},3500)},dragEnd(){s.playPlayer()}}});if(i.length&&i.forEach(t=>{t.addEventListener("theme:media:play",()=>{s.options.draggable=!1,s.updateDraggable(),t.closest(this.selectors.productMediaSlider).classList.add(this.classes.hasMediaActive)}),t.addEventListener("theme:media:pause",()=>{s.options.draggable=!0,s.updateDraggable(),t.closest(this.selectors.productMediaSlider).classList.remove(this.classes.hasMediaActive)})}),PaloAlto.flickitySmoothScrolling(t),e){new Flickity(e,{asNavFor:t,contain:!0,pageDots:!1,prevNextButtons:!1,on:{ready:()=>{e.setAttribute(this.attributes.tabindex,"-1")}}}),PaloAlto.flickitySmoothScrolling(e);let o=this.container.querySelectorAll(this.selectors.productSingleThumbnailLink);o.length&&o.forEach(t=>{t.addEventListener("click",t=>{t.preventDefault()})})}}},handleMediaFocus:function(t){if(13!==t.keyCode&&9!==t.keyCode)return;let e=t.currentTarget.getAttribute(this.attributes.thumbId),i=this.container.querySelector(`[${this.attributes.mediaId}="${e}"]`),n=parseInt([...i.parentNode.children].indexOf(i)),r=this.container.querySelector(this.selectors.productMediaSlider),s=this.container.querySelector(this.selectors.productMediaThumbs),o=Flickity.data(r)||null,a=Flickity.data(s)||null;o&&o.isActive&&n>-1&&13===t.keyCode&&o.select(n),a&&a.isActive&&n>-1&&a.select(n)},switchMedia:function(t){let e=this.container.querySelector(`${this.selectors.productMediaWrapper}[${this.attributes.mediaId}="${t}"]`),i=!document.body.classList.contains(this.classes.noOutline);i&&e.focus(),e.closest(this.selectors.productMediaSlider).classList.remove(this.classes.hasMediaActive),e.classList.remove(this.classes.mediaHidden),e.dispatchEvent(new CustomEvent("theme:media:visible"),{bubbles:!0});let n=e.querySelector(this.selectors.deferredMedia);n&&"true"!==n.getAttribute(this.attributes.loaded)&&e.querySelector(this.selectors.deferredMediaButton).dispatchEvent(new Event("click"))},initMediaSwitch:function(){let t=this.container.querySelectorAll(this.selectors.productMediaThumb);t.length&&t.forEach(t=>{t.addEventListener("keyup",this.handleMediaFocus.bind(this)),t.addEventListener("click",t=>{t.preventDefault()})})},initProductVideo:function(){this.videos=new PaloAlto.ProductVideo(this.container)},initProductModel:function(){let t=this.container.querySelectorAll(this.selectors.productModel);t.length&&t.forEach(t=>{PaloAlto.ProductModel.init(t,this.sectionId)})},initShopifyXrLaunch:function(){document.addEventListener("shopify_xr_launch",()=>{let t=this.container.querySelector(`${this.selectors.productModel}:not(.${this.classes.mediaHidden})`);t.dispatchEvent(new CustomEvent("xrLaunch"))})},addFormSuffix:function(t,e){var i=this.ids.addToCartFormId+e,n=this.ids.addToCartId+e;$(this.selectors.productForm,t).attr("id",i),$(this.selectors.addToCart,t).attr("id",n)}},window.lastWindowWidth=window.innerWidth,PaloAlto.Sections=function t(){this.constructors={},this.instances=[],$(document).on("shopify:section:load",this._onSectionLoad.bind(this)).on("shopify:section:unload",this._onSectionUnload.bind(this)).on("shopify:section:select",this._onSelect.bind(this)).on("shopify:section:deselect",this._onDeselect.bind(this)).on("shopify:block:select",this._onBlockSelect.bind(this)).on("shopify:block:deselect",this._onBlockDeselect.bind(this))},PaloAlto.Sections.prototype=_.assignIn({},PaloAlto.Sections.prototype,{_createInstance:function(t,e){var i=$(t),n=i.attr("data-section-id"),r=i.attr("data-section-type");if(e=e||this.constructors[r],!_.isUndefined(e)){var s=_.assignIn(new e(t),{id:n,type:r,container:t});this.instances.push(s)}},_onSectionLoad:function(t){var e=$("[data-section-id]",t.target)[0];e&&this._createInstance(e)},_onSectionUnload:function(t){this.instances=_.filter(this.instances,function(e){var i=e.id===t.detail.sectionId;return i&&_.isFunction(e.onUnload)&&e.onUnload(t),!i})},_onSelect:function(t){var e=_.find(this.instances,function(e){return e.id===t.detail.sectionId});!_.isUndefined(e)&&_.isFunction(e.onSelect)&&e.onSelect(t)},_onDeselect:function(t){var e=_.find(this.instances,function(e){return e.id===t.detail.sectionId});!_.isUndefined(e)&&_.isFunction(e.onDeselect)&&e.onDeselect(t)},_onBlockSelect:function(t){var e=_.find(this.instances,function(e){return e.id===t.detail.sectionId});!_.isUndefined(e)&&_.isFunction(e.onBlockSelect)&&e.onBlockSelect(t)},_onBlockDeselect:function(t){var e=_.find(this.instances,function(e){return e.id===t.detail.sectionId});!_.isUndefined(e)&&_.isFunction(e.onBlockDeselect)&&e.onBlockDeselect(t)},register:function(t,e){this.constructors[t]=e,$("[data-section-type="+t+"]").each((function(t,i){this._createInstance(i,e)}).bind(this))}}),PaloAlto.setMainSpacing=function(){let t={header:"[data-site-header]",pageContainer:"[data-page-container]",templateListCollections:".template-list-collections",collectionFilters:"[data-collection-filters]"},e={hasScrolled:"has-scrolled",headerSticky:"header--sticky",headerRelative:"header--relative"};document.body.classList.remove(e.hasScrolled);let i=document.querySelector(t.pageContainer),n=document.querySelector(t.header),r=n.parentNode,s="fixed"==n.dataset.position,o=document.querySelector(t.templateListCollections),a=document.querySelector(t.collectionFilters),l=isHeaderTransparent?0:parseInt(n.clientHeight);window.initialHeaderHeight=parseInt(n.dataset.height),i.style.paddingTop=l+"px",s&&!a?r.classList.add(e.headerSticky):r.classList.remove(e.headerSticky),!s&&o&&r.classList.add(e.headerRelative),document.dispatchEvent(new CustomEvent("theme:scroll"),{bubbles:!1})};let prev=window.pageYOffset,up=null,down=null,wasUp=null,wasDown=null,scrollLockTimer=0,closingTimeout=0;function dispatchScrollEvent(){let t=window.pageYOffset;t>prev?(down=!0,up=!1):t<prev?(down=!1,up=!0):(up=null,down=null),prev=t,document.dispatchEvent(new CustomEvent("theme:scroll",{detail:{up,down,position:t},bubbles:!1})),up&&!wasUp&&document.dispatchEvent(new CustomEvent("theme:scroll:up",{detail:{position:t},bubbles:!1})),down&&!wasDown&&document.dispatchEvent(new CustomEvent("theme:scroll:down",{detail:{position:t},bubbles:!1})),wasDown=down,wasUp=up}function lock(t){setTimeout(()=>{scrollLockTimer&&clearTimeout(scrollLockTimer),scrollLock.disablePageScroll(t.detail,{allowTouchMove:t=>"TEXTAREA"===t.tagName}),document.documentElement.setAttribute("data-scroll-locked","")})}function unlock(t){let e=t.detail;e?scrollLockTimer=setTimeout(removeScrollLock,e):removeScrollLock()}function removeScrollLock(){scrollLock.clearQueueScrollLocks(),scrollLock.enablePageScroll(),document.documentElement.removeAttribute("data-scroll-locked")}function scrollListener(){let t;window.addEventListener("scroll",function(){t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame(function(){dispatchScrollEvent()})},{passive:!0}),window.addEventListener("theme:scroll:lock",lock),window.addEventListener("theme:scroll:unlock",unlock)}const scrollTopButton=document.querySelector("[data-scroll-top-button]");function getScrollbarWidth(){let t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);let e=document.createElement("div");t.appendChild(e);let i=t.offsetWidth-e.offsetWidth;return t.parentNode.removeChild(t),i}scrollTopButton&&(scrollTopButton.addEventListener("click",()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),document.addEventListener("scroll",throttle(()=>{scrollTopButton.classList.toggle("is-visible",window.pageYOffset>window.innerHeight)},150))),Sqrl.filters.define("handle",function(t){t=t.toLowerCase();for(var e=['"',"'","\\","(",")","[","]"],i=0;i<e.length;++i)t=t.replace(e[i],"");return"-"==(t=t.replace(/\W+/g,"-")).charAt(t.length-1)&&(t=t.replace(/-+\z/,"")),"-"==t.charAt(0)&&(t=t.replace(/\A-+/,"")),t}),Sqrl.filters.define("last",function(t){let e=t.split("-");return e[e.length-1]}),Sqrl.filters.define("asset_url",function(t){let e=theme.assets.image;return e.replace("image",t)}),PaloAlto.videoLink=function(){var t=$("[data-play-button]");t.length&&t.each(function(){$(this).magnificPopup({disableOn:200,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,preloader:!1,fixedContentPos:!1,closeMarkup:'<button title="%title%" class="mfp-close">'+theme.icons.close+"</i></button>",closeOnBgClick:!0,tClose:"Close (Esc)",iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen allow="autoplay; fullscreen"></iframe></div>',patterns:{youtube_short:{index:"youtu.be/",id:"youtu.be/",src:"//www.youtube.com/embed/%id%?autoplay=1&autohide=0&branding=0&cc_load_policy=0&controls=0&fs=0&iv_load_policy=3&modestbranding=1&playsinline=1&quality=hd720&rel=0&showinfo=0&wmode=opaque"}}}})})},PaloAlto.BgSet={render:function(t,e){let i="";return -1!=t.indexOf("no-image")&&-1!=t.indexOf("2048x.gif")&&(e=1),i+=t.replace("_2048x.","_180x.")+" 180w "+Math.round(180/e)+"h,",i+=t.replace("_2048x.","_360x.")+" 360w "+Math.round(360/e)+"h,",i+=t.replace("_2048x.","_540x.")+" 540w "+Math.round(540/e)+"h,",i+=t.replace("_2048x.","_720x.")+" 720w "+Math.round(720/e)+"h,",i+=t.replace("_2048x.","_900x.")+" 900w "+Math.round(900/e)+"h,",i+=t.replace("_2048x.","_1080x.")+" 1080w "+Math.round(1080/e)+"h,",i+=t.replace("_2048x.","_1296x.")+" 1296w "+Math.round(1296/e)+"h,",i+=t.replace("_2048x.","_1512x.")+" 1512w "+Math.round(1512/e)+"h,",i+=t.replace("_2048x.","_1728x.")+" 1728w "+Math.round(1728/e)+"h,",i+=t.replace("_2048x.","_1950x.")+" 1950w "+Math.round(1950/e)+"h,",i+=t+" 2048w "+Math.round(2048/e)+"h"}},PaloAlto.FetchError=function(){function t(t){this.status=t.status||null,this.headers=t.headers||null,this.json=t.json||null,this.body=t.body||null}return t.prototype=Error.prototype,t}(),PaloAlto.fetchProduct=function(t){let e=`${theme.routes.root}products/${t}.js`;return window.fetch(e).then(t=>{if(t.ok)return t.json()}).catch(t=>{console.error(t)})},PaloAlto.formatPrices=function(t,e=!1){let i=t.price<=t.compare_at_price_min,n=!t.available,r=theme.settings.showSoldBadge,s=theme.settings.showBadge,o=theme.settings.showSavingBadge,a=theme.settings.savingBadgeType,l=!1,c=!1,d=!1,u=!1,h=!1,p=t.price,f=t.compare_at_price,m=f-p;if(s&&t.tags)for(let g=0;g<t.tags.length;g++)t.tags[g].includes("_badge_")&&(l=t.tags[g].replace("_badge_","").split("_").join(" ")),t.tags[g].includes("_preorder")&&!n&&(d=theme.strings.preorder);o&&!e&&(t.variants.length>1&&t.variants.forEach(t=>{let e=t.compare_at_price-t.price;e>m&&(m=e,p=t.price,f=t.compare_at_price)}),m>0&&(p="percentage"===a?`${Math.round(((-(p/f)+1)*100).toFixed(2))}%`:slate.Currency.formatMoney(m,theme.moneyFormat),h=theme.strings.saving_badge.replace("{{ discount }}",p),t.variants.length>1&&(h=theme.strings.saving_up_to_badge.replace("{{ discount }}",p)))),r&&n&&(c=theme.strings.sold_out),s&&i&&!n&&!h&&(u=theme.strings.sale_badge_text);let v={...t,customBadgeText:l,soldBadgeText:c,saleBadgeText:u,preorderBadgeText:d,savingBadgeText:h,compare_at_price_max:slate.Currency.formatMoney(t.compare_at_price_max,theme.moneyFormat),compare_at_price_min:slate.Currency.formatMoney(t.compare_at_price_min,theme.moneyFormat),price_max:slate.Currency.formatMoney(t.price_max,theme.moneyFormat),price_min:slate.Currency.formatMoney(t.price_min,theme.moneyFormat),unit_price:slate.Currency.formatMoney(t.unit_price,theme.moneyFormat)};return v};const loaders={};function loadScript(t={}){if(t.url)return loaders[t.url]?loaders[t.url]:getScriptWithPromise(t.url);if(t.json)return loaders[t.json]?Promise.resolve(loaders[t.json]):window.fetch(t.json).then(t=>t.json()).then(e=>(loaders[t.json]=e,e));if(!t.name)return Promise.reject();{let e="".concat(t.name,t.version);return loaders[e]?loaders[e]:loadShopifyWithPromise(t)}}function getScriptWithPromise(t){let e=new Promise((e,i)=>{$.getScript(t).done(function(t){e(t)}).fail(function(t){i(t)})});return loaders[t]=e,e}function loadShopifyWithPromise(t){let e="".concat(t.name,t.version),i=new Promise((e,i)=>{try{window.Shopify.loadFeatures([{name:t.name,version:t.version,onLoad(t){onLoadFromShopify(e,i,t)}},])}catch(n){i(n)}});return loaders[e]=i,i}function onLoadFromShopify(t,e,i){return i?e(i):t()}PaloAlto.Element={show:function(t,e=!1,i="block"){t&&(e?t.style.removeProperty("display"):t.style.display=i)},hide:function(t){t&&(t.style.display="none")}},PaloAlto.Slide={up:function(t,e=500){t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.boxSizing="border-box",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout(()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property")},e)},down:function(t,e=500,i="block",n=!0){let r=window.getComputedStyle(t).display;if(n&&"none"!==r)return;t.style.removeProperty("display"),"none"===r&&(r=i),t.style.display=r;let s=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.boxSizing="border-box",t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=s+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout(()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property")},e)}},PaloAlto.TableWrap=function t(){let e=(t,e="",i)=>((i=i||document.createElement("div")).classList.add(e),i.setAttribute("data-scroll-lock-scrollable",""),t.parentNode.insertBefore(i,t),i.appendChild(t)),i=document.querySelectorAll("table");i.forEach(t=>{e(t,"table-wrapper")})},PaloAlto.fadeIn=(t,e,i=null)=>{t.style.opacity=0,t.style.display=e||"block";let n=!0;!function e(){let r=parseFloat(t.style.opacity);(r+=.1)>1||(t.style.opacity=r,requestAnimationFrame(e)),1===parseInt(r)&&n&&"function"==typeof i&&(n=!1,i())}()},PaloAlto.fadeOut=function(t,e=null){t.style.opacity=1,function i(){(t.style.opacity-=.1)<0?t.style.display="none":requestAnimationFrame(i),0===parseFloat(t.style.opacity)&&"function"==typeof e&&e()}()},PaloAlto.Filters=function(){let t={buttons:"button",buttonFiltersToggle:"[data-toggle-filters]",buttonFiltersClose:"[data-close-filters]",buttonFiltersOpen:"[data-open-filters]",collectionWrapper:"[data-collection-wrapper]",inputs:"input, select, label, textarea",inputSort:"[data-input-sort]",filters:"[data-collection-filters]",filtersWrapper:"[data-collection-filters-wrapper]",filtersList:"[data-collection-filters-list]",filtersStickyBar:"[data-collection-sticky-bar]",filter:"[data-collection-filter]",filterTag:"[data-collection-filter-tag]",filterTagButton:"[data-collection-filter-tag-button]",filtersForm:"[data-collection-filters-form]",filterResetButton:"[data-filter-reset-button]",filterTagClearButton:"[data-filter-tag-reset-button]",productGrid:"[data-collection-products]",productMediaSlideshow:"[data-product-media-slideshow]",productMediaSlide:"[data-product-media-slideshow-slide]",priceMin:"[data-field-price-min]",priceMax:"[data-field-price-max]",rangeMin:"[data-se-min-value]",rangeMax:"[data-se-max-value]",rangeMinValue:"data-se-min-value",rangeMaxValue:"data-se-max-value",rangeMinDefault:"data-se-min",rangeMaxDefault:"data-se-max",searchForm:"[data-search-form]",swatchesWrapper:"[data-grid-swatches]",swatch:"[data-swatch]"},e={filtersVisible:"collection__filters--visible",isActive:"is-active",isExpanded:"is-expanded",isVisible:"is-visible",isLoading:"is-loading"};function i(e){this.container=e,this.sectionId=e.dataset.sectionId,this.namespace="."+e.dataset.sectionId,this.enableFilters="true"===e.dataset.enableFilters,this.filterMode=e.dataset.filterMode,this.collectionHandle=this.container.dataset.collection,this.productGrid=this.container.querySelector(t.productGrid),this.filters=this.container.querySelector(t.filters),this.filtersStickyBar=this.container.querySelector(t.filtersStickyBar),this.filtersForm=this.container.querySelector(t.filtersForm),this.searchForm=this.container.querySelector(t.searchForm),this.inputSort=this.container.querySelectorAll(t.inputSort),this.filterData=[],this.hideFilters=this.hideFilters.bind(this),this.showFilters=this.showFilters.bind(this),this.onFilterResetClick=this.onFilterResetClick.bind(this),this.onFilterTagResetClick=this.onFilterTagResetClick.bind(this),this.onFilterTagClearClick=this.onFilterTagClearClick.bind(this),this.onFilterToggleClick=this.onFilterToggleClick.bind(this),this.onKeyUpHandler=this.onKeyUpHandler.bind(this),this.updateRangeEvent=this.updateRange.bind(this),this.debouncedSubmitEvent=PaloAlto.debounce(function(t){this.onSubmitHandler(t)},500),this.debouncedSortEvent=PaloAlto.debounce(function(t){this.onSortChange(t)},500),this.productGridEvents={},this.initTagFilters(),this.initFacetedFilters(),this.bindToggleButtonsEvents(),this.bindFilterButtonsEvents(),this.initInfinityScroll(),this.initProductGridEvents(),PaloAlto.initSwatches.makeSwatch(this.container),PaloAlto.initCollapsible(),setVars(),window.addEventListener("popstate",this.onHistoryChange.bind(this))}return i.prototype=$.extend({},i.prototype,{initFacetedFilters:function(){"tag"!=this.filterMode&&"group"!=this.filterMode&&this.enableFilters&&new PaloAlto.RangeSlider(this.container)},updateRange:function(){let e=this.filtersForm.querySelector(t.rangeMin),i=this.filtersForm.querySelector(t.rangeMax),n=this.filtersForm.querySelector(t.priceMin),r=this.filtersForm.querySelector(t.priceMax);if(e.hasAttribute(t.rangeMinValue)&&i.hasAttribute(t.rangeMaxValue)){let s=parseFloat(n.placeholder,10),o=parseFloat(r.placeholder,10),a=parseFloat(e.getAttribute(t.rangeMinValue),10),l=parseFloat(i.getAttribute(t.rangeMaxValue),10);(s!==a||o!==l)&&(n.value=parseInt(a),r.value=parseInt(l),this.filtersForm.dispatchEvent(new Event("input",{bubbles:!0})))}},onSubmitHandler:function(e){e.preventDefault();let i=new FormData(e.target.closest("form")),n=new URLSearchParams(i),r=this.filtersForm.querySelector(t.rangeMin),s=this.filtersForm.querySelector(t.rangeMax),o=this.filtersForm.querySelector(t.priceMin),a=this.filtersForm.querySelector(t.priceMax);if(r&&s&&o&&a&&r.hasAttribute(t.rangeMinDefault)&&s.hasAttribute(t.rangeMaxDefault)){let l=parseFloat(r.getAttribute(t.rangeMinDefault),10),c=parseFloat(s.getAttribute(t.rangeMaxDefault),10),d=o.value?parseFloat(o.value,10):l,u=a.value?parseFloat(a.value,10):c;d<=l&&u>=c&&(n.delete("filter.v.price.gte"),n.delete("filter.v.price.lte"))}this.renderSection(n.toString(),e)},onHistoryChange:function(t){let e=t.state?.searchParams||"";this.renderSection(e,null,!1)},renderSection:function(t,e,i=!0){this.startLoading();let n=`${window.location.pathname}?section_id=${this.sectionId}&${t}`,r=t=>t.url===n;this.filterData.some(r)?this.renderSectionFromCache(r,e):this.renderSectionFromFetch(n,e),i&&this.updateURLHash(t)},renderSectionFromFetch:function(t,e){fetch(t).then(t=>t.text()).then(e=>{let i=e;this.filterData=[...this.filterData,{html:i,url:t}],this.renderFilters(i),this.renderProductGrid(i),this.finishLoading()})},renderSectionFromCache:function(t,e){let i=this.filterData.find(t).html;this.renderFilters(i,e),this.renderProductGrid(i),this.finishLoading()},renderProductGrid:function(e){let i=new DOMParser().parseFromString(e,"text/html").querySelector(t.productGrid).innerHTML;this.productGrid.innerHTML=i,this.initProductGridEvents()},renderFilters:function(e){let i=new DOMParser().parseFromString(e,"text/html").querySelector(t.filters).innerHTML;this.filters.innerHTML=i,this.filtersForm=document.querySelector(t.filtersForm),this.bindFilterButtonsEvents(),this.bindToggleButtonsEvents(),PaloAlto.initSwatches.makeSwatch(this.container),PaloAlto.initCollapsible(),document.dispatchEvent(new CustomEvent("theme:filters:init",{bubbles:!0}))},updateURLHash:function(t){history.pushState({searchParams:t},"",`${window.location.pathname}${t&&"?".concat(t)}`)},bindFilterButtonsEvents:function(){this.container.querySelectorAll(t.filterResetButton).forEach(t=>{t.addEventListener("click",this.onFilterResetClick,{once:!0})}),this.filtersForm&&(this.filtersForm.addEventListener("input",this.debouncedSubmitEvent.bind(this)),this.filtersForm.addEventListener("theme:filter:range-update",this.updateRangeEvent))},onFilterResetClick:function(t){t.preventDefault(),this.renderSection(new URL(t.currentTarget.href).searchParams.toString())},bindToggleButtonsEvents:function(){this.container.querySelectorAll(t.buttonFiltersToggle).forEach(t=>{t.addEventListener("click",this.onFilterToggleClick)}),this.container.querySelectorAll(t.buttonFiltersClose).forEach(t=>{t.addEventListener("click",this.hideFilters)}),this.container.querySelectorAll(t.buttonFiltersOpen).forEach(t=>{t.addEventListener("click",this.showFilters)}),this.container.querySelector(t.collectionWrapper).addEventListener("keyup",this.onKeyUpHandler)},onKeyUpHandler:function(t){t.keyCode===slate.utils.keyboardKeys.ESCAPE&&this.hideFilters()},onFilterToggleClick:function(t){t.preventDefault();let i=this.filters.classList.contains(e.filtersVisible);i?this.hideFilters():this.showFilters()},showFilters:function(){let i=document.querySelector(t.filtersList);if(slate.a11y.state.trigger=document.querySelector(t.buttonFiltersToggle),slate.a11y.trapFocus({container:this.filters,elementToFocus:this.filters.querySelector(t.buttons)}),window.innerWidth<theme.sizes.widescreen&&(this.filters.classList.add(e.filtersVisible),document.dispatchEvent(new CustomEvent("theme:scroll:lock",{bubbles:!0,detail:i}))),this.filtersStickyBar){let n=this.getStickyBarOffsetTop();window.scrollTo({top:n,left:0,behavior:"smooth"})}},hideFilters:function(){let t=this.filters.classList.contains(e.filtersVisible),i=this.container.classList.contains(e.isLoading);t&&(this.filters.classList.remove(e.filtersVisible),slate.a11y.removeTrapFocus()),i||document.dispatchEvent(new CustomEvent("theme:scroll:unlock",{bubbles:!0,detail:300}))},initTagFilters:function(){("tag"==this.filterMode||"group"==this.filterMode)&&this.enableFilters&&(this.tags=this.container.dataset.tags.split("+").filter(t=>t),this.bindFilterTagButtonsEvents(),this.bindSortChangeEvent(),this.resizeEvent=PaloAlto.debounce(this.hideFilters.bind(this),250),document.addEventListener("theme:resize:width",this.resizeEvent))},renderTagFiltersProducts:function(e){var i=this;this.startLoading(),"object"==typeof this.endlessCollection&&this.endlessCollection.destroy(),fetch(e).then(t=>t.text()).then(n=>{let r=n,s=new DOMParser().parseFromString(r,"text/html"),o=s.querySelector(t.productGrid).innerHTML,a=s.querySelector(t.filters).innerHTML;this.productGrid.innerHTML=o,this.filters.innerHTML=a,this.inputSort=this.container.querySelectorAll(t.inputSort),this.filtersForm=document.querySelector(t.filtersForm),this.filterData=[...this.filterData,{html:r,url:e}],i.initInfinityScroll(),this.bindFilterTagButtonsEvents(),this.bindSortChangeEvent(),this.bindToggleButtonsEvents(),this.initProductGridEvents(),PaloAlto.initCollapsible(),PaloAlto.initSwatches.makeSwatch(this.container),AOS.refreshHard(),history.replaceState&&window.history.pushState({path:e},"",e)}).catch(t=>{this.finishLoading(),console.log(`Error: ${t}`)})},bindFilterTagButtonsEvents:function(){this.container.querySelectorAll(t.filterTagButton).forEach(t=>{t.addEventListener("click",this.onFilterTagButtonClick.bind(this),{once:!0})}),this.container.querySelectorAll(t.filterTagClearButton).forEach(t=>{t.addEventListener("click",this.onFilterTagClearClick,{once:!0})}),this.container.querySelectorAll(t.filterResetButton).forEach(t=>{t.addEventListener("click",this.onFilterTagResetClick,{once:!0})})},bindSortChangeEvent:function(){this.container.querySelectorAll(t.inputSort).forEach(t=>{t.addEventListener("input",this.debouncedSortEvent.bind(this))})},onFilterTagButtonClick:function(i){i.preventDefault();let n=i.currentTarget,r=n.dataset.tag;if(n.parentNode.classList.contains(e.isActive)){let s=this.tags.indexOf(r);n.parentNode.classList.remove(e.isActive),s>-1&&this.tags.splice(s,1)}else n.parentNode.classList.add(e.isActive),this.tags.push(r);let o=this.collectionHandle+"/"+this.tags.join("+")+"?sort_by="+this.getSortValue();this.container.querySelector(t.filter).classList.remove(e.isExpanded),this.container.querySelector(t.filter).setAttribute("aria-expanded",!1),this.container.setAttribute("data-tags","["+this.tags+"]"),this.renderTagFiltersProducts(o)},onFilterTagClearClick:function(t){t.preventDefault();let e=t.currentTarget,i=e.dataset.tag,n=this.tags.indexOf(i);n>-1&&this.tags.splice(n,1);let r=this.collectionHandle+"/"+this.tags.join("+")+"?sort_by="+this.getSortValue();this.container.setAttribute("data-tags","["+this.tags+"]"),this.renderTagFiltersProducts(r)},onSortChange:function(){let t=this.collectionHandle+"/"+this.tags.join("+")+"?sort_by="+this.getSortValue();this.renderTagFiltersProducts(t)},getSortValue:function(){let t="";return this.inputSort.forEach(e=>{e.checked&&(t=e.value)}),t},onFilterTagResetClick:function(i){i.preventDefault(),this.container.querySelectorAll(t.filterTag).forEach(t=>{t.classList.remove(e.isActive)}),this.container.querySelectorAll(t.filter).forEach(t=>{t.classList.remove(e.isExpanded),t.setAttribute("aria-expanded",!1)}),this.tags=[],this.container.setAttribute("data-tags","");let n=this.collectionHandle+"/?sort_by="+this.getSortValue();this.renderTagFiltersProducts(n)},getProductsOffsetTop:function(){return this.productGrid.getBoundingClientRect().top-document.body.getBoundingClientRect().top-this.filtersStickyBar.offsetHeight},getStickyBarOffsetTop:function(){return this.filtersStickyBar.getBoundingClientRect().top-document.body.getBoundingClientRect().top},initProductGridEvents:function(){this.productGridEvents=new PaloAlto.ProductGrid(this.container),this.initInfinityScroll(),setTimeout(()=>{this.finishLoading()},450)},initInfinityScroll:function(){if(!theme.settings.enableInfinityScroll)return;let t=this.namespace;this.endlessCollection=new Ajaxinate({container:"#AjaxinateLoop",pagination:"#AjaxinatePagination",method:"scroll",namespace:t,callback:()=>{this.initProductGridEvents(),AOS.refreshHard()}})},startLoading:function(){this.container.classList.add(e.isLoading),this.hideFilters(),document.dispatchEvent(new CustomEvent("theme:scroll:lock",{bubbles:!0}));let t=this.getProductsOffsetTop();window.scrollTo({top:t,left:0,behavior:"smooth"})},finishLoading:function(){this.container.classList.remove(e.isLoading),document.dispatchEvent(new CustomEvent("theme:scroll:unlock",{bubbles:!0,detail:300})),AOS.refreshHard()},onDeselect:function(){$.magnificPopup.close()},onUnload:function(t){"object"==typeof this.endlessCollection&&this.endlessCollection.destroy(),$.magnificPopup.close()}}),i}(),PaloAlto.HoverDisclosure=function(){let t={disclosureToggle:"data-hover-disclosure-toggle",header:"[data-site-header]",link:"[data-top-link]",stagger:"[data-stagger]",staggerPair:"[data-stagger-first]",staggerAfter:"[data-stagger-second]",focusable:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'},e={isVisible:"is-visible",meganavVisible:"meganav--visible",meganavIsTransitioning:"meganav--is-transitioning",grandparent:"grandparent"};function i(i){this.disclosure=i,this.wrapper=i.closest(t.header),this.key=this.disclosure.id,this.trigger=document.querySelector(`[${t.disclosureToggle}='${this.key}']`),this.link=this.trigger.querySelector(t.link),this.grandparent=this.trigger.classList.contains(e.grandparent),this.transitionTimeout=0,this.trigger.setAttribute("aria-haspopup",!0),this.trigger.setAttribute("aria-expanded",!1),this.trigger.setAttribute("aria-controls",this.key),this.connectHoverToggle(),this.handleTablets(),this.staggerChildAnimations()}return i.prototype=$.extend({},i.prototype,{showDisclosure(t){t&&t.type&&"mouseenter"===t.type&&this.wrapper.classList.add(e.meganavIsTransitioning),this.grandparent?this.wrapper.classList.add(e.meganavVisible):this.wrapper.classList.remove(e.meganavVisible),this.trigger.setAttribute("aria-expanded",!0),this.trigger.classList.add(e.isVisible),this.disclosure.classList.add(e.isVisible),this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.transitionTimeout=setTimeout(()=>{this.wrapper.classList.remove(e.meganavIsTransitioning)},200)},hideDisclosure(){this.disclosure.classList.remove(e.isVisible),this.trigger.classList.remove(e.isVisible),this.trigger.setAttribute("aria-expanded",!1),this.wrapper.classList.remove(e.meganavVisible,e.meganavIsTransitioning)},staggerChildAnimations(){let e=this.disclosure.querySelectorAll(t.stagger);e.forEach((t,e)=>{t.style.transitionDelay=`${50*e+10}ms`});let i=this.disclosure.querySelectorAll(t.staggerPair);i.forEach((e,i)=>{let n=150*i;e.style.transitionDelay=`${n}ms`,e.parentElement.querySelectorAll(t.staggerAfter).forEach((t,e)=>{t.style.transitionDelay=`${n+20*(e+1)}ms`})})},handleTablets(){this.trigger.addEventListener("touchstart",(function(t){let i=this.disclosure.classList.contains(e.isVisible);i||(t.preventDefault(),this.showDisclosure(t))}).bind(this),{passive:!0})},connectHoverToggle(){this.trigger.addEventListener("mouseenter",t=>this.showDisclosure(t)),this.link.addEventListener("focus",t=>this.showDisclosure(t)),this.trigger.addEventListener("mouseleave",()=>this.hideDisclosure()),this.trigger.addEventListener("focusout",t=>{let e=this.trigger.contains(t.relatedTarget);e||this.hideDisclosure()}),this.disclosure.addEventListener("keyup",t=>{t.which===slate.utils.keyboardKeys.ESCAPE&&this.hideDisclosure()})},onBlockSelect(t){this.disclosure.contains(t.target)&&this.showDisclosure(t)},onBlockDeselect(t){this.disclosure.contains(t.target)&&this.hideDisclosure()}}),i}();var LibraryLoader=function(){var t={link:"link",script:"script"},e={requested:"requested",loaded:"loaded"},i={youtubeSdk:{tagId:"youtube-sdk",src:"https://www.youtube.com/iframe_api",type:t.script},modelViewerUiStyles:{tagId:"shopify-model-viewer-ui-styles",src:"https://cdn.shopify.com/shopifycloud/model-viewer-ui/assets/v1.0/model-viewer-ui.css",type:t.link}};return{load:function n(r,s){var o,a=i[r];if(a&&a.status!==e.requested){if(s=s||function(){},a.status===e.loaded){s();return}switch(a.status=e.requested,a.type){case t.script:o=(l=a,c=s,d=document.createElement("script"),d.src=l.src,d.addEventListener("load",function(){l.status=e.loaded,c()}),d);break;case t.link:o=(u=a,h=s,p=document.createElement("link"),p.href=u.src,p.rel="stylesheet",p.type="text/css",p.addEventListener("load",function(){u.status=e.loaded,h()}),p)}o.id=a.tagId,a.element=o;var l,c,d,u,h,p,f=document.getElementsByTagName(a.type)[0];f.parentNode.insertBefore(o,f)}}}}();function singles(t,e){let i=0,n=0;e.forEach(t=>{if(t.offsetHeight>n){let e=parseInt(window.getComputedStyle(t).marginTop),r=parseInt(window.getComputedStyle(t).marginBottom),s=e+r;s>i&&(i=s),n=t.offsetHeight}});let r=t.querySelectorAll("[data-overflow-background]");[t,...r].forEach(t=>{t.style.setProperty("min-height",`calc(${n+i}px + var(--header-height)`)})}function doubles(t){if(window.innerWidth<window.theme.sizes.small){t.querySelectorAll("[data-overflow-frame]").forEach(t=>{let e=t.querySelectorAll("[data-overflow-content]");singles(t,e)});return}let e=2*parseInt(getComputedStyle(t).getPropertyValue("--outer")),i=0,n=t.querySelectorAll("[data-overflow-frame]"),r=t.querySelectorAll("[data-overflow-content]");r.forEach(t=>{t.offsetHeight>i&&(i=t.offsetHeight)});let s=t.querySelectorAll("[data-overflow-background]");[...n,...s].forEach(t=>{t.style.setProperty("min-height",`${i}px`)}),t.style.setProperty("min-height",`${i+e}px`)}function preventOverflow(t){let e=t.querySelectorAll("[data-overflow-container]");e&&e.forEach(t=>{let e=t.querySelectorAll("[data-overflow-content]");singles(t,e),document.addEventListener("theme:resize",()=>{singles(t,e)})});let i=t.querySelectorAll("[data-overflow-wrapper]");i&&i.forEach(t=>{doubles(t),document.addEventListener("theme:resize",()=>{doubles(t)})})}PaloAlto.CustomScrollbar=function(){let t={scrollbar:"[data-custom-scrollbar]",scrollbarItems:"[data-custom-scrollbar-items]",scrollbarThumb:"[data-custom-scrollbar-thumb]"};function e(e){this.scrollbarItems=e.querySelector(t.scrollbarItems),this.scrollbar=e.querySelector(t.scrollbar),this.scrollbarThumb=e.querySelector(t.scrollbarThumb),this.trackWidth=0,this.calcScrollbarEvent=()=>this.calculateScrollbar(),this.onScrollbarChangeEvent=t=>this.onScrollbarChange(t),this.scrollbar&&this.scrollbarItems&&(this.events(),this.calculateScrollbar(),this.scrollbarItems.children.length&&this.calculateTrack(this.scrollbarItems.children[0]))}return e.prototype=$.extend({},e.prototype,{calculateTrack(t){let e=t.clientWidth/this.scrollbarThumb.parentElement.clientWidth,i=t.offsetLeft/this.scrollbarThumb.parentElement.clientWidth;this.scrollbar.style.setProperty("--thumb-scale",e),this.scrollbar.style.setProperty("--thumb-position",`${this.trackWidth*i}px`)},calculateScrollbar(){if(this.scrollbarItems.children.length){let t=[...this.scrollbarItems.children];this.trackWidth=0,t.forEach(t=>{this.trackWidth+=t.offsetWidth+parseInt(window.getComputedStyle(t).marginRight)}),this.scrollbar.style.setProperty("--track-width",`${this.trackWidth}px`)}},onScrollbarChange(t){t&&t.detail&&t.detail.element&&this.calculateTrack(t.detail.element)},events(){document.addEventListener("theme:resize:width",this.calcScrollbarEvent),document.addEventListener("theme:custom-scrollbar:change",this.onScrollbarChangeEvent)},destroy(){document.removeEventListener("theme:resize:width",this.calcScrollbarEvent),document.removeEventListener("theme:custom-scrollbar:change",this.onScrollbarChangeEvent)}}),e}(),PaloAlto.LoadPhotoswipe=function(){let t={popupContainer:".pswp",popupCloseBtn:".pswp__custom-close",popupIframe:"iframe, video",popupThumbs:".pswp__thumbs"},e={classCurrent:"is-current",classCustomLoader:"pswp--custom-loader",classCustomOpen:"pswp--custom-opening",classLoader:"pswp__loader"},i={dataOptionClasses:"data-pswp-option-classes"},n=`<div class="${e.classLoader}"><div class="loader loader--image"><div class="loader__image"></div></div></div>`;function r(e,i){this.items=e,this.pswpElement=document.querySelectorAll(t.popupContainer)[0],this.popup=null,this.popupThumbs=null,this.popupThumbsContainer=this.pswpElement.querySelector(t.popupThumbs),this.closeBtn=this.pswpElement.querySelector(t.popupCloseBtn),this.options=""!==i?i:{history:!1,focus:!1,mainClass:""},this.init()}return r.prototype=$.extend({},r.prototype,{init(){document.dispatchEvent(new CustomEvent("theme:scroll:lock",{bubbles:!0})),this.pswpElement.classList.add(e.classCustomOpen),this.initLoader(),this.loadPopup()},initLoader(){if(this.pswpElement.classList.contains(e.classCustomLoader)&&""!==this.options&&this.options.mainClass){this.pswpElement.setAttribute(i.dataOptionClasses,this.options.mainClass);let t=document.createElement("div");t.innerHTML=n,t=t.firstChild,this.pswpElement.appendChild(t)}else this.pswpElement.setAttribute(i.dataOptionClasses,"")},loadPopup(){this.pswpElement.classList.contains(e.classCustomLoader)&&this.pswpElement.classList.remove(e.classCustomLoader),this.pswpElement.classList.remove(e.classCustomOpen),this.popup=new PhotoSwipe(this.pswpElement,PhotoSwipeUI_Default,this.items,this.options),this.popup.init(),this.thumbsActions(),this.popup.listen("close",()=>this.onClose()),this.closeBtn&&this.closeBtn.addEventListener("click",()=>this.popup.close())},thumbsActions(){this.popupThumbsContainer&&this.popupThumbsContainer.firstChild&&(this.popupThumbsContainer.addEventListener("wheel",t=>this.stopDisabledScroll(t)),this.popupThumbsContainer.addEventListener("mousewheel",t=>this.stopDisabledScroll(t)),this.popupThumbsContainer.addEventListener("DOMMouseScroll",t=>this.stopDisabledScroll(t)),this.popupThumbs=this.pswpElement.querySelectorAll(`${t.popupThumbs} > *`),this.popupThumbs.forEach((t,i)=>{t.addEventListener("click",n=>{n.preventDefault(),t.parentElement.querySelector(`.${e.classCurrent}`).classList.remove(e.classCurrent),t.classList.add(e.classCurrent),this.popup.goTo(i)})}),this.popup.listen("imageLoadComplete",()=>this.setCurrentThumb()),this.popup.listen("beforeChange",()=>this.setCurrentThumb()))},stopDisabledScroll(t){t.stopPropagation()},onClose(){let n=this.pswpElement.querySelector(t.popupIframe);if(n&&n.parentNode.removeChild(n),this.popupThumbsContainer&&this.popupThumbsContainer.firstChild)for(;this.popupThumbsContainer.firstChild;)this.popupThumbsContainer.removeChild(this.popupThumbsContainer.firstChild);this.pswpElement.setAttribute(i.dataOptionClasses,"");let r=this.pswpElement.querySelector(`.${e.classLoader}`);r&&this.pswpElement.removeChild(r),setTimeout(()=>{document.dispatchEvent(new CustomEvent("theme:scroll:unlock",{bubbles:!0}))},250)},setCurrentThumb(){let i=this.pswpElement.querySelector(`${t.popupThumbs} > .${e.classCurrent}`);if(i&&i.classList.remove(e.classCurrent),!this.popupThumbs)return;let n=this.popupThumbs[this.popup.getCurrentIndex()];n.classList.add(e.classCurrent),this.scrollThumbs(n)},scrollThumbs(t){let e=this.popupThumbsContainer.scrollLeft,i=this.popupThumbsContainer.offsetWidth,n=e+i,r=t.offsetLeft,s=t.offsetWidth;if(n<=r+s||n>r){let o=parseInt(window.getComputedStyle(t).marginLeft);this.popupThumbsContainer.scrollTo({top:0,left:r-o,behavior:"smooth"})}}}),r}(),PaloAlto.Popout=function(){var t={form:"form",popoutWrapper:"[data-popout]",popoutList:"[data-popout-list]",popoutToggle:"[data-popout-toggle]",popoutInput:"[data-popout-input]",popoutOptions:"[data-popout-option]",popoutText:"[data-popout-text]",popoutPrevent:"data-popout-prevent",popoutQuantity:"data-quantity-field",dataValue:"data-value",ariaExpanded:"aria-expanded",ariaCurrent:"aria-current",productGridImage:"[data-product-image]",productGrid:"[data-product-grid-item]"},e={listVisible:"select-popout__list--visible",popoutAlternative:"select-popout--alt",currentSuffix:"--current",visible:"is-visible"};function i(e){this.popout=e,this.popoutList=this.popout.querySelector(t.popoutList),this.popoutToggle=this.popout.querySelector(t.popoutToggle),this.popoutText=this.popout.querySelector(t.popoutText),this.popoutInput=this.popout.querySelector(t.popoutInput),this.popoutOptions=this.popout.querySelectorAll(t.popoutOptions),this.popoutPrevent="true"===this.popout.getAttribute(t.popoutPrevent),this.popupToggleFocusoutEvent=t=>this.popupToggleFocusout(t),this.popupListFocusoutEvent=t=>this.popupListFocusout(t),this.popupToggleClickEvent=t=>this.popupToggleClick(t),this.popoutKeyupEvent=t=>this.popoutKeyup(t),this.popupOptionsClickEvent=t=>this.popupOptionsClick(t),this._connectOptionsDispatchEvent=t=>this._connectOptionsDispatch(t),this._connectOptions(),this._connectToggle(),this._onFocusOut(),this.popoutInput&&this.popoutInput.hasAttribute(t.popoutQuantity)&&document.addEventListener("theme:cart:update",this.updatePopout.bind(this))}return i.prototype=$.extend({},i.prototype,{unload(){this.popoutOptions.length&&this.popoutOptions.forEach(t=>{t.removeEventListener("theme:popout:click",this.popupOptionsClickEvent),t.removeEventListener("click",this._connectOptionsDispatchEvent)}),this.popoutToggle.removeEventListener("click",this.popupToggleClickEvent),this.popoutToggle.removeEventListener("focusout",this.popupToggleFocusoutEvent),this.popoutList.removeEventListener("focusout",this.popupListFocusoutEvent),this.popout.removeEventListener("keyup",this.popoutKeyupEvent)},popupToggleClick(i){let n="true"===i.currentTarget.getAttribute(t.ariaExpanded);if(this.popoutList.closest(t.productGrid)){let r=this.popoutList.closest(t.productGrid).querySelector(t.productGridImage);r&&r.classList.toggle(e.visible,!n)}i.currentTarget.setAttribute(t.ariaExpanded,!n),this.popoutList.classList.toggle(e.listVisible)},popupToggleFocusout(t){let e=this.popout.contains(t.relatedTarget);e||this._hideList()},popupListFocusout(t){let i=t.currentTarget.contains(t.relatedTarget),n=this.popoutList.classList.contains(e.listVisible);n&&!i&&this._hideList()},popupOptionsClick(i){let n=i.target.closest(t.popoutOptions);if("#"===n.attributes.href.value){i.preventDefault();let r="";if(i.currentTarget.getAttribute(t.dataValue)&&(r=i.currentTarget.getAttribute(t.dataValue)),this.popoutInput.value=r,this.popoutPrevent){this.popoutInput.dispatchEvent(new Event("change")),!i.detail.preventTrigger&&this.popoutInput.hasAttribute(t.popoutQuantity)&&this.popoutInput.dispatchEvent(new Event("input"));let s=this.popoutList.querySelector(`[class*="${e.currentSuffix}"]`),o=e.currentSuffix;if(s&&s.classList.length){for(let a of s.classList)if(a.includes(e.currentSuffix)){o=a;break}}let l=this.popoutList.querySelector(`.${o}`);l&&(l.classList.remove(`${o}`),i.currentTarget.parentElement.classList.add(`${o}`));let c=this.popoutList.querySelector(`[${t.ariaCurrent}]`);c&&c.hasAttribute(`${t.ariaCurrent}`)&&(c.removeAttribute(`${t.ariaCurrent}`),i.currentTarget.setAttribute(`${t.ariaCurrent}`,"true")),""!==r&&(this.popoutText.textContent=r),this.popupToggleFocusout(i),this.popupListFocusout(i)}else this._submitForm(r)}},updatePopout(){let i=this.popoutList.querySelector(`[${t.dataValue}="${this.popoutInput.value}"]`);i?(i.dispatchEvent(new CustomEvent("theme:popout:click",{cancelable:!0,bubbles:!0,detail:{preventTrigger:!0}})),i.parentElement.nextSibling||this.popout.classList.add(e.popoutAlternative)):this.popout.classList.add(e.popoutAlternative)},popoutKeyup(t){t.which===slate.utils.keyboardKeys.ESCAPE&&(this._hideList(),this.popoutToggle.focus())},bodyClick(t){let i=this.popout.contains(t.target),n=this.popoutList.classList.contains(e.listVisible);n&&!i&&this._hideList()},_connectToggle(){this.popoutToggle.addEventListener("click",this.popupToggleClickEvent)},_connectOptions(){this.popoutOptions.length&&this.popoutOptions.forEach(t=>{t.addEventListener("theme:popout:click",this.popupOptionsClickEvent),t.addEventListener("click",this._connectOptionsDispatchEvent)})},_connectOptionsDispatch(t){let e=new CustomEvent("theme:popout:click",{cancelable:!0,bubbles:!0,detail:{preventTrigger:!1}});t.target.dispatchEvent(e)||t.preventDefault()},_onFocusOut(){this.popoutToggle.addEventListener("focusout",this.popupToggleFocusoutEvent),this.popoutList.addEventListener("focusout",this.popupListFocusoutEvent),this.popout.addEventListener("keyup",this.popoutKeyupEvent),document.body.addEventListener("click",this.bodyClick.bind(this))},_submitForm(){let e=this.popout.closest(t.form);e&&e.submit()},_hideList(){this.popoutList.classList.remove(e.listVisible),this.popoutToggle.setAttribute(t.ariaExpanded,!1)}}),i}(),PaloAlto.NavSearch={selectors:{body:"body",header:"[data-site-header]",search:"[data-nav-search]",searchOpen:"[data-nav-search-open]",searchClose:"[data-nav-search-close]",searchForm:"[data-nav-search-form]",searchContainer:"[data-nav-search-container]",searchScroller:"[data-nav-search-scroller]",searchResultsContainer:"[data-nav-search-results]",searchInput:"[data-nav-search-input]",popularSearchLink:"[data-popular-search-link]",productTemplate:"[product-grid-item-template]",productsWrapper:"[data-products-wrap]",noresultTemplate:"[noresult-item-template]",resultsPagination:"[data-results-pagination]"},classes:{pushUp:"push-up",cartDrawerOpen:"js-drawer-open-cart",drawerOpen:"js-drawer-open",isSearching:"is-searching",isSearchVisible:"is-search-visible",navSearchIsVisible:"nav-search--is-visible",loading:"loading",isPaginationVisible:"is-pagination-visible"},init:function(){this.namespace=".search",this.productTemplate=document.querySelector(this.selectors.productTemplate).innerHTML,this.noresultTemplate=document.querySelector(this.selectors.noresultTemplate).innerHTML,this.searchContainer=document.querySelector(this.selectors.search),this.result=null,this.openSearchTimeout=0,this.initListeners()},initListeners:function(){let t=this;$(this.selectors.searchForm).on("keyup",this.selectors.searchInput,PaloAlto.debounce(function(e){let i=$(this).val();i.length>1&&e.keyCode!==slate.utils.keyboardKeys.ENTER&&($(t.selectors.searchContainer).addClass([t.classes.isSearching,t.classes.pushUp]),t.fetchProductSuggestions(i))},300)),$(this.selectors.search).on("keyup",function(e){e.keyCode===slate.utils.keyboardKeys.ESCAPE&&(e.stopImmediatePropagation(),t.close())}),$(this.selectors.searchOpen).on("click",function(e){e.preventDefault(),t.open()}),$(this.selectors.searchClose).on("click",function(e){e.preventDefault(),t.close()}),$(this.selectors.popularSearchLink).on("click",function(e){e.preventDefault();let i=$(this).text();$(t.selectors.searchInput).val(i),window.location.href=`${theme.routes.search_url}?type=product&q=${i}&options[prefix]=last`})},open:function(){let t=this,e=$(this.selectors.body).hasClass(this.classes.drawerOpen),i=$(this.selectors.body).hasClass(this.classes.cartDrawerOpen);function n(){let e=document.querySelector(t.selectors.searchScroller);$(t.selectors.header).addClass(t.classes.isSearchVisible),$(t.selectors.search).addClass(t.classes.navSearchIsVisible),document.dispatchEvent(new CustomEvent("theme:scroll:lock",{bubbles:!0,detail:e})),setTimeout(function(){slate.a11y.trapFocus({container:t.searchContainer,elementToFocus:$(t.selectors.searchInput)}),$(t.selectors.searchInput).focus().select()},100)}e||i?(PaloAlto.Drawer.close(),this.openSearchTimeout&&clearTimeout(this.openSearchTimeout),this.openSearchTimeout=setTimeout(n,400)):n()},close:function(){let t=$(this.selectors.header).hasClass(this.classes.isSearchVisible);t&&(this.reset(),slate.a11y.removeTrapFocus({container:this.searchContainer}),$(this.selectors.header).removeClass(this.classes.isSearchVisible),$(this.selectors.search).removeClass(this.classes.navSearchIsVisible),$(this.selectors.searchOpen).trigger("focus"),setTimeout(()=>{document.dispatchEvent(new CustomEvent("theme:scroll:unlock",{bubbles:!0}))},250))},reset:function(){$(this.selectors.searchForm)[0].reset(),$(this.selectors.productsWrapper).empty(),$(this.selectors.searchContainer).removeClass([this.classes.isSearching,this.classes.pushUp]),$(this.selectors.searchResultsContainer).removeClass(this.classes.isPaginationVisible)},fetchProductSuggestions:function(t){let e=this;fetch(`/search/suggest.json?q=${encodeURIComponent(t)}&resources[type]=product&resources[limit]=10&resources[options][unavailable_products]=last`).then(this.handleErrors).then(t=>t.json()).then(t=>(this.result=t.resources.results,this.fetchProducts(this.result.products))).then(i=>{$(this.selectors.productsWrapper).empty(),$(this.selectors.searchResultsContainer).removeClass(this.classes.isPaginationVisible),""===i?this.injectHTML($(this.selectors.productsWrapper)[0],this.renderNoResult()):(this.injectHTML($(this.selectors.productsWrapper)[0],i),this.result.products.length>9&&($(`${this.selectors.resultsPagination} > a`).attr("href",`${theme.routes.search_url}?type=product&q=${t}&options[prefix]=last`),$(this.selectors.searchResultsContainer).addClass(this.classes.isPaginationVisible)),slate.a11y.removeTrapFocus({container:e.searchContainer}),slate.a11y.trapFocus({container:e.searchContainer,elementToFocus:$(e.selectors.searchInput)})),$(this.selectors.searchContainer).removeClass(this.classes.isSearching)}).catch(t=>{console.error(t)})},injectHTML(t,e){t.innerHTML+=e},renderNoResult(){let t=theme.strings.no_results;return Sqrl.render(this.noresultTemplate,{item:{text:t}})},fetchProducts(t){let e=[];return t.forEach(t=>{e.push(PaloAlto.fetchProduct(t.handle).then(t=>{let e=PaloAlto.formatPrices(t);return this.renderProduct(e)}))}),Promise.all(e).then(t=>{let e="";return t.forEach(t=>{e+=t}),e})},renderProduct(t){let e=t.title.replace(/(<([^>]+)>)/gi,""),i=null,n="";if(void 0!==t.media&&(i=t.media[0]),i){let r=!1;"contain"==theme.settings.gridImageSize&&(r=i.preview_image.aspect_ratio>theme.settings.gridImageAspectRatio?"landscape":"portrait"),n={thumb:PaloAlto.BgSet.render(getSizedImageUrl(i.preview_image.src,"2048x"),i.preview_image.aspect_ratio),aspectRatio:i.preview_image.aspect_ratio,layout:r}}else n={thumb:theme.assets.no_image,alt:"",aspectRatio:1};let s={...t,title:e,image:n};return Sqrl.render(this.productTemplate,{product:s})},handleErrors:t=>t.ok?t:t.json().then(function(e){let i=new PaloAlto.FetchError({status:t.statusText,headers:t.headers,json:e});throw i})},PaloAlto.ProductAddForm=function(){let t={product:"[data-product]",productForm:"[data-product-form]",addToCart:"[data-add-to-cart]",addToCartText:"[data-add-to-cart-text]",comparePrice:"[data-compare-price]",formWrapper:"[data-form-wrapper]",originalSelectorId:"[data-product-select]",priceWrapper:"[data-price-wrapper]",priceOffWrap:"[data-price-off]",priceOffType:"[data-price-off-type]",priceOffAmount:"[data-price-off-amount]",productMediaSlider:"[data-product-single-media-slider]",productJson:"[data-product-json]",productPrice:"[data-product-price]",unitPrice:"[data-product-unit-price]",unitBase:"[data-product-base]",unitWrapper:"[data-product-unit]",preOrderTag:"_preorder",dataEnableHistoryState:"data-enable-history-state",subPrices:"[data-subscription-watch-price]",subSelectors:"[data-subscription-selectors]",subsToggle:"[data-toggles-group]",subsChild:"data-group-toggle",subDescription:"[data-plan-description]",remainingCount:"[data-remaining-count]",remainingMax:"[data-remaining-max]",remainingMaxAttr:"data-remaining-max",remainingWrapper:"[data-remaining-wrapper]",remainingJSON:"[data-product-remaining-json]",idInput:'[name="id"]',notificationForm:"[data-notification-form]",storeAvailabilityContainer:"[data-store-availability-container]",upsellButton:"[data-upsell-btn]"},e={hidden:"hidden",variantSoldOut:"variant--soldout",variantUnavailable:"variant--unavailabe",productPriceSale:"product__price--sale",notificationFormHidden:"product__notification--hidden",remainingLow:"count-is-low",remainingIn:"count-is-in",remainingOut:"count-is-out",remainingUnavailable:"count-is-unavailable"};function i(e){if(this.container=e,this.product=this.container.querySelector(t.product),this.productForm=this.container.querySelector(t.productForm),!this.product||!this.productForm){let i=new PaloAlto.QuantityCounter(this.container);i.init();return}if(this.storeAvailabilityContainer=this.container.querySelector(t.storeAvailabilityContainer),this.enableHistoryState="true"===this.container.getAttribute(t.dataEnableHistoryState),this.hasUnitPricing=this.container.querySelector(t.unitWrapper),this.subSelectors=this.container.querySelector(t.subSelectors),this.subPrices=this.container.querySelector(t.subPrices),this.priceOffWrap=this.container.querySelector(t.priceOffWrap),this.priceOffAmount=this.container.querySelector(t.priceOffAmount),this.priceOffType=this.container.querySelector(t.priceOffType),this.planDecription=this.container.querySelector(t.subDescription),this.sellout=null,this.remainingWrapper=this.container.querySelector(t.remainingWrapper),this.remainingWrapper){let n=this.container.querySelector(t.remainingMax);this.remainingMaxInt=parseInt(n.getAttribute(t.remainingMaxAttr),10),this.remainingCount=this.container.querySelector(t.remainingCount),this.remainingJSONWrapper=this.container.querySelector(t.remainingJSON),this.remainingJSON=null,this.remainingJSONWrapper&&""!==this.remainingJSONWrapper.innerHTML?this.remainingJSON=JSON.parse(this.remainingJSONWrapper.innerHTML):console.warn("Missing product quantity JSON")}this.storeAvailabilityContainer&&(this.storeAvailability=new PaloAlto.StoreAvailability(this.storeAvailabilityContainer));let r=new PaloAlto.QuantityCounter(this.container);r.init(),this.init()}return i.prototype=$.extend({},i.prototype,{init(){let e=null,i=this.container.querySelector(t.productJson);i&&(e=i.innerHTML),e?(this.productJSON=JSON.parse(e),this.linkForm(),this.sellout=new PaloAlto.SelloutVariants(this.container,this.productJSON)):console.error("Missing product JSON")},destroy(){this.productForm.destroy()},linkForm(){this.productForm=new PaloAlto.ProductForm(this.productForm,this.productJSON,{onOptionChange:this.onOptionChange.bind(this),onPlanChange:this.onPlanChange.bind(this)}),this.pushState(this.productForm.getFormState()),this.subsToggleListeners()},onOptionChange(t){this.pushState(t.dataset),this.updateProductImage(t)},onPlanChange(t){this.subPrices&&this.pushState(t.dataset)},pushState(t){this.productState=this.setProductState(t),this.updateAddToCartState(t),this.updateProductPrices(t),this.updateSaleText(t),this.updateSubscriptionText(t),this.fireHookEvent(t),this.updateRemaining(t),this.sellout?.update(t),this.enableHistoryState&&this.updateHistoryState(t),this.storeAvailability&&this.storeAvailability.updateContent(t.variant.id,this.productForm.product.title)},updateAddToCartState(i){let n=i.variant,r=this.container.querySelectorAll(t.priceWrapper),s=this.container.querySelectorAll(t.addToCart),o=this.container.querySelectorAll(t.addToCartText),a=this.container.querySelectorAll(t.formWrapper),l=this.container.querySelectorAll(t.notificationForm),c=theme.strings.add_to_cart;this.productJSON.tags.includes(t.preOrderTag)&&(c=theme.strings.preorder),r.length&&n&&r.forEach(t=>{t.classList.remove(e.hidden)}),s.length&&s.forEach(e=>{!e.matches(t.upsellButton)&&(n&&n.available?e.disabled=!1:e.disabled=!0)}),o.length&&o.forEach(t=>{n?n.available?t.innerHTML=c:t.innerHTML=theme.strings.sold_out:t.innerHTML=theme.strings.unavailable}),a.length&&a.forEach(i=>{if(n){n.available?i.classList.remove(e.variantSoldOut,e.variantUnavailable):(i.classList.add(e.variantSoldOut),i.classList.remove(e.variantUnavailable));let r=i.querySelector(t.originalSelectorId);r&&(r.value=n.id)}else i.classList.add(e.variantUnavailable),i.classList.remove(e.variantSoldOut)}),l.length&&l.forEach(t=>{n&&n.available?t.classList.add(e.notificationFormHidden):t.classList.remove(e.notificationFormHidden)})},updateHistoryState(t){let e=t.variant,i=t.plan,n=window.location.href;if(e&&n.includes("/product")){let r=new window.URL(n),s=r.searchParams;s.set("variant",e.id),i&&i.detail&&i.detail.id&&this.productState.hasPlan?s.set("selling_plan",i.detail.id):s.delete("selling_plan"),r.search=s.toString();let o=r.toString();window.history.replaceState({path:o},"",o)}},updateRemaining(t){let i=t.variant;if(i&&this.remainingWrapper&&this.remainingJSON&&this.remainingCount){let n=this.remainingJSON[i.id];n&&n<=this.remainingMaxInt&&n>0?(this.remainingWrapper.classList.remove(e.remainingIn,e.remainingOut,e.remainingUnavailable),this.remainingWrapper.classList.add(e.remainingLow),this.remainingCount.innerHTML=n):this.productState.soldOut?(this.remainingWrapper.classList.remove(e.remainingLow,e.remainingIn,e.remainingUnavailable),this.remainingWrapper.classList.add(e.remainingOut)):this.productState.available&&(this.remainingWrapper.classList.remove(e.remainingLow,e.remainingOut,e.remainingUnavailable),this.remainingWrapper.classList.add(e.remainingIn))}else this.remainingWrapper&&(this.remainingWrapper.classList.remove(e.remainingIn,e.remainingOut,e.remainingLow),this.remainingWrapper.classList.add(e.remainingUnavailable))},getBaseUnit:t=>1===t.unit_price_measurement.reference_value?t.unit_price_measurement.reference_unit:t.unit_price_measurement.reference_value+t.unit_price_measurement.reference_unit,subsToggleListeners(){let i=this.container.querySelectorAll(t.subsToggle);i.forEach(i=>{i.addEventListener("change",(function(i){let n=i.target.value.toString(),r=this.container.querySelector(`[${t.subsChild}="${n}"]`),s=this.container.querySelectorAll(`[${t.subsChild}]`);if(r){r.classList.remove(e.hidden);let o=r.querySelector('[name="selling_plan"]');o.checked=!0,o.dispatchEvent(new Event("change"))}s.forEach(t=>{if(t!==r){t.classList.add(e.hidden);let i=t.querySelectorAll('[name="selling_plan"]');i.forEach(t=>{t.checked=!1,t.dispatchEvent(new Event("change"))})}})}).bind(this))})},updateSaleText(t){this.productState.planSale?this.updateSaleTextSubscription(t):this.productState.onSale?this.updateSaleTextStandard(t):this.priceOffWrap&&this.priceOffWrap.classList.add(e.hidden)},updateSaleTextStandard(t){if(!this.priceOffType)return;this.priceOffType.innerHTML=window.theme.strings.sale_badge_text||"sale";let i=t.variant;if(window.theme.settings.savingBadgeType&&"percentage"===window.theme.settings.savingBadgeType){let n=(i.compare_at_price-i.price)/i.compare_at_price;this.priceOffAmount.innerHTML=`${Math.floor(100*n)}%`}else{let r=i.compare_at_price-i.price;this.priceOffAmount.innerHTML=slate.Currency.formatMoney(r,theme.moneyFormat)}this.priceOffWrap.classList.remove(e.hidden)},updateSaleTextSubscription(t){this.priceOffType.innerHTML=window.theme.strings.subscription||"subscripton";let i=t.variant,n=t.plan.detail.price_adjustments[0],r=n.value;n&&"percentage"===n.value_type?this.priceOffAmount.innerHTML=`${r}%`:n&&"price"===n.value_type?this.priceOffAmount.innerHTML=slate.Currency.formatMoney(i.price-n.value,theme.moneyFormat):this.priceOffAmount.innerHTML=slate.Currency.formatMoney(r,theme.moneyFormat),this.priceOffWrap.classList.remove(e.hidden)},updateSubscriptionText(t){t.plan&&this.planDecription&&null!==t.plan.detail.description?(this.planDecription.innerHTML=t.plan.detail.description,this.planDecription.classList.remove(e.hidden)):this.planDecription&&this.planDecription.classList.add(e.hidden)},updateProductPrices(i){let n=i.variant,r=i.plan,s=this.container.querySelectorAll(t.priceWrapper);s.forEach(i=>{let s=i.querySelector(t.comparePrice),o=i.querySelector(t.productPrice),a="",l="";this.productState.available&&(a=n.compare_at_price,l=n.price),this.productState.hasPlan&&(l=r.allocation.price),this.productState.planSale&&(a=r.allocation.compare_at_price,l=r.allocation.price),s&&(this.productState.onSale||this.productState.planSale?(s.classList.remove(e.hidden),o.classList.add(e.productPriceSale)):(s.classList.add(e.hidden),o.classList.remove(e.productPriceSale)),s.innerHTML=slate.Currency.formatMoney(a,theme.moneyFormat)),o.innerHTML=0===l?window.theme.strings.free:slate.Currency.formatMoney(l,theme.moneyFormat)}),this.hasUnitPricing&&this.updateProductUnits(i)},updateProductUnits(e){let i=e.variant,n=e.plan,r=null;if(i&&i.unit_price&&(r=i.unit_price),n&&n.allocation&&n.allocation.unit_price&&(r=n.allocation.unit_price),r){let s=this.getBaseUnit(i),o=0===r?window.theme.strings.free:slate.Currency.formatMoney(r,theme.moneyFormat);this.container.querySelector(t.unitPrice).innerHTML=o,this.container.querySelector(t.unitBase).innerHTML=s,PaloAlto.Element.show(this.container.querySelector(t.unitWrapper))}else PaloAlto.Element.hide(this.container.querySelector(t.unitWrapper))},fireHookEvent(t){let e=t.variant;this.container.dispatchEvent(new CustomEvent("theme:variant:change",{detail:{variant:e},bubbles:!0}))},setProductState(t){let e=t.variant,i=t.plan,n={available:!0,soldOut:!1,onSale:!1,showUnitPrice:!1,requiresPlan:!1,hasPlan:!1,planPerDelivery:!1,planSale:!1};return e&&(!e.requires_selling_plan||i)?(e.available||(n.soldOut=!0),e.compare_at_price>e.price&&(n.onSale=!0),e.unit_price&&(n.showUnitPrice=!0),this.product&&this.product.requires_selling_plan&&(n.requiresPlan=!0),i&&this.subPrices&&(n.hasPlan=!0,i.allocation.per_delivery_price!==i.allocation.price&&(n.planPerDelivery=!0),e.price>i.allocation.price&&(n.planSale=!0))):n.available=!1,n},updateProductImage(e){let i=e.dataset.variant;if(i){let n=i.featured_media?i.featured_media.id:"",r=this.container.querySelector(t.productMediaSlider),s=Flickity.data(r);if(s&&s.isActive){let o=r.querySelector(`[data-id="${n}"]`);if(o){let a=parseInt([...o.parentNode.children].indexOf(o));s.select(a)}}}}}),i}(),PaloAlto.SelloutVariants=function(){let t={form:"[data-product-form]",optionPosition:"[data-option-position]",optionInput:'[name^="options"], [data-popout-option]'},e={soldOut:"sold-out",unavailable:"unavailable"},i={optionPosition:"data-option-position",selectOptionValue:"data-value"};function n(e,i){this.container=e,this.productJSON=i,this.form=this.container.querySelector(t.form),this.formData=new FormData(this.form),this.optionElements=this.container.querySelectorAll(t.optionInput),this.productJSON&&this.form&&this.init()}return n.prototype=$.extend({},n.prototype,{init(){this.update()},update(){this.getCurrentState(),this.optionElements.forEach(n=>{let r=n.value||n.getAttribute(i.selectOptionValue),s=n.closest(t.optionPosition);if(!s)return;let o=s.getAttribute(i.optionPosition),a=parseInt(o,10)-1,l=[...this.selections];l[a]=r;let c=this.productJSON.variants.find(t=>{let e=!0;for(let i=0;i<l.length;i++)t.options[i]!==l[i]&&(e=!1);return e});n.classList.remove(e.soldOut,e.unavailable),void 0===c?n.classList.add(e.unavailable):c?.available===!1&&n.classList.add(e.soldOut)})},getCurrentState(){for(var t of(this.formData=new FormData(this.form),this.selections=[],this.formData.entries()))t[0].includes("options[")&&this.selections.push(t[1])}}),n}(),PaloAlto.ProductVideo=function(){let t={html5:"html5",youtube:"youtube",vimeo:"vimeo"},e={deferredMedia:"[data-deferred-media]",deferredMediaButton:"[data-deferred-media-button]",productMediaWrapper:"[data-product-single-media-wrapper]",productMediaSlider:"[data-product-single-media-slider]",mediaContainer:"[data-video]",mediaHidden:".media--hidden",mediaId:"data-media-id",dataAutoplayVideo:"data-autoplay-video"},i={mediaHidden:"media--hidden",isSelected:"is-selected"},n={loaded:"loaded",sectionId:"data-section-id"};function r(t){this.container=t,this.id=t.getAttribute(n.sectionId),this.autoplayVideo="true"===this.container.getAttribute(e.dataAutoplayVideo),this.players={},this.init()}return r.prototype=$.extend({},r.prototype,{init:function(){let t=this.container.querySelectorAll(e.mediaContainer);t.forEach(t=>{let i=t.querySelector(e.deferredMediaButton);i&&i.addEventListener("click",this.loadContent.bind(this,t)),this.autoplayVideo&&this.loadContent(t)})},loadContent:function(i){if(i.querySelector(e.deferredMedia).getAttribute(n.loaded))return;let r=document.createElement("div");r.appendChild(i.querySelector("template").content.firstElementChild.cloneNode(!0));let s=i.dataset.mediaId,o=r.querySelector("video, iframe"),a=this.hostFromVideoElement(o),l=i.querySelector(e.deferredMedia);l.appendChild(o),l.setAttribute("loaded",!0),this.players[s]={mediaId:s,sectionId:this.id,container:i,element:o,host:a,ready:()=>{this.createPlayer(s)}};let c=this.players[s];switch(c.host){case t.html5:this.loadVideo(c,t.html5);break;case t.vimeo:window.isVimeoAPILoaded?this.loadVideo(c,t.vimeo):loadScript({url:"https://player.vimeo.com/api/player.js"}).then(()=>this.loadVideo(c,t.vimeo));break;case t.youtube:window.isYoutubeAPILoaded?this.loadVideo(c,t.youtube):loadScript({url:"https://www.youtube.com/iframe_api"}).then(()=>this.loadVideo(c,t.youtube))}},hostFromVideoElement:function(e){if("VIDEO"===e.tagName)return t.html5;if("IFRAME"===e.tagName){if(/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e.src))return t.youtube;if(e.src.includes("vimeo.com"))return t.vimeo}return null},loadVideo:function(t,e){t.host===e&&t.ready()},createPlayer:function(e){let i=this.players[e];switch(i.container.addEventListener("theme:media:play",()=>this.pauseOtherMedia(e)),i.container.addEventListener("theme:media:visible",t=>this.onVisible(t)),i.container.addEventListener("theme:media:hidden",t=>this.onHidden(t)),i.container.addEventListener("xrLaunch",t=>this.onHidden(t)),this.autoplayVideo&&this.observeVideo(i,e),i.host){case t.html5:i.element.addEventListener("play",()=>{i.container.dispatchEvent(new CustomEvent("theme:media:play"),{bubbles:!0})});let n=i.element.play();void 0!==n&&n.then(t=>{}).catch(t=>{});break;case t.vimeo:this.players[e].player=new Vimeo.Player(i.element),this.players[e].player.play(),i.container.dispatchEvent(new CustomEvent("theme:media:play"),{bubbles:!0}),window.isVimeoAPILoaded=!0;break;case t.youtube:if(i.host==t.youtube&&i.player)return;YT.ready(()=>{let t=i.container.dataset.videoId;this.players[e].player=new YT.Player(i.element,{videoId:t,events:{onReady(t){t.target.playVideo(),i.container.dispatchEvent(new CustomEvent("theme:media:play"),{bubbles:!0})},onStateChange(t){1==t.data&&i.container.dispatchEvent(new CustomEvent("theme:media:play"),{bubbles:!0}),2==t.data&&i.container.dispatchEvent(new CustomEvent("theme:media:pause"),{bubbles:!0})}}}),window.isYoutubeAPILoaded=!0})}},observeVideo:function(t,i){new IntersectionObserver((i,n)=>{i.forEach(i=>{let n=0==i.intersectionRatio,r=!t.element.closest(e.mediaHidden);n?this.pauseVideo(t):r&&this.playVideo(t)})},{threshold:0}).observe(t.element)},playVideo:function(t){t.player&&t.player.playVideo?t.player.playVideo():t.element&&t.element.play?t.element.play():t.player&&t.player.play&&t.player.play(),t.container.dispatchEvent(new CustomEvent("theme:media:play"),{bubbles:!0})},pauseVideo:function(t){t.player&&t.player.pauseVideo?t.player.pauseVideo():t.element&&t.element.pause?t.element.pause():t.player&&t.player.pause&&t.player.pause(),t.container.dispatchEvent(new CustomEvent("theme:media:pause"),{bubbles:!0})},onHidden:function(t){if(void 0!==t.target.dataset.mediaId){let e=t.target.dataset.mediaId,i=this.players[e];this.pauseVideo(i)}},onVisible:function(t){if(void 0!==t.target.dataset.mediaId){let e=t.target.dataset.mediaId,i=this.players[e];this.playVideo(i),this.pauseOtherMedia(e)}},pauseOtherMedia:function(t){let n=`[${e.mediaId}="${t}"]`,r=document.querySelectorAll(`${e.productMediaWrapper}:not(${n})`);r.length&&r.forEach(t=>{t.dispatchEvent(new CustomEvent("theme:media:hidden"),{bubbles:!0}),t.classList.add(i.mediaHidden)})}}),r}(),PaloAlto.ProductModel=function(){let t={},e={},i={},n={productMediaWrapper:"[data-product-single-media-wrapper]",mediaGroup:"[data-product-single-media-group]",productXr:"[data-shopify-xr]",mediaId:"data-media-id",model3d:"data-shopify-model3d-id",modelViewer:"model-viewer",modelJson:"#ModelJson-",deferredMedia:"[data-deferred-media]",deferredMediaButton:"[data-deferred-media-button]"},r={isLoading:"is-loading",mediaHidden:"media--hidden"};function s(s,a){if(s.querySelector(n.deferredMedia).getAttribute("loaded"))return;s.classList.add(r.isLoading);let l=document.createElement("div");l.appendChild(s.querySelector("template").content.firstElementChild.cloneNode(!0));let c=l.querySelector("model-viewer"),d=s.querySelector(n.deferredMedia);d.appendChild(c),d.setAttribute("loaded",!0);let u=s.dataset.mediaId,h=c.dataset.modelId,p=s.closest(n.mediaGroup).parentElement.querySelector(n.productXr);i[a]={element:p,defaultId:h},e[u]={modelId:h,mediaId:u,sectionId:a,container:s,element:c},window.ShopifyXR?o():window.Shopify.loadFeatures([{name:"shopify-xr",version:"1.0",onLoad:function e(i){if(i){console.warn(i);return}if(!window.ShopifyXR){document.addEventListener("shopify_xr_initialized",function(){e()});return}for(let r in t)if(t.hasOwnProperty(r)){let s=t[r];if(s.loaded)continue;let o=document.querySelector(`${n.modelJson}${r}`);o&&(window.ShopifyXR.addModels(JSON.parse(o.innerHTML)),s.loaded=!0)}window.ShopifyXR.setupXRElements()}},{name:"model-viewer-ui",version:"1.0",onLoad:o},])}function o(t){if(t){console.warn(t);return}for(let i in e)if(e.hasOwnProperty(i)){let n=e[i];n.modelViewerUi||(n.modelViewerUi=new Shopify.ModelViewerUI(n.element),a(n))}}function a(t){let e=i[t.sectionId];t.container.addEventListener("theme:media:visible",function(){e.element.setAttribute(n.model3d,t.modelId),!window.theme.touch&&(t.modelViewerUi.play(),t.container.dispatchEvent(new CustomEvent("theme:media:play"),{bubbles:!0}))}),t.container.addEventListener("theme:media:hidden",function(){t.modelViewerUi.pause()}),t.container.addEventListener("xrLaunch",function(){t.modelViewerUi.pause()}),t.element.addEventListener("load",()=>{e.element.setAttribute(n.model3d,t.modelId),t.container.classList.remove(r.isLoading),t.container.dispatchEvent(new CustomEvent("theme:media:play"),{bubbles:!0})}),t.element.addEventListener("shopify_model_viewer_ui_toggle_play",function(){l(t.mediaId),t.container.dispatchEvent(new CustomEvent("theme:media:play"),{bubbles:!0})}),t.element.addEventListener("shopify_model_viewer_ui_toggle_pause",function(){t.container.dispatchEvent(new CustomEvent("theme:media:pause"),{bubbles:!0})}),l(t.mediaId)}function l(t){let e=`[${n.mediaId}="${t}"]`,i=document.querySelectorAll(`${n.productMediaWrapper}:not(${e})`);i.length&&i.forEach(t=>{t.dispatchEvent(new CustomEvent("theme:media:hidden"),{bubbles:!0}),t.classList.add(r.mediaHidden)})}return{init:function e(i,r){t[r]={loaded:!1};let o=i.querySelector(n.deferredMediaButton);o&&o.addEventListener("click",s.bind(this,i,r))},loadContent:s,removeSectionModels:function i(n){for(let r in e)if(e.hasOwnProperty(r)){let s=e[r];s.sectionId===n&&delete e[r]}delete t[n],delete theme.mediaInstances[n]}}}(),PaloAlto.RangeSlider=function(){let t={rangeSlider:"[data-range-slider]",rangeDotLeft:"[data-range-left]",rangeDotRight:"[data-range-right]",rangeLine:"[data-range-line]",rangeHolder:"[data-range-holder]",dataMin:"data-se-min",dataMax:"data-se-max",dataMinValue:"data-se-min-value",dataMaxValue:"data-se-max-value",dataStep:"data-se-step",dataFilterUpdate:"data-range-filter-update",priceMin:"[data-field-price-min]",priceMax:"[data-field-price-max]"},e={isInitialized:"is-initialized"};function i(t){this.container=t,this.init(),document.addEventListener("theme:filters:init",()=>{this.init()})}return i.prototype=$.extend({},i.prototype,{init:function(){if(this.slider=this.container.querySelector(t.rangeSlider),!this.slider)return;this.resizeFilters=PaloAlto.debounce(this.reset.bind(this),50),this.onMoveEvent=t=>this.onMove(t),this.onStopEvent=t=>this.onStop(t),this.onStartEvent=t=>this.onStart(t),this.startX=0,this.x=0,this.touchLeft=this.slider.querySelector(t.rangeDotLeft),this.touchRight=this.slider.querySelector(t.rangeDotRight),this.lineSpan=this.slider.querySelector(t.rangeLine),this.min=parseFloat(this.slider.getAttribute(t.dataMin)),this.max=parseFloat(this.slider.getAttribute(t.dataMax)),this.step=0,this.normalizeFact=26;let i=this.min;this.slider.hasAttribute(t.dataMinValue)&&(i=parseFloat(this.slider.getAttribute(t.dataMinValue)));let n=this.max;this.slider.hasAttribute(t.dataMaxValue)&&(n=parseFloat(this.slider.getAttribute(t.dataMaxValue))),i<this.min&&(i=this.min),n>this.max&&(n=this.max),i>n&&(i=n),this.slider.getAttribute(t.dataStep)&&(this.step=Math.abs(parseFloat(this.slider.getAttribute(t.dataStep)))),this.reset(),window.addEventListener("resize",this.resizeFilters),this.maxX=this.slider.offsetWidth-this.touchRight.offsetWidth,this.selectedTouch=null,this.initialValue=this.lineSpan.offsetWidth-this.normalizeFact,this.setMinValue(i),this.setMaxValue(n),this.touchLeft.addEventListener("mousedown",this.onStartEvent),this.touchRight.addEventListener("mousedown",this.onStartEvent),this.touchLeft.addEventListener("touchstart",this.onStartEvent,{passive:!0}),this.touchRight.addEventListener("touchstart",this.onStartEvent,{passive:!0}),this.slider.classList.add(e.isInitialized)},reset(){this.touchLeft.style.left="0px",this.touchRight.style.left=this.slider.offsetWidth-this.touchLeft.offsetWidth+"px",this.lineSpan.style.marginLeft="0px",this.lineSpan.style.width=this.slider.offsetWidth-this.touchLeft.offsetWidth+"px",this.startX=0,this.x=0,this.maxX=this.slider.offsetWidth-this.touchRight.offsetWidth,this.initialValue=this.lineSpan.offsetWidth-this.normalizeFact},setMinValue(e){let i=(e-this.min)/(this.max-this.min);this.touchLeft.style.left=Math.ceil(i*(this.slider.offsetWidth-(this.touchLeft.offsetWidth+this.normalizeFact)))+"px",this.lineSpan.style.marginLeft=this.touchLeft.offsetLeft+"px",this.lineSpan.style.width=this.touchRight.offsetLeft-this.touchLeft.offsetLeft+"px",this.slider.setAttribute(t.dataMinValue,e)},setMaxValue(e){let i=(e-this.min)/(this.max-this.min);this.touchRight.style.left=Math.ceil(i*(this.slider.offsetWidth-(this.touchLeft.offsetWidth+this.normalizeFact))+this.normalizeFact)+"px",this.lineSpan.style.marginLeft=this.touchLeft.offsetLeft+"px",this.lineSpan.style.width=this.touchRight.offsetLeft-this.touchLeft.offsetLeft+"px",this.slider.setAttribute(t.dataMaxValue,e)},onStart(t){t.preventDefault();let e=t;t.touches&&(e=t.touches[0]),t.currentTarget===this.touchLeft?this.x=this.touchLeft.offsetLeft:t.currentTarget===this.touchRight&&(this.x=this.touchRight.offsetLeft),this.startX=e.pageX-this.x,this.selectedTouch=t.currentTarget,document.addEventListener("mousemove",this.onMoveEvent),document.addEventListener("mouseup",this.onStopEvent),document.addEventListener("touchmove",this.onMoveEvent,{passive:!0}),document.addEventListener("touchend",this.onStopEvent,{passive:!0})},onMove(e){let i=e;if(e.touches&&(i=e.touches[0]),this.x=i.pageX-this.startX,this.selectedTouch===this.touchLeft?(this.x>this.touchRight.offsetLeft-this.selectedTouch.offsetWidth+10?this.x=this.touchRight.offsetLeft-this.selectedTouch.offsetWidth+10:this.x<0&&(this.x=0),this.selectedTouch.style.left=this.x+"px"):this.selectedTouch===this.touchRight&&(this.x<this.touchLeft.offsetLeft+this.touchLeft.offsetWidth-10?this.x=this.touchLeft.offsetLeft+this.touchLeft.offsetWidth-10:this.x>this.maxX&&(this.x=this.maxX),this.selectedTouch.style.left=this.x+"px"),this.lineSpan.style.marginLeft=this.touchLeft.offsetLeft+"px",this.lineSpan.style.width=this.touchRight.offsetLeft-this.touchLeft.offsetLeft+"px",this.calculateValue(),this.slider.getAttribute("on-change")){let n=Function("min, max",this.slider.getAttribute("on-change"));n(this.slider.getAttribute(t.dataMinValue),this.slider.getAttribute(t.dataMaxValue))}this.onChange(this.slider.getAttribute(t.dataMinValue),this.slider.getAttribute(t.dataMaxValue))},onStop(e){document.removeEventListener("mousemove",this.onMoveEvent),document.removeEventListener("mouseup",this.onStopEvent),document.removeEventListener("touchmove",this.onMoveEvent,{passive:!0}),document.removeEventListener("touchend",this.onStopEvent,{passive:!0}),this.selectedTouch=null,this.calculateValue(),this.onChanged(this.slider.getAttribute(t.dataMinValue),this.slider.getAttribute(t.dataMaxValue))},onChange(e,i){let n=this.slider.closest(t.rangeHolder);if(n){let r=n.querySelector(t.priceMin),s=n.querySelector(t.priceMax);r&&s&&(r.value=parseInt(e),s.value=parseInt(i))}},onChanged(e,i){this.slider.hasAttribute(t.dataFilterUpdate)&&this.slider.dispatchEvent(new CustomEvent("theme:filter:range-update",{bubbles:!0}))},calculateValue(){let e=(this.lineSpan.offsetWidth-this.normalizeFact)/this.initialValue,i=this.lineSpan.offsetLeft/this.initialValue,n=i+e;if(i=i*(this.max-this.min)+this.min,n=n*(this.max-this.min)+this.min,0!==this.step){let r=Math.floor(i/this.step);i=this.step*r,r=Math.floor(n/this.step),n=this.step*r}this.selectedTouch===this.touchLeft&&this.slider.setAttribute(t.dataMinValue,i),this.selectedTouch===this.touchRight&&this.slider.setAttribute(t.dataMaxValue,n)}}),i}(),PaloAlto.PairWithProduct=function(){let t={template:"[pair-product-template]",pairProducts:"[data-pair-products]"};function e(e){this.handle=e,this.template=document.querySelector(t.template).innerHTML,this.pairProducts=document.querySelector(t.pairProducts),this.variant=null,this.variantObject=null,this.init()}return e.prototype=$.extend({},e.prototype,{init(){if(this.handle.includes("_")){let t=this.handle.split("_");this.handle=t[0],this.variant=t[1]}PaloAlto.fetchProduct(this.handle).then(t=>{if(void 0===t){document.dispatchEvent(new CustomEvent("theme:upsell:product-error"));return}let e=PaloAlto.formatPrices(t,!0),i=!1;null!==this.variant&&e.variants.filter(t=>(t.id===Number(this.variant)&&t.available&&(this.variantObject=t,i=!0),t)),e.available&&null===this.variant?this.renderPairProduct(e):i?this.renderPairProduct(e):(this.pairProducts.innerHTML="",document.dispatchEvent(new CustomEvent("theme:upsell:unavailable")))}).catch(t=>{console.error(t)})},renderPairProduct(t){let e=this.renderProduct(t);this.pairProducts.innerHTML=e},renderProduct(t){let e=null,i="",n="",r=!0;if(void 0!==t.media&&(e=t.media[0]),null!==this.variantObject&&void 0!==this.variantObject.featured_media&&(e=this.variantObject.featured_media),i=e?{thumb:PaloAlto.BgSet.render(getSizedImageUrl(e.preview_image.src,"2048x"),e.preview_image.aspect_ratio),aspectRatio:e.preview_image.aspect_ratio}:{thumb:window.theme.assets.no_image,aspectRatio:1},"Title"===t.options[0].name&&1===t.options.length&&"Default Title"===t.options[0].values[0]&&(r=!1),null===this.variantObject)for(let s=0;s<t.variants.length;s++){let o=t.variants[s];if(o.available){let a=o.title.replaceAll("/","<span>&nbsp;</span>"),l=PaloAlto.formatPrices(o,!0);n={...l,title:a};break}}if(null!==this.variantObject){let c=this.variantObject.title.replaceAll("/","<span>&nbsp;</span>"),d=PaloAlto.formatPrices(this.variantObject,!0);n={...d,title:c}}if(""===n)return"";let u=t.title.replace(/(<([^>]+)>)/gi,"");n.unit_price_measurement&&(n.unitValue=n.unit_price_measurement.reference_unit,1!==n.unit_price_measurement.reference_value&&(n.unitCount=n.unit_price_measurement.reference_value)),n.compare_at_price=slate.Currency.formatMoney(n.compare_at_price,theme.moneyFormat),0===n.price?n.price=theme.strings.free:n.price=slate.Currency.formatMoney(n.price,theme.moneyFormat);let h={...t,title:u,image:i,firstAvailableVariant:n,hasVariants:r,addToCartText:theme.strings.add_to_cart};return Sqrl.render(this.template,{product:h})},onUnload:function(){document.removeEventListener("theme:resize:width",this.resizeEventUpsell)}}),e}(),PaloAlto.Swatches=function(){let t={color:"ash"},e={swatch:"data-swatch",swatchColor:"[data-swatch-color]",wrapper:"[data-grid-swatches]",template:"[data-swatch-template]",handle:"data-swatch-handle",label:"data-swatch-label"};function i(e){this.settings={...t,...e},this.match=this.init()}function n(t){this.element=t,this.colorString=t.getAttribute(e.swatch);let n=new i({color:this.colorString});n.getColor().then(t=>{this.colorMatch=t,this.init()})}function r(t){this.template=document.querySelector(e.template).innerHTML,this.wrap=t,this.handle=t.getAttribute(e.handle);let i=t.getAttribute(e.label).trim().toLowerCase();PaloAlto.fetchProduct(this.handle).then(t=>{this.product=t,this.colorOption=t.options.find(function(t){return t.name.toLowerCase()===i||null}),this.colorOption&&(this.swatches=this.colorOption.values,this.init())})}return i.prototype=$.extend({},i.prototype,{getColor(){return this.match},init(){let t=loadScript({json:theme.assets.swatches});return t.then(t=>this.matchColors(t,this.settings.color)).catch(t=>{console.log("failed to load swatch colors script"),console.log(t)})},matchColors(t,e){let i="#E5E5E5",n=null,r=theme.assets.base||"/",s=e.toLowerCase().replace(/\s/g,""),o=t.colors;if(o){let a=null,l=o.filter((t,e)=>{let i=Object.keys(t).toString().toLowerCase().replace(/\s/g,"");if(i===s)return a=e,t});if(l.length&&null!==a){let c=Object.values(o[a])[0];i=c,(c.includes(".jpg")||c.includes(".jpeg")||c.includes(".png")||c.includes(".svg"))&&(n=`${r}${c}`,i="#888888")}}return{color:this.settings.color,path:n,hex:i}}}),n.prototype=$.extend({},n.prototype,{init(){this.colorMatch&&this.colorMatch.hex&&this.element.style.setProperty("--swatch",`${this.colorMatch.hex}`),this.colorMatch&&this.colorMatch.path&&this.element.style.setProperty("background-image",`url(${this.colorMatch.path})`)}}),r.prototype=$.extend({},r.prototype,{init(){this.wrap.innerHTML="",this.swatches.forEach(t=>{let e=this.product.variants.find(e=>e.options.includes(t));e&&(this.wrap.innerHTML+=Sqrl.render(this.template,{color:t,uniq:`${this.product.id}-${e.id}`,variant:e.id,variantUrl:`${this.product.url}?variant=${e.id}`}))}),this.swatchElements=this.wrap.querySelectorAll(`[${e.swatch}]`),this.swatchElements.forEach(t=>{new n(t)})}}),{Swatch:n,GridSwatch:r}}(),PaloAlto.ShareButton=function(){let t={button:"[data-share-button]",tooltip:"[data-share-button-tooltip]"},e={visible:"is-visible",hiding:"is-hiding"};function i(e){this.container=e,this.button=this.container.querySelector(t.button),this.tooltip=this.container.querySelector(t.tooltip),this.transitionSpeed=200,this.hideTransitionTimeout=0,this.init()}return i.prototype=$.extend({},i.prototype,{init(){this.button&&this.button.addEventListener("click",()=>{let t=window.location.href;this.button.dataset.shareLink&&(t=this.button.dataset.shareLink),this.tooltip.classList.contains(e.visible)||navigator.clipboard.writeText(t).then(()=>{this.tooltip.classList.add(e.visible),setTimeout(()=>{this.tooltip.classList.add(e.hiding),this.tooltip.classList.remove(e.visible),this.hideTransitionTimeout&&clearTimeout(this.hideTransitionTimeout),this.hideTransitionTimeout=setTimeout(()=>{this.tooltip.classList.remove(e.hiding)},this.transitionSpeed)},1500)})})}}),i}(),PaloAlto.Tabs=function(){let t={body:"body",tabLink:"[data-tab-link]",tabContent:"[data-tab-content]",scrollable:"[data-custom-scrollbar]",scrollableHolder:"[data-custom-scrollbar-holder]",slider:"[data-slider]"},e={current:"current",hide:"hide",alt:"alt",aosAnimate:"aos-animate"},i={tabLink:"data-tab-link",tabContent:"data-tab-content",tabStartIndex:"data-start-index"};function n(e){this.container=e,this.body=document.querySelector(t.body),this.container&&(this.scrollable=this.container.querySelector(`${t.scrollable}`),this.init(),this.initCustomScrollbar())}return n.prototype=$.extend({},n.prototype,{init(){let n=this.container.querySelectorAll(t.tabLink),r=this.container.querySelector(`[${i.tabLink}="${this.container.hasAttribute(i.tabStartIndex)?this.container.getAttribute(i.tabStartIndex):0}"]`),s=this.container.querySelector(`[${i.tabContent}="${this.container.hasAttribute(i.tabStartIndex)?this.container.getAttribute(i.tabStartIndex):0}"]`);s&&s.classList.add(e.current),r&&r.classList.add(e.current),this.checkVisibleTabLinks(),n.length&&n.forEach(t=>{let e=parseInt(t.getAttribute(i.tabLink)),n=this.container.querySelector(`[${i.tabContent}="${e}"]`);t.addEventListener("click",()=>{this.tabChange(t,n)}),t.addEventListener("keyup",e=>{(e.which===slate.utils.keyboardKeys.SPACE||e.which===slate.utils.keyboardKeys.ENTER)&&this.tabChange(t,n)})})},initCustomScrollbar(){this.scrollable&&(this.customScrollbar=new PaloAlto.CustomScrollbar(this.container))},tabChange(i,n){let r=i.closest(t.scrollableHolder)?i.closest(t.scrollableHolder):i.parentElement,s=parseInt(window.getComputedStyle(r).getPropertyValue("padding-left"));this.container.querySelector(`${t.tabLink}.${e.current}`).classList.remove(e.current);let o=this.container.querySelector(`${t.tabContent}.${e.current}`),a=n.querySelector(t.slider);o.classList.remove(e.current),i.classList.add(e.current),n.classList.add(e.current),a&&a.dispatchEvent(new CustomEvent("theme:tab:change",{bubbles:!1})),r.scrollTo({top:0,left:i.offsetLeft-r.offsetWidth/2+i.offsetWidth/2+s,behavior:"smooth"}),i.dispatchEvent(new CustomEvent("theme:custom-scrollbar:change",{bubbles:!0,detail:{element:i}})),theme.settings.animations&&n.querySelectorAll(`.${e.aosAnimate}`).forEach(t=>{t.classList.remove(e.aosAnimate),setTimeout(()=>{t.classList.add(e.aosAnimate)})}),i.classList.contains(e.hide)&&n.classList.add(e.hide),this.checkVisibleTabLinks()},checkVisibleTabLinks(){let i=this.container.querySelectorAll(t.tabLink),n=this.container.querySelectorAll(`${t.tabLink}.${e.hide}`),r=i.length-n.length;r<2?this.container.classList.add(e.alt):this.container.classList.remove(e.alt)},onBlockSelect:function(t){let e=t.target;e&&(e.dispatchEvent(new Event("click")),e.parentNode.scrollTo({top:0,left:e.offsetLeft-e.clientWidth,behavior:"smooth"}))}}),n}(),PaloAlto.Ticker=function(){let t={frame:"[data-ticker-frame]",scale:"[data-ticker-scale]",text:"[data-ticker-text]",clone:"data-clone",animationClass:"ticker--animated",unloadedClass:"ticker--unloaded",comparitorClass:"ticker__comparitor",moveTime:1.63,space:100},e={speed:"data-marquee-speed"};function i(e,i=!1){this.frame=e,this.stopClone=i,this.scale=this.frame.querySelector(t.scale),this.text=this.frame.querySelector(t.text),this.comparitor=this.text.cloneNode(!0),this.comparitor.classList.add(t.comparitorClass),this.frame.appendChild(this.comparitor),this.scale.classList.remove(t.unloadedClass),this.resizeEvent=PaloAlto.debounce(()=>this.checkWidth(),100),this.listen()}return i.prototype=$.extend({},i.prototype,{listen(){document.addEventListener("theme:resize:width",this.resizeEvent),this.checkWidth()},checkWidth(){let i=2*window.getComputedStyle(this.frame).paddingLeft.replace("px","");if(this.frame.clientWidth-i<this.comparitor.clientWidth||this.stopClone){if(this.text.classList.add(t.animationClass),1===this.scale.childElementCount){if(this.clone=this.text.cloneNode(!0),this.clone.setAttribute(t.clone,""),this.scale.appendChild(this.clone),this.stopClone)for(let n=0;n<10;n++){let r=this.text.cloneNode(!0);r.setAttribute(t.clone,""),this.scale.appendChild(r)}let s=this.frame.getAttribute(e.speed);null===s&&(s=100);let o=t.moveTime*(100/parseInt(s,10)),a=this.text.clientWidth/t.space*o;this.scale.style.setProperty("--animation-time",`${a}s`)}}else{this.text.classList.add(t.animationClass);let l=this.scale.querySelector(`[${t.clone}]`);l&&this.scale.removeChild(l),this.text.classList.remove(t.animationClass)}},unload(){document.removeEventListener("theme:resize:width",this.resizeEvent)}}),i}(),PaloAlto.Tooltip=function(){let t={tooltip:"data-tooltip",tooltipContainer:"data-tooltip-container",tooltipStopMouseEnter:"data-tooltip-stop-mouseenter"},e={root:"tooltip-default",visible:"is-visible",hiding:"is-hiding"};function i(i){this.tooltip=i,this.tooltip.hasAttribute(t.tooltip)&&(this.rootClass=e.root,this.label=this.tooltip.getAttribute(t.tooltip),this.transitionSpeed=200,this.hideTransitionTimeout=0,this.addPinEvent=()=>this.addPin(),this.addPinMouseEvent=()=>this.addPin(!0),this.removePinEvent=t=>throttle(this.removePin(t),50),this.removePinMouseEvent=t=>this.removePin(t,!0,!0),this.init())}return i.prototype=$.extend({},i.prototype,{init(){if(!document.querySelector(`[${t.tooltipContainer}]`)){let e=`<div class="${this.rootClass}__inner"><div class="${this.rootClass}__arrow"></div><div class="${this.rootClass}__text"></div></div>`,i=document.createElement("div");i.className=this.rootClass,i.setAttribute(t.tooltipContainer,""),i.innerHTML=e,document.body.appendChild(i)}this.tooltip.addEventListener("mouseenter",this.addPinMouseEvent),this.tooltip.addEventListener("mouseleave",this.removePinMouseEvent),this.tooltip.addEventListener("theme:tooltip:init",this.addPinEvent),document.addEventListener("theme:tooltip:close",this.removePinEvent)},addPin(i=!1){let n=document.querySelector(`[${t.tooltipContainer}]`);if(n&&(i&&!this.tooltip.hasAttribute(t.tooltipStopMouseEnter)||!i)){let r=n.querySelector(`.${this.rootClass}__inner`),s=n.querySelector(`.${this.rootClass}__text`);s.textContent=this.label;let o=r.offsetWidth,a=this.tooltip.getBoundingClientRect(),l=a.top,c=a.width,d=a.height,u=l+d+window.scrollY,h=a.left-o/2+c/2,p=h+o,f=p-window.innerWidth;f>0&&(h-=f),h<0&&(h=0),n.style.transform=`translate(${h}px, ${u}px)`,n.classList.remove(e.hiding),n.classList.add(e.visible),document.addEventListener("theme:scroll",this.removePinEvent)}},removePin(i,n=!1,r=!1){let s=document.querySelector(`[${t.tooltipContainer}]`),o=s.classList.contains(e.visible);s&&(n&&!this.tooltip.hasAttribute(t.tooltipStopMouseEnter)||!n)&&(o&&(r||i.detail.hideTransition)&&(s.classList.add(e.hiding),this.hideTransitionTimeout&&clearTimeout(this.hideTransitionTimeout),this.hideTransitionTimeout=setTimeout(()=>{s.classList.remove(e.hiding)},this.transitionSpeed)),s.classList.remove(e.visible),document.removeEventListener("theme:scroll",this.removePinEvent))},unload(){this.tooltip.removeEventListener("mouseenter",this.addPinMouseEvent),this.tooltip.removeEventListener("mouseleave",this.removePinMouseEvent),this.tooltip.removeEventListener("theme:tooltip:init",this.addPinEvent),document.removeEventListener("theme:tooltip:close",this.removePinEvent),document.removeEventListener("theme:scroll",this.removePinEvent)}}),i}(),PaloAlto.Zoom=function(){let t={mediaContainer:"[data-product-single-media-group]",productMediaSlider:"[data-product-single-media-slider]",zoomWrapper:"[data-zoom-wrapper]"},e={popupClass:"pswp-zoom-gallery",popupClassNoThumbs:"pswp-zoom-gallery--single",isMoving:"is-moving"},i={dataImageWidth:"data-image-width",dataImageHeight:"data-image-height"};function n(e){this.container=e,this.mediaContainer=this.container.querySelector(t.mediaContainer),this.slider=this.container.querySelector(t.productMediaSlider),this.zoomWrappers=this.container.querySelectorAll(t.zoomWrapper),this.zoomEnable="true"===this.mediaContainer.dataset.gallery,this.zoomEnable&&this.init()}return n.prototype=$.extend({},n.prototype,{init(){this.zoomWrappers.length&&this.zoomWrappers.forEach((t,i)=>{t.addEventListener("click",t=>{t.preventDefault();let n=this.slider&&this.slider.classList.contains(e.isMoving);n||this.createZoom(i)}),t.addEventListener("keyup",t=>{t.keyCode===theme.keyboardKeys.ENTER&&(t.preventDefault(),this.createZoom(i))})})},createZoom(t){let n=this,r=[],s=0;this.zoomWrappers.forEach(o=>{let a=o.getAttribute("href"),l=parseInt(o.getAttribute(i.dataImageWidth)),c=parseInt(o.getAttribute(i.dataImageHeight));if(r.push({src:a,w:l,h:c,msrc:a}),s+=1,n.zoomWrappers.length===s){let d=`${e.popupClass}`;1===s&&(d=`${e.popupClass} ${e.popupClassNoThumbs}`);let u={barsSize:{top:60,bottom:60},history:!1,focus:!1,index:t,mainClass:d,showHideOpacity:!0,showAnimationDuration:250,hideAnimationDuration:250,closeOnScroll:!1,closeOnVerticalDrag:!1,captionEl:!1,closeEl:!0,closeElClasses:["caption-close"],tapToClose:!1,clickToCloseNonZoomable:!1,maxSpreadZoom:2,loop:!0,spacing:0,allowPanToNext:!0,pinchToClose:!1};new PaloAlto.LoadPhotoswipe(r,u)}})}}),n}(),PaloAlto.Accordions=function(){let t={trigger:"[data-collapsible-trigger]"},e={isExpanded:"is-expanded"};function i(t){PaloAlto.initCollapsible()}return i.prototype=$.extend({},i.prototype,{onBlockSelect(i){let n=i.target.querySelector(t.trigger);n.classList.contains(e.isExpanded)||n.dispatchEvent(new Event("click"))},onBlockDeselect(i){let n=i.target.querySelector(t.trigger);n.classList.contains(e.isExpanded)&&n.dispatchEvent(new Event("click"))}}),i}(),PaloAlto.AnnouncementBar=function(){let t={barSlide:"[data-slide]",frame:"[data-ticker-frame]",slider:"[data-slider]",tickerScale:"[data-ticker-scale]",tickerText:"[data-ticker-text]",dataTargetReferrer:"data-target-referrer"},e={slide:"data-slide",speed:"data-slider-speed",stop:"data-stop",style:"style"},i={desktop:"desktop",mobile:"mobile",tickerAnimated:"ticker--animated"};function n(e){this.barHolder=e,this.locationPath=location.href,this.slides=this.barHolder.querySelectorAll(t.barSlide),this.slider=this.barHolder.querySelector(t.slider),this.flkty=null,this.init()}return n.prototype=$.extend({},n.prototype,{init(){this.removeAnnouncement(),this.slider&&(this.initSlider(),document.addEventListener("theme:resize:width",this.initSlider.bind(this))),this.slider||this.initTickers(!0)},removeAnnouncement(){for(let e=0;e<this.slides.length;e++){let i=this.slides[e];i.hasAttribute(t.dataTargetReferrer)&&(-1!==this.locationPath.indexOf(i.getAttribute(t.dataTargetReferrer))||window.Shopify.designMode||i.parentNode.removeChild(i))}},initSlider(){let n=this.slider.querySelectorAll(t.barSlide);if(n){let r=`${t.barSlide}`;r=window.innerWidth<theme.sizes.small?`${t.barSlide}:not(.${i.desktop})`:`${t.barSlide}:not(.${i.mobile})`,null!=this.flkty&&this.flkty.destroy(),this.flkty=new Flickity(this.slider,{cellSelector:r,pageDots:!1,prevNextButtons:!1,wrapAround:!0,autoPlay:parseInt(this.slider.getAttribute(e.speed),10),on:{ready:()=>{setTimeout(()=>{this.slider.dispatchEvent(new CustomEvent("slider-is-loaded",{bubbles:!0,detail:{slider:this}}))},10)}}}),this.flkty.reposition()}this.slider.addEventListener("slider-is-loaded",()=>{this.initTickers()})},initTickers(e=!1){let n=this.barHolder.querySelectorAll(t.frame);n.forEach(n=>{new PaloAlto.Ticker(n,e);let r=n.querySelectorAll(t.barSlide);if(0!==r.length){let s=n.querySelectorAll(`${t.barSlide}.${i.mobile}`),o=n.querySelectorAll(`${t.barSlide}.${i.desktop}`);r.length===s.length?n.parentNode.classList.add(i.mobile):r.length===o.length&&n.parentNode.classList.add(i.desktop)}})},toggleTicker(n,r){let s=n.target.closest(t.tickerScale),o=document.querySelector(`[${e.slide}="${n.detail.blockId}"]`);r&&o&&(s.setAttribute(e.stop,""),s.querySelectorAll(t.tickerText).forEach(t=>{t.classList.remove(i.tickerAnimated),t.style.transform=`translate3d(${-(o.offsetLeft-parseInt(getComputedStyle(o).marginLeft,10))}px, 0, 0)`})),!r&&o&&(s.querySelectorAll(t.tickerText).forEach(t=>{t.classList.add(i.tickerAnimated),t.removeAttribute(e.style)}),s.removeAttribute(e.stop))},onBlockSelect(t){let e=parseInt([...t.target.parentNode.children].indexOf(t.target));this.slider&&null!==this.flkty&&(this.flkty.select(e),this.flkty.pausePlayer()),this.slider||this.toggleTicker(t,!0)},onBlockDeselect(t){this.slider&&null!==this.flkty&&this.flkty.unpausePlayer(),this.slider||this.toggleTicker(t,!1)},onUnload(){document.removeEventListener("theme:resize:width",this.initSlider.bind(this))}}),n}(),PaloAlto.BlogPosts=function(){function t(t){this.endlessBlogPosts={},this.initInfinityScroll()}return t.prototype=$.extend({},t.prototype,{initInfinityScroll:function(){theme.settings.enableInfinityScroll&&(this.endlessBlogPosts=new Ajaxinate({container:"#AjaxinateLoop",pagination:"#AjaxinatePagination",method:"scroll",callback:function(){AOS.refreshHard()}}))},onUnload:function(){theme.settings.enableInfinityScroll&&"object"==typeof this.endlessBlogPosts&&"function"===this.endlessBlogPosts.destroy&&this.endlessBlogPosts.destroy()}}),t}(),PaloAlto.CustomContent=function(){let t={videoWrapper:"[data-video-wrapper]",product:"[data-product]",productSlider:"[data-slider]",productSlide:"[data-slide]",productGridItemImage:"[data-product-media-container]",flickityButton:".flickity-button"};function e(e){this.container=e,this.videoWrapper=this.container.querySelectorAll(t.videoWrapper),this.product=this.container.querySelectorAll(t.product),this.productSlider=this.container.querySelectorAll(t.productSlider),this.checkSliderOnResize=this.checkSlider.bind(this),this.flkty=[],this.videoObj=[],this.quickViewObj=[],null!==this.videoWrapper&&this.videoWrapper.forEach(t=>{this.videoObj.push(new PaloAlto.FeaturedVideo(t))}),null!==this.product&&new PaloAlto.ProductGrid(e),PaloAlto.QuickViewPopup.init(e),this.listen()}return e.prototype=$.extend({},e.prototype,{checkSlider(){window.innerWidth>=theme.sizes.small?this.productSlider.forEach(t=>{this.initProductSlider(t)}):this.productSlider.forEach(t=>{this.destroyProductSlider(t)})},initProductSlider(e){let i=e.querySelectorAll(t.productSlide).length,n=e.dataset.slider;i>1&&(void 0!==this.flkty[n]&&this.flkty[n].isActive?this.setSliderArrowsPosition(e):this.flkty[n]=new Flickity(e,{prevNextButtons:!0,pageDots:!0,wrapAround:!0,on:{ready:()=>{this.setSliderArrowsPosition(e)}}}))},destroyProductSlider(t){let e=t.dataset.slider;null!==this.flkty[e]&&"object"==typeof this.flkty[e]&&(this.flkty[e].destroy(),this.flkty[e]=null)},setSliderArrowsPosition:function(e){let i=e.querySelectorAll(t.flickityButton),n=e.querySelector(t.productGridItemImage);i.length&&n&&i.forEach(t=>{t.style.top=`${n.offsetHeight/2}px`})},listen:function(){this.checkSlider(),document.addEventListener("theme:resize:width",this.checkSliderOnResize)},onUnload:function(){if(this.flkty)for(let t in this.flkty)this.flkty.hasOwnProperty(t)&&this.flkty[t].destroy();document.removeEventListener("theme:resize:width",this.checkSliderOnResize)}}),e}(),PaloAlto.ShoppableBlog=function(){let t={article:"[data-blog-item]",slider:"[data-slider]",sliderItem:"[data-item]",buttonProductsShow:"[data-button-show]",buttonProductsHide:"[data-button-hide]",itemProducts:"[data-item-products]",itemProductSlider:"[data-item-products-slider]",itemProduct:"[data-item-product]"},e={itemActive:"blog-item--active",itemProductsVisible:"blog-item__products--visible",featuredBlogSlider:"shoppable-blog__slider"},i={sectionId:"data-section-id"};function n(n){this.container=n,this.flkty=null,this.article=this.container.querySelector(t.article),this.slider=this.container.querySelector(t.slider),this.checkSlidesSizeOnResize=this.checkSlidesSize.bind(this),this.isFullWidth=n.hasAttribute(i.fullWidth),this.gutter=0,this.clickOutsideItemEvent=i=>{let n=!(i.target.matches(t.sliderItem)||i.target.closest(t.sliderItem));if(n){let r=this.container.querySelectorAll(t.sliderItem);r.length&&r.forEach(i=>{let n=i.querySelector(t.itemProducts);n&&n.classList.remove(e.itemProductsVisible),i.classList.remove(e.itemActive)})}},this.bindButtons(),this.listen()}return n.prototype=$.extend({},n.prototype,{initSlider:function(){this.flkty=new Flickity(this.slider,{prevNextButtons:!0,pageDots:!1,cellAlign:"left",wrapAround:!1,groupCells:!0,contain:!0}),this.flkty.on("change.flickity",i=>{if(i.target.classList.contains(e.featuredBlogSlider)){let n=this.container.querySelectorAll(t.sliderItem);n.length&&n.forEach(i=>{i.classList.remove(e.itemActive),i.querySelector(t.itemProducts).classList.remove(e.itemProductsVisible)}),this.flkty&&!this.flkty.options.draggable&&(this.flkty.options.draggable=!0,this.flkty.updateDraggable())}})},destroySlider:function(){null!==this.flkty&&(this.flkty.destroy(),this.flkty=null)},checkSlidesSize:function(){let e=this.container.querySelector(t.sliderItem).currentStyle||window.getComputedStyle(this.container.querySelector(t.sliderItem));this.gutter=parseInt(e.marginRight);let i=this.slider.offsetWidth+this.gutter,n=this.getItemsWidth();window.innerWidth>=theme.sizes.small&&i<n?this.initSlider():this.destroySlider()},getItemsWidth:function(){let e=0,i=this.slider.querySelectorAll(t.sliderItem);return i.length&&i.forEach(t=>{e+=t.offsetWidth+this.gutter}),e},bindButtons:function(){let i=this.container.querySelectorAll(t.itemProductSlider),n=this.container.querySelectorAll(t.buttonProductsShow),r=this.container.querySelectorAll(t.buttonProductsHide);n.length&&n.forEach(i=>{i.addEventListener("click",n=>{n.preventDefault(),this.container.querySelectorAll(t.sliderItem).forEach(i=>{let n=i.querySelector(t.itemProducts);i.classList.remove(e.itemActive),n&&n.classList.remove(e.itemProductsVisible)});let r=i.closest(t.sliderItem),s=r.querySelector(t.itemProducts);r.classList.add(e.itemActive),s&&s.classList.add(e.itemProductsVisible),null!==this.flkty&&(this.flkty.options.draggable=!1,this.flkty.updateDraggable())})}),r.length&&r.forEach(i=>{i.addEventListener("click",n=>{n.preventDefault();let r=i.closest(t.sliderItem),s=r.querySelector(t.itemProducts);r.classList.remove(e.itemActive),s&&s.classList.remove(e.itemProductsVisible),null!==this.flkty&&(this.flkty.options.draggable=!0,this.flkty.updateDraggable())})}),i.length&&i.forEach(e=>{let i=e.querySelectorAll(t.itemProduct).length;i>1&&new Flickity(e,{prevNextButtons:!0,contain:!0,pageDots:!1,wrapAround:!0})}),this.slider.addEventListener("keyup",i=>{if(i.keyCode===slate.utils.keyboardKeys.ESCAPE){let n=i.target.querySelectorAll(t.sliderItem);n.length&&(n.forEach(i=>{let n=i.querySelector(t.itemProducts);i.classList.remove(e.itemActive),n&&n.classList.remove(e.itemProductsVisible)}),this.flkty&&(this.flkty.options.draggable=!0,this.flkty.updateDraggable()))}})},listen:function(){this.slider&&(this.checkSlidesSize(),document.addEventListener("theme:resize:width",this.checkSlidesSizeOnResize)),document.addEventListener("mousedown",this.clickOutsideItemEvent)},onBlockSelect:function(t){if(null!==this.flkty){let e=parseInt([...t.target.parentNode.children].indexOf(t.target)),i=parseInt(this.flkty.slides[0].cells.length);this.flkty.select(Math.floor(e/i))}else{let n=this.slider.currentStyle||window.getComputedStyle(this.slider),r=parseInt(n.paddingLeft),s=t.target.offsetLeft-r;this.slider.scrollTo({top:0,left:s,behavior:"smooth"})}},onUnload:function(){document.removeEventListener("theme:resize:width",this.checkSlidesSizeOnResize),document.removeEventListener("click",this.clickOutsideItemEvent)}}),n}(),PaloAlto.FeaturedCollection=function(){function t(t){this.productGrid=new PaloAlto.ProductGrid(t),this.gridSlider=new PaloAlto.GridSlider(t)}return t.prototype=$.extend({},t.prototype,{onSelect:function(){this.productGrid&&this.productGrid.onSelect()},onDeselect:function(){this.productGrid&&this.productGrid.onDeselect()},onUnload:function(){this.productGrid&&this.productGrid.onUnload()}}),t}(),PaloAlto.FeaturedVideo=function(){let t=[],e={height:"720",width:"1280",playerVars:{showinfo:0,controls:0,fs:0,rel:0,height:"100%",width:"100%",iv_load_policy:3,html5:1,loop:1,playsinline:1,modestbranding:1,disablekb:1,wmode:"opaque"},events:{onReady:function t(e){let i=e.target.getIframe(),s=i.id;s&&(this.enableSound?e.target.unMute():e.target.mute(),e.target.playVideo(),i.setAttribute(n.tabindex,"-1"),i.parentNode.classList.add(r.loaded),o(s),document.addEventListener("theme:scroll",()=>{o(s)}))},onStateChange:function t(e){0==e.data&&e.target.playVideo()}}},i={video:"[data-video]"},n={tabindex:"tabindex"},r={loaded:"loaded"};function s(e){this.container=e,this.player=e.querySelector(i.video),this.enableSound="true"===e.dataset.enableSound,this.playVideoEvent=e=>{t[this.playerId]&&"function"===t[this.playerId].playVideo&&t[this.playerId].playVideo()},this.setVideoFullscreenSizeEvent=this.setVideoFullscreenSize.bind(this),this.player&&(this.playerId=this.player.id,this.videoId=this.player.dataset.video,this.init())}function o(e){let i;if("string"==typeof e)i=e;else{if(void 0==e.data)return!1;i=e.data.id}let n=document.getElementById(i+"-container"),r=t[i],s=PaloAlto.isInViewport(n);s&&r&&"function"==typeof r.playVideo?r.playVideo():!s&&r&&"function"==typeof r.pauseVideo&&r.pauseVideo()}return s.prototype=$.extend({},s.prototype,{init:function(){this.container.addEventListener("click",this.playVideoEvent),this.container.addEventListener("touchstart",this.playVideoEvent),this.setVideoFullscreenSize(),document.addEventListener("theme:resize",this.setVideoFullscreenSizeEvent),window.isYoutubeAPILoaded?this.loadYoutubePlayer():(window.loadYoutubeAPI(),document.addEventListener("youtubeAPIReady",this.loadYoutubePlayer.bind(this)))},loadYoutubePlayer:function(){let i={...e};i.videoId=this.videoId,t[this.playerId]=new YT.Player(this.playerId,i),window.isYoutubeAPILoaded=!0},setVideoFullscreenSize:function(){let t=16/9,e=this.container.offsetWidth/this.container.offsetHeight,i=0,n=0;t>e?(i=this.container.offsetHeight*t,n=this.container.offsetHeight):(i=this.container.offsetWidth,n=this.container.offsetWidth/t),this.player.style.width=i+"px",this.player.style.height=n+"px"},onUnload:function(e){this.container.removeEventListener("click",this.playVideoEvent),this.container.removeEventListener("touchstart",this.playVideoEvent),document.removeEventListener("theme:resize",this.setVideoFullscreenSizeEvent),delete t[this.playerId]}}),s}(),PaloAlto.Footer=function(){let t={newsletterForm:"[data-newsletter-form]",popoutLocale:"[data-popout-locale]",popoutCurrency:"[data-popout-currency]"};return function e(i){this.container=i,this.newsletter=this.container.querySelector(t.newsletterForm),this.popoutLocale=this.container.querySelector(t.popoutLocale),this.popoutCurrency=this.container.querySelector(t.popoutCurrency),this.popoutLocale&&new PaloAlto.Popout(this.popoutLocale),this.popoutCurrency&&new PaloAlto.Popout(this.popoutCurrency),PaloAlto.initCollapsible(),this.newsletter&&new PaloAlto.Newsletter(this.newsletter)}}(),PaloAlto.GridSlider=function(){let t={slider:"[data-slider]",sliderItem:"[data-slide]",productGridItemImage:"[data-product-media-container]",flickityButton:".flickity-button"},e={carouselInactive:"carousel--inactive"},i={sliderId:"data-slider-id",showImage:"data-slider-show-image"};function n(e){this.container=e,this.columns=parseInt(this.container.dataset.columns),this.sliders=this.container.querySelectorAll(t.slider),this.checkSlidesSizeOnResize=this.checkSlidesSize.bind(this),this.resetSliderEvent=t=>this.resetSlider(t),this.flkty=[],this.listen()}return n.prototype=$.extend({},n.prototype,{initSlider:function(n){let r=n.getAttribute(i.sliderId);n.classList.remove(e.carouselInactive),void 0!==this.flkty[r]&&this.flkty[r].isActive?this.setSliderArrowsPosition(n):this.flkty[r]=new Flickity(n,{pageDots:!1,cellSelector:t.sliderItem,cellAlign:"left",groupCells:!0,contain:!0,wrapAround:!1,adaptiveHeight:!1,on:{ready:()=>{this.setSliderArrowsPosition(n)}}})},destroySlider:function(t){let n=t.getAttribute(i.sliderId);t.classList.add(e.carouselInactive),"object"==typeof this.flkty[n]&&this.flkty[n].destroy()},resetSlider:function(t){let e=t.target,n=e.getAttribute(i.sliderId);"object"==typeof this.flkty[n]&&this.flkty[n].select(0,!1,!0)},checkSlidesSize:function(){this.sliders.length&&this.sliders.forEach(e=>{let n=this.columns,r=window.innerWidth>=theme.sizes.large,s=window.innerWidth>=theme.sizes.small&&window.innerWidth<theme.sizes.large,o=e.querySelectorAll(t.sliderItem).length;e.hasAttribute(i.showImage)&&(o+=1),r&&o>n||s&&o>2?this.initSlider(e):this.destroySlider(e)})},setSliderArrowsPosition:function(e){let i=e.querySelectorAll(t.flickityButton),n=e.querySelector(t.productGridItemImage);i.length&&n&&i.forEach(t=>{t.style.top=`${n.offsetHeight/2}px`})},listen:function(){this.sliders.length&&(this.checkSlidesSize(),document.addEventListener("theme:resize:width",this.checkSlidesSizeOnResize),this.sliders.forEach(t=>{t.addEventListener("theme:tab:change",this.resetSliderEvent)}))},onBlockSelect:function(e){let i=e.target.closest(t.slider),n=Flickity.data(i)||null;if(i){if(null!==n&&n.isActive){let r=parseInt([...e.target.parentNode.children].indexOf(e.target)),s=parseInt(n.slides[0].cells.length);n.select(Math.floor(r/s))}else{let o=i.currentStyle||window.getComputedStyle(i),a=parseInt(o.paddingLeft),l=e.target.offsetLeft-a;i.scrollTo({top:0,left:l,behavior:"smooth"})}}},onUnload:function(){if(this.flkty)for(let t in this.flkty)this.flkty.hasOwnProperty(t)&&this.flkty[t].destroy();document.removeEventListener("theme:resize:width",this.checkSlidesSizeOnResize),this.sliders.length&&this.sliders.forEach(t=>{t.addEventListener("theme:tab:change",this.resetSliderEvent)})}}),n}(),PaloAlto.Header=function(){let t={announcementBar:"[data-announcement-wrapper]",collectionFilters:"[data-collection-filters]",disclosureWrappper:"[data-hover-disclosure]",logo:"[data-logo]",mobileNavDropdownTrigger:"[data-collapsible-trigger]",nav:"[data-nav]",navIcons:"[data-nav-icons]",navItem:"[data-nav-item]",navLinkMobile:"[data-nav-link-mobile]",navSearch:"[data-nav-search]",wrapper:"[data-wrapper]"},e={jsDrawerOpenAll:["js-drawer-open","js-drawer-open-cart"],headerTransparent:"site-header--transparent",headerLoading:"site-header--loading",hasScrolled:"has-scrolled",hideHeader:"hide-header",navCompress:"nav--compress",headerSticky:"header--sticky"};function i(i){this.container=i,this.header=i,this.headerSection=i.parentNode,this.headerWrapper=i.querySelector(t.wrapper),this.logo=i.querySelector(t.logo),this.nav=i.querySelector(t.nav),this.navIcons=i.querySelector(t.navIcons),this.navDrawerCloseEvent=null,this.headerStateEvent=t=>this.headerState(t),PaloAlto.initCollapsible(),PaloAlto.initTransparentHeader(),PaloAlto.setMainSpacing(),window.cart=new PaloAlto.CartDrawer,this.sections=[];let n=this.container.querySelectorAll(t.disclosureWrappper);n.length&&n.forEach(t=>{this.sections.push(new PaloAlto.HoverDisclosure(t))}),this.controlNav(),this.initMobileNav(),window.addEventListener("load",this.controlNav.bind(this)),document.addEventListener("theme:resize:width",this.controlNav.bind(this));let r=document.querySelector(t.navSearch),s=document.querySelector(t.collectionFilters);r&&PaloAlto.NavSearch.init(),s?this.header.classList.remove(e.headerLoading):this.initStickyHeader()}return i.prototype=$.extend({},i.prototype,{initStickyHeader:function(){this.position=this.header.dataset.position,"fixed"===this.position?this.headerSection.classList.add(e.headerSticky):this.headerSection.classList.remove(e.headerSticky),this.header.classList.remove(e.headerLoading),this.headerState(),document.addEventListener("theme:scroll",this.headerStateEvent)},headerState:function(i){let n=parseInt(this.header.dataset.height||this.header.offsetHeight),r=document.querySelector(t.announcementBar),s=r?r.offsetHeight:0,o=n+s,a=window.pageYOffset||document.documentElement.scrollTop,l=i&&i.detail&&i.detail.up;"fixed"===this.position&&(a>o?(document.body.classList.add(e.hasScrolled),this.header.classList.remove(e.headerTransparent)):(document.body.classList.remove(e.hasScrolled),window.isHeaderTransparent&&this.header.classList.add(e.headerTransparent)),a<o&&l?document.body.classList.add(e.hideHeader):document.body.classList.remove(e.hideHeader))},controlNav:function(){this.nav.classList.remove(e.navCompress);let t="center"===this.header.dataset.navAlignment,i="left"===this.header.dataset.navAlignment,n=this.headerWrapper.currentStyle||window.getComputedStyle(this.headerWrapper),r=this.headerWrapper.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight),s=this.logo?this.logo.offsetWidth:0,o=this.navIcons?this.navIcons.offsetWidth:0,a=r-s-o-20,l=this.getNavItemsWidth();t&&(a=r-(Math.max(s,o)+20)*2),i&&(a=(r-(s+40))/2),l>a?this.nav.classList.add(e.navCompress):this.nav.classList.remove(e.navCompress)},getNavItemsWidth:function(){let e=0,i=this.nav.querySelectorAll(t.navItem);return i.length&&i.forEach(t=>{e+=Math.ceil(t.offsetWidth)}),e},initMobileNav:function(){if("link"===theme.settings.mobileMenuBehaviour)return;let e=this.headerSection.querySelectorAll(t.navLinkMobile);e.length&&e.forEach(e=>{e.addEventListener("click",i=>{let n=e.parentNode.querySelectorAll(t.mobileNavDropdownTrigger).length,r=e.nextElementSibling;n&&(i.preventDefault(),r.dispatchEvent(new Event("click"),{bubbles:!0}))})})},onUnload:function(){PaloAlto.Drawer.close(),document.body.classList.remove(...e.jsDrawerOpenAll),document.removeEventListener("theme:scroll",this.headerStateEvent),document.removeEventListener("theme:resize:width",this.controlNav),document.dispatchEvent(new CustomEvent("theme:scroll:unlock",{bubbles:!0})),"function"==typeof window.cart.destroy&&window.cart.destroy()}}),i}(),PaloAlto.IconsRow=function(){let t={slider:"[data-slider]"};function e(t){this.container=t}return e.prototype=$.extend({},e.prototype,{onBlockSelect(e){let i=this.container.querySelector(t.slider),n=i.currentStyle||window.getComputedStyle(i),r=parseInt(n.paddingLeft),s=e.target.offsetLeft-r;i.scrollTo({top:0,left:s,behavior:"smooth"})}}),e}(),PaloAlto.ImageAccordions=function(){let t={item:"[data-accordion-item]",button:"[data-accordion-button]"},e={isExpanded:"is-expanded"};function i(e){this.container=e,this.imageAccordionsItems=this.container.querySelectorAll(t.item),this.buttons=this.container.querySelectorAll(t.button),this.accordionExpandEvent=t=>this.accordionExpand(t),this.accordionFocusEvent=t=>this.accordionFocus(t),this.init()}return i.prototype=$.extend({},i.prototype,{init(){this.imageAccordionsItems.forEach(t=>{t.addEventListener("mouseenter",this.accordionExpandEvent.bind(this,t))}),this.buttons.forEach(t=>{t.addEventListener("focusin",this.accordionFocusEvent.bind(this,t))})},accordionExpand(t){t.classList.contains(e.isExpanded)||(this.imageAccordionsItems.forEach(t=>{t.classList.remove(e.isExpanded)}),t.classList.add(e.isExpanded))},accordionFocus(e){e.closest(t.item).dispatchEvent(new Event("mouseenter"))},onBlockSelect:function(t){let e=t.target;e&&e.dispatchEvent(new Event("mouseenter"))}}),i}(),PaloAlto.Look=function(){let t={pointer:"[data-pointer]"},e={pointerEnd:"pointer--end",pointerReverse:"pointer--reverse",pointerReverseEnd:"pointer--reverse-end",pointerBottom:"pointer--bottom"},i={dataLeft:"data-left",dataTop:"data-top"};function n(t){this.container=t,this.init()}return n.prototype=$.extend({},n.prototype,{init:function(){var n=this.container.querySelectorAll(t.pointer);n.length&&n.forEach(t=>{25>t.getAttribute(i.dataLeft)?t.classList.add(e.pointerEnd):t.getAttribute(i.dataLeft)>50&&75>=t.getAttribute(i.dataLeft)?t.classList.add(e.pointerReverse):t.getAttribute(i.dataLeft)>75&&t.classList.add(e.pointerReverse,e.pointerReverseEnd),35>t.getAttribute(i.dataTop)&&t.classList.add(e.pointerBottom)})}}),n}(),PaloAlto.ColumnsWithImage=function(){let t={slider:"[data-slider]",sliderItem:"[data-slider-item]",sliderItemImage:"[data-media-container]",flickityButton:".flickity-button"},e={carouselInactive:"carousel--inactive"};function i(e){this.container=e,this.slider=this.container.querySelector(t.slider),this.flkty=null,this.gutter=0,this.checkSlidesSizeOnResize=this.checkSlidesSize.bind(this),this.listen(),PaloAlto.videoLink()}return i.prototype=$.extend({},i.prototype,{initSlider:function(){this.slider.classList.remove(e.carouselInactive),this.flkty=new Flickity(this.slider,{pageDots:!1,cellAlign:"left",groupCells:!0,contain:!0,on:{ready:()=>{this.setSliderArrowsPosition(this.slider)}}})},destroySlider:function(){this.slider.classList.add(e.carouselInactive),null!==this.flkty&&(this.flkty.destroy(),this.flkty=null)},checkSlidesSize:function(){let e=this.container.querySelector(t.sliderItem).currentStyle||window.getComputedStyle(this.container.querySelector(t.sliderItem));this.gutter=parseInt(e.marginRight);let i=this.slider.offsetWidth,n=this.getItemsWidth();window.innerWidth>=theme.sizes.small&&i<n?this.initSlider():this.destroySlider()},getItemsWidth:function(){let e=0,i=this.slider.querySelectorAll(t.sliderItem);return i.length&&i.forEach(t=>{e+=t.offsetWidth+this.gutter}),e},listen:function(){this.slider&&(this.checkSlidesSize(),document.addEventListener("theme:resize:width",this.checkSlidesSizeOnResize))},setSliderArrowsPosition:function(e){let i=e.querySelectorAll(t.flickityButton),n=e.querySelector(t.sliderItemImage);i.length&&n&&i.forEach(t=>{t.style.top=`${n.offsetHeight/2}px`})},onBlockSelect:function(t){if(null!==this.flkty){let e=parseInt([...t.target.parentNode.children].indexOf(t.target)),i=parseInt(this.flkty.slides[0].cells.length);this.flkty.select(Math.floor(e/i))}else{let n=this.slider.currentStyle||window.getComputedStyle(this.slider),r=parseInt(n.paddingLeft),s=t.target.offsetLeft-r;this.slider.scrollTo({top:0,left:s,behavior:"smooth"})}},onUnload:function(){document.removeEventListener("theme:resize:width",this.checkSlidesSizeOnResize)}}),i}(),PaloAlto.ListCollections=function(){function t(t){this.gridSlider=new PaloAlto.GridSlider(t)}return t.prototype=$.extend({},t.prototype,{onBlockSelect:function(t){this.gridSlider&&this.gridSlider.onBlockSelect(t)},onUnload:function(){this.gridSlider&&this.gridSlider.onUnload()}}),t}(),PaloAlto.LogoList=function(){let t={slider:"[data-slider]",sliderItem:"[data-slider-item]"};function e(e){this.container=e,this.slider=this.container.querySelector(t.slider),this.sliderResizeEvent=this.checkSlides.bind(this),this.flkty=null,this.checkSlides(),document.addEventListener("theme:resize:width",this.sliderResizeEvent)}return e.prototype=$.extend({},e.prototype,{checkSlides(){let t=this.container.offsetWidth,e=this.getSlidesWidth();window.innerWidth>=theme.sizes.small&&e>t?this.initSlider():this.destroySlider()},getSlidesWidth(){let e=0,i=this.container.querySelectorAll(t.sliderItem);return i.length&&i.forEach(t=>{e+=t.offsetWidth}),e},initSlider(){let t=Flickity.data(this.slider);null!==t&&(this.flkty=new Flickity(this.slider,{contain:!0,wrapAround:!0,pageDots:!1}),PaloAlto.flickitySmoothScrolling(this.slider))},destroySlider(){let t=Flickity.data(this.slider);t&&this.flkty.destroy()},onBlockSelect(t){let e=parseInt([...t.target.parentNode.children].indexOf(t.target));if(null!==this.flkty)this.flkty.select(e);else{let i=this.slider.currentStyle||window.getComputedStyle(this.slider),n=parseInt(i.paddingLeft),r=t.target.offsetLeft-n;this.slider.scrollTo({top:0,left:r,behavior:"smooth"})}},onUnload(){let t=Flickity.data(this.slider);t&&this.flkty.destroy(),document.removeEventListener("theme:resize:width",this.sliderResizeEvent)}}),e}(),PaloAlto.Locations=function(){let t={slider:"[data-slider-gallery]",sliderNav:"[data-slider-info]",item:"[data-slide-item]"};function e(e){this.container=e,this.slider=this.container.querySelector(t.slider),this.sliderNav=this.container.querySelector(t.sliderNav),this.initSlider()}return e.prototype=$.extend({},e.prototype,{initSlider(){let e=this.container.querySelectorAll(t.item).length,i=Flickity.data(this.slider)||null,n=Flickity.data(this.sliderNav)||null;!(e<=1)&&(i=new Flickity(this.slider,{fade:!0,wrapAround:!0,adaptiveHeight:!0,prevNextButtons:!1,pageDots:!1}),PaloAlto.flickitySmoothScrolling(this.slider),(n=new Flickity(this.sliderNav,{fade:!0,wrapAround:!0,imagesLoaded:!0,lazyLoad:!0,asNavFor:this.slider,prevNextButtons:!0,pageDots:!1})).on("change",()=>{i.selectCell(n.selectedIndex)}),i.on("change",()=>{n.selectCell(i.selectedIndex)}))},onBlockSelect(t){let e=Flickity.data(this.slider)||null,i=Flickity.data(this.sliderNav)||null,n=parseInt([...t.target.parentNode.children].indexOf(t.target));null!==e&&e.select(n),null!==i&&i.select(n)}}),e}(),PaloAlto.Mosaic=function(){let t={grid:"[data-grid]",item:"[data-item]"};function e(e){this.container=e,this.grid=this.container.querySelector(t.grid)}return e.prototype=$.extend({},e.prototype,{onBlockSelect:function(t){let e=this.grid.currentStyle||window.getComputedStyle(this.grid),i=parseInt(e.paddingLeft),n=t.target.offsetLeft-i;this.grid.scrollTo({top:0,left:n,behavior:"smooth"})}}),e}(),PaloAlto.NewsletterSection=function(){let t={newsletterForm:"[data-newsletter-form]"};return function e(i){this.container=i,this.newsletters=this.container.querySelectorAll(t.newsletterForm),this.newsletters&&this.newsletters.forEach(t=>{new PaloAlto.Newsletter(t)})}}(),PaloAlto.OverlappingImages=function t(e){PaloAlto.videoLink()},PaloAlto.Popups=function(){let t={largePromo:"[data-large-promo]",largePromoInner:"[data-large-promo-inner]",tracking:"[data-tracking-consent]",trackingInner:"[data-tracking-consent-inner]",trackingAccept:"[data-confirm-cookies]",popupBar:"[data-popup-bar]",popupBarHolder:"[data-popup-bar-holder]",popupBarToggle:"[data-popup-bar-toggle]",popupBody:"[data-popup-body]",popupClose:"[data-popup-close]",popupUnderlay:"[data-popup-underlay]",newsletterForm:"[data-newsletter-form]"},e={cookieName:"data-cookie-name",targetReferrer:"data-target-referrer"},i={success:"has-success",error:"has-error",selected:"selected",hasBlockSelected:"has-block-selected",expanded:"popup--expanded",visible:"popup--visible"},n={};function r(e,i,n=null){if(this.popupContainer=e,this.popup=i,this.popupBody=i.querySelector(t.popupBody),this.delay=e.dataset.popupDelay,this.isSubmitted=-1!==window.location.href.indexOf("accepts_marketing")||-1!==window.location.href.indexOf("customer_posted=true"),this.callback=n,this.showPopupOnScrollEvent=()=>this.showPopupOnScroll(),("always"===this.delay||this.isSubmitted)&&this.always(),this.delay&&this.delay.includes("delayed")&&!this.isSubmitted){let r=this.delay.includes("_")?parseInt(this.delay.split("_")[1]):10;this.delayed(r)}"bottom"!==this.delay||this.isSubmitted||this.bottom(),"idle"!==this.delay||this.isSubmitted||this.idle()}function s(t){if(this.popupContainer=t,this.locationPath=location.href,!this.popupContainer.hasAttribute(e.targetReferrer))return!1;-1!==this.locationPath.indexOf(this.popupContainer.getAttribute(e.targetReferrer))||window.Shopify.designMode||this.popupContainer.parentNode.removeChild(this.popupContainer)}function o(e){this.popupContainer=e,this.popup=this.popupContainer.querySelector(t.largePromoInner),this.popupBody=this.popup.querySelector(t.popupBody),this.close=this.popup.querySelector(t.popupClose),this.underlay=this.popup.querySelector(t.popupUnderlay),this.form=this.popup.querySelector(t.newsletterForm),this.cookie=new PopupCookie(this.popupContainer.dataset.cookieName,"user_has_closed"),this.isTargeted=new s(this.popupContainer),this.a11y=slate.a11y,this.init()}function a(e){this.popupContainer=e,this.popup=this.popupContainer.querySelector(t.trackingInner),this.close=this.popup.querySelector(t.popupClose),this.acceptButton=this.popup.querySelector(t.trackingAccept),this.enable="true"===this.popupContainer.dataset.enable,window.Shopify.loadFeatures([{name:"consent-tracking-api",version:"0.1"},],t=>{if(t)throw t;let e=window.Shopify.customerPrivacy.userCanBeTracked(),i=window.Shopify.customerPrivacy.getTrackingConsent();this.enableTracking=!e&&"no_interaction"===i&&this.enable,window.Shopify.designMode&&(this.enableTracking=!0),this.init()})}function l(e){this.popupContainer=e,this.popup=this.popupContainer.querySelector(t.popupBarHolder),this.popupBody=this.popup.querySelector(t.popupBody),this.close=this.popup.querySelector(t.popupClose),this.underlay=this.popup.querySelector(t.popupUnderlay),this.toggle=this.popup.querySelector(t.popupBarToggle),this.cookie=new PopupCookie(this.popupContainer.dataset.cookieName,"user_has_closed"),this.form=this.popup.querySelector(t.newsletterForm),this.isTargeted=new s(this.popupContainer),this.a11y=slate.a11y,this.init()}function c(e){this.container=e,n[this.container.id]=[];let i=this.container.querySelectorAll(t.largePromo);i.length&&i.forEach(t=>{n[this.container.id].push(new o(t))});let r=this.container.querySelectorAll(t.popupBar);r.length&&r.forEach(t=>{n[this.container.id].push(new l(t))});let s=this.container.querySelectorAll(t.tracking);s.length&&s.forEach(t=>{n[this.container.id].push(new a(t))});let c=this.container.querySelectorAll(t.newsletterForm);c.length&&c.forEach(t=>{n[this.container.id].push(new PaloAlto.Newsletter(t))})}return r.prototype=$.extend({},r.prototype,{always(){this.showPopup()},delayed(t=10){setTimeout(()=>{this.showPopup()},1e3*t)},bottom(){document.addEventListener("theme:scroll",this.showPopupOnScrollEvent)},idle(){let t=0,e=["mousemove","mousedown","click","touchmove","touchstart","touchend","keydown","keypress"],i=["load","resize","scroll"],n=()=>{t=setTimeout(()=>{t=0,this.showPopup()},6e4),e.forEach(t=>{document.addEventListener(t,r)}),i.forEach(t=>{window.addEventListener(t,r)})},r=()=>{t&&clearTimeout(t),e.forEach(t=>{document.removeEventListener(t,r)}),i.forEach(t=>{window.removeEventListener(t,r)}),n()};n()},showPopup(){this.popup.classList.add(i.visible),"function"==typeof this.callback&&this.callback()},hidePopup(){this.popup.classList.remove(i.visible),this.scrollUnlock()},scrollLock(){this.a11y.trapFocus({container:this.popupBody}),document.dispatchEvent(new CustomEvent("theme:scroll:lock",{bubbles:!0,detail:this.popupBody}))},scrollUnlock(){this.a11y.removeTrapFocus(),setTimeout(()=>{document.dispatchEvent(new CustomEvent("theme:scroll:unlock",{bubbles:!0}))},300)},showPopupOnScroll(){window.scrollY+window.innerHeight>=document.body.clientHeight&&(this.showPopup(),document.removeEventListener("theme:scroll",this.showPopupOnScrollEvent))},onUnload(){document.removeEventListener("theme:scroll",this.showPopupOnScrollEvent)}}),o.prototype=$.extend({},o.prototype,{init(){let t=!1!==this.cookie.read();(!t||window.Shopify.designMode)&&(window.Shopify.designMode||new r(this.popupContainer,this.popup,()=>this.scrollLock()),this.form&&setTimeout(()=>{this.form.classList.contains(i.success)&&this.showPopupIfNoCookie()}),this.initClosers())},showPopupIfNoCookie(){this.showPopup(),this.scrollLock()},initClosers(){this.close.addEventListener("click",this.closePopup.bind(this)),this.underlay.addEventListener("click",this.closePopup.bind(this)),this.popupContainer.addEventListener("keyup",t=>{t.keyCode===slate.utils.keyboardKeys.ESCAPE&&this.closePopup(t)})},closePopup(t){t.preventDefault(),this.hidePopup(),this.cookie.write(),this.scrollUnlock()},scrollLock(){this.a11y.trapFocus({container:this.popupBody}),document.dispatchEvent(new CustomEvent("theme:scroll:lock",{bubbles:!0,detail:this.popupBody}))},scrollUnlock(){this.a11y.removeTrapFocus(),setTimeout(()=>{document.dispatchEvent(new CustomEvent("theme:scroll:unlock",{bubbles:!0}))},300)},showPopup(){this.popup.classList.add(i.visible)},hidePopup(){this.popup.classList.remove(i.visible)},onBlockSelect(t){this.popupContainer.contains(t.target)&&(this.popup.classList.add(i.selected),this.popupContainer.classList.add(i.hasBlockSelected),this.showPopup(),this.scrollLock())},onBlockDeselect(t){this.popupContainer.contains(t.target)&&(this.popup.classList.remove(i.selected),this.popupContainer.classList.remove(i.hasBlockSelected),this.hidePopup(),this.scrollUnlock())}}),a.prototype=$.extend({},a.prototype,{init(){this.enableTracking&&this.showPopup(),this.clickEvents()},clickEvents(){this.close.addEventListener("click",t=>{t.preventDefault(),window.Shopify.customerPrivacy.setTrackingConsent(!1,()=>this.hidePopup())}),this.acceptButton.addEventListener("click",t=>{t.preventDefault(),window.Shopify.customerPrivacy.setTrackingConsent(!0,()=>this.hidePopup())}),document.addEventListener("trackingConsentAccepted",()=>{console.log("trackingConsentAccepted event fired")})},showPopup(){this.popup.classList.add(i.visible)},hidePopup(){this.popup.classList.remove(i.visible)},onBlockSelect(t){this.popupContainer.contains(t.target)&&this.enableTracking&&(this.showPopup(),this.popup.classList.add(i.selected),this.popup.parentNode.classList.add(i.hasBlockSelected))},onBlockDeselect(t){this.popupContainer.contains(t.target)&&(this.popup.classList.remove(i.selected),this.popupContainer.classList.remove(i.hasBlockSelected),this.hidePopup(),this.scrollUnlock())}}),l.prototype=$.extend({},l.prototype,{init(){let t=!1!==this.cookie.read();(!t||window.Shopify.designMode)&&(window.Shopify.designMode?this.showPopup():new r(this.popupContainer,this.popup),this.initPopupToggleButton(),this.initClosers(),this.form&&setTimeout(()=>{this.form.classList.contains(i.success)&&this.showPopupIfNoCookie(),this.form.classList.contains(i.error)&&this.toggle.dispatchEvent(new Event("click"))}))},showPopupIfNoCookie(){this.showPopup(),this.toggle.dispatchEvent(new Event("click"))},initPopupToggleButton(){this.toggle.addEventListener("click",t=>{t.preventDefault(),this.popup.classList.toggle(i.expanded),this.popup.classList.contains(i.expanded)?this.scrollLock():this.scrollUnlock()})},showPopup(){this.popup.classList.add(i.visible)},hidePopup(){this.popup.classList.remove(i.visible)},initClosers(){this.close.addEventListener("click",this.closePopup.bind(this)),this.underlay.addEventListener("click",()=>this.toggle.dispatchEvent(new Event("click"))),this.popupContainer.addEventListener("keyup",t=>{t.keyCode===slate.utils.keyboardKeys.ESCAPE&&(this.popup.classList.remove(i.expanded),this.scrollUnlock())})},closePopup(t){t.preventDefault(),this.cookie.write(),this.hidePopup(),this.scrollUnlock()},scrollLock(){this.a11y.trapFocus({container:this.popupBody}),document.dispatchEvent(new CustomEvent("theme:scroll:lock",{bubbles:!0,detail:this.popupBody}))},scrollUnlock(){this.a11y.removeTrapFocus(),document.dispatchEvent(new CustomEvent("theme:scroll:unlock",{bubbles:!0}))},onBlockSelect(t){this.popupContainer.contains(t.target)&&(this.showPopup(),this.popup.classList.add(i.expanded),this.popup.classList.add(i.selected),this.popup.parentNode.classList.add(i.hasBlockSelected),this.scrollLock())},onBlockDeselect(t){this.popupContainer.contains(t.target)&&(this.popup.classList.remove(i.expanded),this.popup.classList.remove(i.selected),this.popup.parentNode.classList.remove(i.hasBlockSelected),this.hidePopup(),this.scrollUnlock())}}),c.prototype=$.extend({},c.prototype,{onBlockSelect:function(t){n[this.container.id].forEach(e=>{"function"==typeof e.onBlockSelect&&e.onBlockSelect(t)})},onBlockDeselect:function(t){n[this.container.id].forEach(e=>{"function"==typeof e.onBlockDeselect&&e.onBlockDeselect(t)})},onUnload:function(t){n[this.container.id].forEach(e=>{"function"==typeof e.onUnload&&e.onUnload(t)})}}),c}(),PaloAlto.Press=function(){let t={pressItems:"[data-press-items]",logoSlider:"[data-logo-slider]",logoSlide:"[data-logo-slide]"};function e(e){this.container=e,this.slider=this.container.querySelector(t.pressItems),this.sliderNav=this.container.querySelector(t.logoSlider),this.sliderResizeEvent=this.checkSlides.bind(this),this.initSlider(),this.checkSlides(),window.addEventListener("load",this.resizeSlider.bind(this)),document.addEventListener("theme:resize:width",this.sliderResizeEvent)}return e.prototype=$.extend({},e.prototype,{checkSlides(){let e=this.container.offsetWidth,i=this.container.querySelectorAll(t.logoSlide),n=Flickity.data(this.sliderNav)||null;null!==n&&(n.options.draggable=!1,n.options.wrapAround=!1,n.options.contain=!0,this.getSlidesWidth()>e&&i.length>2&&(n.options.draggable=!0,n.options.wrapAround=!0,n.options.contain=!1),n.resize(),n.updateDraggable())},getSlidesWidth(){let e=this.container.querySelectorAll(t.logoSlide),i=0;return e.length&&e.forEach(t=>{i+=t.offsetWidth}),i},initSlider(){let t=Flickity.data(this.slider)||null,e=Flickity.data(this.sliderNav)||null;t=new Flickity(this.slider,{fade:!0,wrapAround:!0,adaptiveHeight:!0,prevNextButtons:!1,pageDots:!1}),e=new Flickity(this.sliderNav,{draggable:!1,wrapAround:!1,contain:!0,imagesLoaded:!0,lazyLoad:!0,asNavFor:this.slider,prevNextButtons:!1,adaptiveHeight:!1,pageDots:!1}),PaloAlto.flickitySmoothScrolling(this.slider),PaloAlto.flickitySmoothScrolling(this.sliderNav),e.on("change",()=>{t.selectCell(e.selectedIndex)}),t.on("change",()=>{e.selectCell(t.selectedIndex)})},resizeSlider(){let t=Flickity.data(this.slider);t&&t.resize()},onBlockSelect(t){let e=Flickity.data(this.slider)||null,i=Flickity.data(this.sliderNav)||null,n=parseInt([...t.target.parentNode.children].indexOf(t.target));null!==e&&e.select(n),null!==i&&i.select(n)},onUnload(){document.removeEventListener("theme:resize:width",this.sliderResizeEvent)}}),e}(),PaloAlto.Product=function(){let t={option:"[data-option]",popout:"[data-popout]",productMediaSlider:"[data-product-single-media-slider]",productMediaThumb:"[data-thumbnail-id]",productMediaThumbs:"[data-product-single-media-thumbs]",productMediaWrapper:"[data-product-single-media-wrapper]",productModel:"[data-model]",productSingleThumbnailLink:".product-single__thumbnail-link",deferredMedia:"[data-deferred-media]",deferredMediaButton:"[data-deferred-media-button]",modalScrollContainer:"[data-tabs-holder]",formWrapper:"[data-form-wrapper]",tooltip:"[data-tooltip]"},e={featuredProduct:"featured-product",featuredProductOnboarding:"featured-product--onboarding",hasMediaActive:"has-media-active",isSelected:"is-selected",mediaHidden:"media--hidden",noOutline:"no-outline",hasPopup:"has-popup",isMoving:"is-moving"},i={mediaId:"data-media-id",sectionId:"data-section-id",thumbId:"data-thumbnail-id",loaded:"loaded",tabindex:"tabindex"};function n(n){this.container=n,this.sectionId=n.getAttribute(i.sectionId),this.formWrapper=this.container.querySelector(t.formWrapper),this.isFlickityDragging=!1,this.flktyNavResize=null,this.enableHistoryState=!this.container.classList.contains(e.featuredProduct),this.tooltips=[],this.initTooltips(),this.initPopouts(),PaloAlto.initCollapsible(),PaloAlto.initSwatches.makeSwatch(n),new PaloAlto.ShareButton(n),!n.classList.contains(e.featuredProductOnboarding)&&(new PaloAlto.ProductAddForm(n),new PaloAlto.Zoom(n),this.initProductSlider(),this.initMediaSwitch(),this.initProductVideo(),this.initProductModel(),this.initShopifyXrLaunch())}return n.prototype=$.extend({},n.prototype,{initProductSlider:function(){let n=this.container.querySelector(t.productMediaSlider),r=this.container.querySelector(t.productMediaThumbs),s=this.container.querySelectorAll(t.productMediaWrapper);if(s.length>1){let o=new Flickity(n,{wrapAround:!0,pageDots:!1,adaptiveHeight:!0,on:{ready(){n.setAttribute(i.tabindex,"-1")},dragStart(){n.classList.add(e.isMoving)},dragMove:()=>{this.isFlickityDragging=!0},staticClick:()=>{this.isFlickityDragging=!1},settle:(t,r)=>{let s=o.selectedElement,a=s.getAttribute(i.mediaId);s.setAttribute(i.tabindex,"0"),[...s.parentNode.children].forEach(t=>{t!==s&&t.setAttribute(i.tabindex,"-1")}),this.switchMedia(a),n.classList.remove(e.isMoving)}}});if(s.length&&s.forEach(i=>{i.addEventListener("theme:media:play",()=>{o.options.draggable=!1,o.updateDraggable(),i.closest(t.productMediaSlider).classList.add(e.hasMediaActive)}),i.addEventListener("theme:media:pause",()=>{o.options.draggable=!0,o.updateDraggable(),i.closest(t.productMediaSlider).classList.remove(e.hasMediaActive)})}),PaloAlto.flickitySmoothScrolling(n),null!==r){let a=new Flickity(r,{asNavFor:n,contain:!0,pageDots:!1,prevNextButtons:!1,resize:!0,on:{ready(){r.setAttribute(i.tabindex,"-1")}}});this.flktyNavResize=()=>{a.resize()},document.addEventListener("theme:resize:width",this.flktyNavResize),PaloAlto.flickitySmoothScrolling(r);let l=this.container.querySelectorAll(t.productSingleThumbnailLink);l.length&&l.forEach(t=>{t.addEventListener("click",t=>{t.preventDefault()})})}}},handleMediaFocus:function(e){if(13!==e.keyCode&&9!==e.keyCode)return;let n=e.currentTarget.getAttribute(i.thumbId),r=this.container.querySelector(`[${i.mediaId}="${n}"]`),s=parseInt([...r.parentNode.children].indexOf(r)),o=this.container.querySelector(t.productMediaSlider),a=this.container.querySelector(t.productMediaThumbs),l=Flickity.data(o)||null,c=Flickity.data(a)||null;l&&l.isActive&&s>-1&&13===e.keyCode&&l.select(s),c&&c.isActive&&s>-1&&c.select(s)},switchMedia:function(n){let r=this.container.querySelector(`${t.productMediaWrapper}[${i.mediaId}="${n}"]`),s=!document.body.classList.contains(e.noOutline);s&&r.focus(),r.closest(t.productMediaSlider).classList.remove(e.hasMediaActive),r.classList.remove(e.mediaHidden),r.dispatchEvent(new CustomEvent("theme:media:visible"),{bubbles:!0});let o=r.querySelector(t.deferredMedia);o&&"true"!==o.getAttribute(i.loaded)&&r.querySelector(t.deferredMediaButton).dispatchEvent(new Event("click"))},initMediaSwitch:function(){let e=this.container.querySelectorAll(t.productMediaThumb);e.length&&e.forEach(t=>{t.addEventListener("keyup",this.handleMediaFocus.bind(this)),t.addEventListener("click",t=>{t.preventDefault()})})},initProductVideo:function(){this.videos=new PaloAlto.ProductVideo(this.container)},initProductModel:function(){let e=this.container.querySelectorAll(t.productModel);e.length&&e.forEach(t=>{PaloAlto.ProductModel.init(t,this.sectionId)})},initShopifyXrLaunch:function(){document.addEventListener("shopify_xr_launch",()=>{let i=this.container.querySelector(`${t.productModel}:not(.${e.mediaHidden})`);i.dispatchEvent(new CustomEvent("xrLaunch"))})},initTooltips:function(){let e=this.container.querySelectorAll(t.tooltip);e.length&&e.forEach(t=>{this.tooltips.push(new PaloAlto.Tooltip(t))})},initPopouts:function(){let e=this.container.querySelectorAll(t.popout),i={};e.length&&e.forEach((t,e)=>{i[e]=new PaloAlto.Popout(t)})},onUnload:function(){null!==this.flktyNavResize&&document.removeEventListener("theme:resize:width",this.flktyNavResize),this.tooltips.forEach(t=>{"function"==typeof t.unload&&t.unload()})}}),n}(),PaloAlto.ProductGrid=function(){let t={slider:"[data-slider]",productMediaContainer:"[data-product-media-container]",productMediaSlider:"[data-product-media-slideshow]",productMediaSlide:"[data-product-media-slideshow-slide]",productImage:"[data-product-image]",progressBar:"[data-product-slideshow-progress]",flickityButton:".flickity-button",quickButton:"[data-button-quick-view]"},e={fill:"fill"};function i(e){this.container=e,this.sliders=this.container.querySelectorAll(t.slider),"slideshow"!==theme.settings.productGridHover||window.theme.touch||this.productGridSlideshow(),PaloAlto.QuickViewPopup.init(this.container),PaloAlto.initSwatches.makeGridSwatch(this.container)}return i.prototype=$.extend({},i.prototype,{productGridSlideshow:function(){let i=this.container.querySelectorAll(t.productMediaSlider),n=this.container.querySelectorAll(t.productMediaContainer);i.length&&i.forEach(i=>{let n=i.closest(t.productMediaContainer),r=n.querySelector(t.progressBar),s=i.querySelectorAll(t.productMediaSlide).length,o=!this.sliders.length,a=new Flickity.data(i),l=0,c=t.productMediaSlide;a.isActive||!(s>1)||(a=new Flickity(i,{draggable:o,cellSelector:c,contain:!0,wrapAround:!0,imagesLoaded:!0,lazyLoad:!0,pageDots:!1,prevNextButtons:!1,adaptiveHeight:!1,pauseAutoPlayOnHover:!1,selectedAttraction:.2,friction:1,on:{ready:()=>{this.container.style.setProperty("--autoplay-speed","2200ms")},change(){l&&clearTimeout(l),r.classList.remove(e.fill),setTimeout(()=>{r.classList.add(e.fill)}),l=setTimeout(()=>{r.classList.remove(e.fill)},2200)},dragEnd(){a.playPlayer()}}}),window.theme.touch||(n.addEventListener("mouseenter",()=>{r.classList.add(e.fill),l&&clearTimeout(l),l=setTimeout(()=>{r.classList.remove(e.fill)},2200),a.options.autoPlay=2200,a.playPlayer()}),n.addEventListener("mouseleave",()=>{a.stopPlayer(),l&&clearTimeout(l),r.classList.remove(e.fill)})))}),n.length&&n.forEach(e=>{e.addEventListener("click",e=>{e.target.matches(t.flickityButton)&&e.preventDefault()})})},onBlockSelect:function(){$.magnificPopup.close()},onSelect:function(){PaloAlto.QuickViewPopup.init(this.container)},onDeselect:function(){$.magnificPopup.close()},onUnload:function(){$.magnificPopup.close()}}),i}(),PaloAlto.RelatedProducts=function(){let t={product:"[data-product-block]",relatedProducts:"[data-related-products]"},e={sectionId:"data-section-id",productId:"data-product-id",limit:"data-limit"};function i(e){this.container=e,this.relatedProducts=this.container.querySelector(t.relatedProducts),this.init()}return i.prototype=$.extend({},i.prototype,{init:function(){let i=this.container.getAttribute(e.sectionId),n=this.container.getAttribute(e.productId),r=this.container.getAttribute(e.limit),s=`${theme.routes.product_recommendations_url}?section_id=${i}&limit=${r}&product_id=${n}`;fetch(s).then(t=>t.text()).then(e=>{let i=document.createElement("div");i.innerHTML=e;let n=i.querySelector(t.relatedProducts);n.querySelectorAll(t.product).length&&(this.relatedProducts.innerHTML=n.innerHTML,this.productGrid=new PaloAlto.ProductGrid(this.container),this.gridSlider=new PaloAlto.GridSlider(this.container),AOS.refreshHard())})},onSelect:function(){this.productGrid&&this.productGrid.onSelect()},onDeselect:function(){this.productGrid&&this.productGrid.onDeselect()},onUnload:function(){this.productGrid&&this.productGrid.onUnload()}}),i}(),PaloAlto.StoreAvailability=function(){var t={body:"body",storeAvailabilityModal:"[data-store-availability-modal]",storeAvailabilityModalOpen:"[data-store-availability-modal-open]",storeAvailabilityModalProductTitle:"[data-store-availability-modal-product__title]"};function e(t){this.container=t}return e.prototype=Object.assign({},e.prototype,{updateContent:function(t,e){this._fetchStoreAvailabilities(t,e)},clearContent:function(){this.container.innerHTML=""},_initModal:function(){return new PaloAlto.Modals("StoreAvailabilityModal","store-availability-modal",{close:".js-modal-close-store-availability-modal",closeModalOnClick:!0,openClass:"store-availabilities-modal--active",scrollIntoView:!1})},_fetchStoreAvailabilities:function(e,i){this.clearContent();var n=this;fetch("/variants/"+e+"/?section_id=store-availability").then(function(t){return t.text()}).then(function(e){if(""!==e.trim()){var r=document.querySelector(t.body),s=r.querySelector(t.storeAvailabilityModal);if(s&&s.remove(),n.container.innerHTML=e,n.container.innerHTML=n.container.firstElementChild.innerHTML,n.container.querySelector(t.storeAvailabilityModalOpen)){n.modal=n._initModal(),n._updateProductTitle(i);var s=n.container.querySelector(t.storeAvailabilityModal);s&&r.appendChild(s)}}})},_updateProductTitle:function(e){this.container.querySelector(t.storeAvailabilityModalProductTitle).textContent=e}}),e}(),PaloAlto.RichText=function t(e){PaloAlto.videoLink()},PaloAlto.Slider=function(){let t={arrowLeft:"[data-arrow-left]",arrowRight:"[data-arrow-right]",arrowScrollDown:"[data-scroll-down]",header:"[data-site-header]",item:"[data-slide]",links:"a, button",main:"[data-main]",slider:"[data-slider]",slidePosition:"data-slide-position"},e={style:"data-style",currentStyle:"data-current-style",tabIndex:"tabindex"},i={headerFixed:"site-header--fixed"};function n(e){this.container=e,this.header=document.querySelector(t.header),this.flkty=null,this.initSlider(),this.initZoomAnimation(),this.bindScrollButton(),PaloAlto.videoLink()}return n.prototype=$.extend({},n.prototype,{initSlider(){let i=this.container.querySelectorAll(t.item).length,n=this.container.dataset.duration,r="true"===this.container.dataset.pageDots&&i>1,s="true"===this.container.dataset.navArrows&&i>1,o="slide"!==this.container.dataset.transition,a="true"===this.container.dataset.autoplay;if(a&&(a=n),i>1)this.flkty=new Flickity(this.container,{fade:o,cellSelector:t.item,autoPlay:a,wrapAround:!0,adaptiveHeight:!0,setGallerySize:!0,imagesLoaded:!0,pageDots:r,prevNextButtons:s,on:{ready:()=>{let i=this.container.querySelector(`${t.item}[${t.slidePosition}="1"]`).getAttribute(e.style);this.container.setAttribute(e.currentStyle,i)},change:i=>{let n=this.container.querySelector(`${t.item}[${t.slidePosition}="${i+1}"]`),r=n.getAttribute(e.style),s=[...n.parentNode.children];this.container.setAttribute(e.currentStyle,r),s.forEach((n,r)=>{n.querySelectorAll(t.links).forEach(t=>{r===i?t.removeAttribute(e.tabIndex):t.setAttribute(e.tabIndex,"-1")})})}}}),PaloAlto.flickitySmoothScrolling(this.container);else if(1===i){let l=this.container.querySelector(t.item).getAttribute(e.style);this.container.setAttribute(e.currentStyle,l)}},initZoomAnimation(){if("true"!==this.container.dataset.zoomAnimation)return;let e=this.container,i=document.body.querySelector(t.main).children[0],n=this.container.parentNode===i,r="true"==this.header.dataset.transparent,s=()=>{let t=n&r?0:parseInt(this.header.dataset.height||this.header.offsetHeight),i=e.getBoundingClientRect(),s=e.offsetHeight,o=n?t-i.top:t-i.top+window.innerHeight,a=.1;n&&(a*=1.5);let l=1+o/s*a;l=l>1?l:1,e.style.setProperty("--scale",l)};s(),this.zoomOnScrollEvent=throttle(s,5);let o=t=>{t[0].isIntersecting?window.addEventListener("scroll",this.zoomOnScrollEvent):window.removeEventListener("scroll",this.zoomOnScrollEvent)},a=new IntersectionObserver(o,{root:null,rootMargin:"0px",threshold:0});a.observe(e)},bindScrollButton(){let e=this.container.querySelector(t.arrowScrollDown);e&&e.addEventListener("click",t=>{t.preventDefault();let e=this.header.classList.contains(i.headerFixed)?60:0,n=parseInt(Math.ceil(this.container.offsetTop+this.container.offsetHeight-e));window.scrollTo({top:n,left:0,behavior:"smooth"})})},onBlockSelect(t){let e=parseInt([...t.target.parentNode.children].indexOf(t.target));null!==this.flkty&&(this.flkty.select(e),this.flkty.pausePlayer())},onBlockDeselect(t){let e=t.target.dataset.autoplay;e&&null!==this.flkty&&this.flkty.playPlayer()},onUnload(){null!==this.flkty&&(this.flkty.destroy(),this.flkty=null),null!==this.zoomOnScrollEvent&&window.removeEventListener("scroll",this.zoomOnScrollEvent)}}),n}(),PaloAlto.Subcollections=function(){function t(t){this.gridSlider=new PaloAlto.GridSlider(t)}return t.prototype=$.extend({},t.prototype,{onUnload:function(){this.gridSlider&&this.gridSlider.onUnload()}}),t}(),PaloAlto.ProductsList=function(){let t={href:"href",mediaId:"data-media-id"},e={deferredMedia:"[data-deferred-media]",deferredMediaButton:"[data-deferred-media-button]",productContentWrapper:"[data-product-content-wrapper]",productMediaWrapper:"[data-product-single-media-wrapper]",productModel:"[data-model]",productLink:"[data-product-link]",productSingleMediaImage:"[data-product-single-media-image]",sliderContents:"[data-slider-contents]",sliderImages:"[data-slider-images]",tabButton:"[data-tab-button]",tabItem:"[data-tab-item]"},i={aosAnimate:"aos-animate",tabButtonActive:"products-list__nav__button--active",tabItemActive:"products-list__item--active",mediaHidden:"media--hidden"};function n(t){this.container=t,this.sectionId=t.dataset.sectionId,this.tabButtons=this.container.querySelectorAll(e.tabButton),this.tabItems=this.container.querySelectorAll(e.tabItem),this.slidersImages=this.container.querySelectorAll(e.sliderImages),this.slidersContents=this.container.querySelectorAll(e.sliderContents),this.videos={},this.initButtons(),this.initSliders(),this.initProductVideo(),this.initProductModel(),this.initShopifyXrLaunch()}return n.prototype=$.extend({},n.prototype,{initButtons(){this.tabButtons.forEach(n=>{n.addEventListener("click",r=>{if(n.classList.contains(i.tabButtonActive))return;let s=n.getAttribute(t.href),o=this.container.querySelector(s),a=o.querySelector(e.productMediaWrapper),l=a?a.dataset.mediaId:null;this.tabButtons.forEach(t=>{t.classList.remove(i.tabButtonActive)}),this.tabItems.forEach(t=>{t.classList.remove(i.tabItemActive),theme.settings.animations&&t.querySelectorAll(`.${i.aosAnimate}`).forEach(t=>{t.classList.remove(i.aosAnimate),setTimeout(()=>{t.classList.add(i.aosAnimate)})})}),n.classList.add(i.tabButtonActive),o.classList.add(i.tabItemActive),l?this.switchMedia(l):this.pauseAllMedia(),r.preventDefault()})})},initSliders(){this.slidersImages.forEach(t=>{let i=new Flickity(t,{fade:!0,sync:t.parentNode.querySelector(e.sliderContents),pageDots:!1,prevNextButtons:!0,wrapAround:!0,adaptiveHeight:!0});i.on("settle",i=>{let n=t.querySelectorAll(e.productMediaWrapper);for(let r=0;r<n.length;r++)r===i?n[r].querySelector(e.productSingleMediaImage).removeAttribute("tabindex"):n[r].querySelector(e.productSingleMediaImage).setAttribute("tabindex","-1")})}),this.slidersContents.forEach(t=>{let i=new Flickity(t,{fade:!0,sync:t.parentNode.querySelector(e.sliderImages),pageDots:!1,prevNextButtons:!1,wrapAround:!0,adaptiveHeight:!0,autoPlay:4e3,pauseAutoPlayOnHover:!0});i.on("settle",i=>{let n=t.querySelectorAll(e.productContentWrapper);for(let r=0;r<n.length;r++)r===i?n[r].querySelectorAll(e.productLink).forEach(t=>{t.removeAttribute("tabindex")}):n[r].querySelectorAll(e.productLink).forEach(t=>{t.setAttribute("tabindex","-1")})})})},initProductVideo:function(){this.videos=new PaloAlto.ProductVideo(this.container)},initProductModel:function(){let t=this.container.querySelectorAll(e.productModel);t.length&&t.forEach(t=>{PaloAlto.ProductModel.init(t,this.sectionId)})},initShopifyXrLaunch:function(){document.addEventListener("shopify_xr_launch",()=>{let t=this.container.querySelector(`${e.productModel}:not(.${i.mediaHidden})`);t.dispatchEvent(new CustomEvent("xrLaunch"))})},switchMedia:function(n){let r=this.container.querySelector(`${e.productMediaWrapper}[${t.mediaId}="${n}"]`),s=!document.body.classList.contains(i.noOutline);s&&r.focus(),r.classList.remove(i.mediaHidden),r.dispatchEvent(new CustomEvent("theme:media:visible"),{bubbles:!0});let o=r.querySelector(e.deferredMedia);o&&"true"!==o.getAttribute(t.loaded)&&r.querySelector(e.deferredMediaButton).dispatchEvent(new Event("click"))},pauseAllMedia:function(){let t=document.querySelectorAll(`${e.productMediaWrapper}`);t.length&&t.forEach(t=>{t.dispatchEvent(new CustomEvent("theme:media:hidden"),{bubbles:!0}),t.classList.add(i.mediaHidden)})},onBlockSelect(t){t.target.dispatchEvent(new Event("click"))}}),n}(),PaloAlto.TabCollections=function(){function t(t){this.container=t,this.productGrid=new PaloAlto.ProductGrid(t),this.gridSlider=new PaloAlto.GridSlider(t),this.tabs=new PaloAlto.Tabs(t)}return t.prototype=$.extend({},t.prototype,{onBlockSelect:function(t){this.tabs&&this.tabs.onBlockSelect(t),this.productGrid&&this.productGrid.onBlockSelect(t)},onSelect:function(){this.productGrid&&this.productGrid.onSelect()},onDeselect:function(){this.productGrid&&this.productGrid.onDeselect()},onUnload:function(){this.productGrid&&this.productGrid.onUnload()}}),t}(),PaloAlto.Testimonials=function(){let t={slider:"[data-slider]",item:"[data-item]"},e={flickityEnabled:"flickity-enabled"},i={sectionId:"data-section-id"};function n(e){this.container=e,this.sectionId=this.container.getAttribute(i.sectionId),this.slider=this.container.querySelector(t.slider),this.sliderResizeEvent=this.initSlider.bind(this),this.flkty=null,this.initSlider(),document.addEventListener("theme:resize:width",this.sliderResizeEvent)}return n.prototype=$.extend({},n.prototype,{initSlider:function(){let i=this.slider.querySelectorAll(t.item).length,n=this.slider.classList.contains(e.flickityEnabled);if(3==i&&window.innerWidth>=theme.sizes.large||2==i&&window.innerWidth>=theme.sizes.small||1==i||window.innerWidth<theme.sizes.small){n&&this.flkty.destroy();return}this.flkty=new Flickity(this.slider,{cellSelector:t.item,prevNextButtons:!0,pageDots:!1,groupCells:!0,cellAlign:"left",contain:!0,adaptiveHeight:!1})},onBlockSelect:function(t){if(null!==this.flkty){let e=parseInt([...t.target.parentNode.children].indexOf(t.target)),i=parseInt(this.flkty.slides[0].cells.length);this.flkty.select(Math.floor(e/i))}else{let n=this.slider.currentStyle||window.getComputedStyle(this.slider),r=parseInt(n.paddingLeft),s=t.target.offsetLeft-r;this.slider.scrollTo({top:0,left:s,behavior:"smooth"})}},onUnload:function(){document.removeEventListener("theme:resize:width",this.sliderResizeEvent)}}),n}(),PaloAlto.Article=function(){let t={shareButton:"[data-share-button]"};function e(e){this.container=e,this.shareButton=this.container.querySelector(t.shareButton),this.init()}return e.prototype=$.extend({},e.prototype,{init(){this.shareButton&&new PaloAlto.ShareButton(this.container)}}),e}(),PaloAlto.AboutPage=function t(e){PaloAlto.videoLink()},PaloAlto.CollectionTemplate=function(){function t(t){new PaloAlto.Filters(t)}return t.prototype=$.extend({},t.prototype,{onDeselect:function(){$.magnificPopup.close()},onUnload:function(t){$.magnificPopup.close()}}),t}(),PaloAlto.Addresses=function(){let t={templateAddresses:".template-customers-addresses",accountForm:"[data-form]",addressNewForm:"[data-form-new]",btnNew:"[data-button-new]",btnEdit:"[data-button-edit]",btnDelete:"[data-button-delete]",btnCancel:"[data-button-cancel]",editAddress:"data-form-edit",addressCountryNew:"AddressCountryNew",addressProvinceNew:"AddressProvinceNew",addressProvinceContainerNew:"AddressProvinceContainerNew",addressCountryOption:"[data-country-option]",addressCountry:"AddressCountry",addressProvince:"AddressProvince",addressProvinceContainer:"AddressProvinceContainer",requiredInputs:'input[type="text"]:not(.optional)'},e={dataFormId:"data-form-id"},i={hidden:"is-hidden",validation:"validation--showup"};function n(e){this.section=e,this.addressNewForm=this.section.querySelector(t.addressNewForm),this.accountForms=this.section.querySelectorAll(t.accountForm),this.init(),this.validate()}n.prototype=$.extend({},n.prototype,{init(){if(this.addressNewForm){let n=this.section,r=this.addressNewForm;this.customerAddresses();let s=n.querySelectorAll(t.btnNew);s.length&&s.forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),t.classList.add(i.hidden),r.classList.remove(i.hidden)})});let o=n.querySelectorAll(t.btnEdit);o.length&&o.forEach(r=>{r.addEventListener("click",function(r){r.preventDefault();let s=this.getAttribute(e.dataFormId);n.querySelector(`[${t.editAddress}="${s}"]`).classList.toggle(i.hidden)})});let a=n.querySelectorAll(t.btnDelete);a.length&&a.forEach(t=>{t.addEventListener("click",function(t){t.preventDefault();let i=this.getAttribute(e.dataFormId);confirm(theme.strings.delete_confirm)&&Shopify.postLink("/account/addresses/"+i,{parameters:{_method:"delete"}})})});let l=n.querySelectorAll(t.btnCancel);l.length&&l.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),this.closest(t.accountForm).classList.add(i.hidden),document.querySelector(t.btnNew).classList.remove(i.hidden)})})}},customerAddresses(){Shopify.CountryProvinceSelector&&new Shopify.CountryProvinceSelector(t.addressCountryNew,t.addressProvinceNew,{hideElement:t.addressProvinceContainerNew});let i=this.section.querySelectorAll(t.addressCountryOption);i.forEach(i=>{let n=i.getAttribute(e.dataFormId),r=`${t.addressCountry}_${n}`,s=`${t.addressProvince}_${n}`,o=`${t.addressProvinceContainer}_${n}`;new Shopify.CountryProvinceSelector(r,s,{hideElement:o})})},validate(){this.accountForms.forEach(e=>{let n=e.querySelector("form"),r=n.querySelectorAll(t.requiredInputs);n.addEventListener("submit",t=>{let e=!1;r.forEach(t=>{t.value?t.nextElementSibling.classList.remove(i.validation):(t.nextElementSibling.classList.add(i.validation),e=!0)}),e&&t.preventDefault()})})}});let r=document.querySelector(t.templateAddresses);r&&new n(r)},PaloAlto.loginForms=function(){let t={form:"[data-account-form]",showReset:"[data-show-reset]",hideReset:"[data-hide-reset]",recover:"[data-recover-password]",login:"[data-login-form]",recoverSuccess:"[data-recover-success]",recoverSuccessText:"[data-recover-success-text]",recoverHash:"#recover"},e={hidden:"is-hidden"};function i(e){this.form=e,this.showButton=e.querySelector(t.showReset),this.hideButton=e.querySelector(t.hideReset),this.recover=e.querySelector(t.recover),this.login=e.querySelector(t.login),this.success=e.querySelector(t.recoverSuccess),this.successText=e.querySelector(t.recoverSuccessText),this.init()}i.prototype=$.extend({},i.prototype,{init(){window.location.hash==t.recoverHash?this.showRecoverPasswordForm():this.hideRecoverPasswordForm(),this.success&&this.successText.classList.remove(e.hidden),this.showButton.addEventListener("click",t=>{t.preventDefault(),this.showRecoverPasswordForm()},!1),this.hideButton.addEventListener("click",t=>{t.preventDefault(),this.hideRecoverPasswordForm()},!1)},showRecoverPasswordForm(){return this.recover.classList.remove(e.hidden),this.login.classList.add(e.hidden),window.location.hash=t.recoverHash,!1},hideRecoverPasswordForm(){return this.login.classList.remove(e.hidden),this.recover.classList.add(e.hidden),window.location.hash="",!1}});let n=document.querySelector(t.form);n&&new i(n)},PaloAlto.PasswordTemplate=function(){let t={toggleAdmin:"[data-toggle-admin]",toggleNewsletter:"[data-toggle-newsletter]",adminForm:"[data-form-admin]",newsletterForm:"[data-form-newsletter]"};function e(e){this.container=e,this.toggleAdmin=this.container.querySelector(t.toggleAdmin),this.toggleNewsletter=this.container.querySelector(t.toggleNewsletter),this.adminForm=this.container.querySelector(t.adminForm),this.newsletterForm=this.container.querySelector(t.newsletterForm),this.adminErrors=this.adminForm.querySelector(".errors"),this.newsletterErrors=this.newsletterForm.querySelector(".errors"),this.init()}return e.prototype=$.extend({},e.prototype,{init(){this.toggleAdmin.addEventListener("click",t=>{t.preventDefault(),this.showPasswordForm()}),this.toggleNewsletter.addEventListener("click",t=>{t.preventDefault(),this.hidePasswordForm()}),"#login"==window.location.hash||this.adminErrors?this.showPasswordForm():this.hidePasswordForm()},showPasswordForm(){PaloAlto.Element.show(this.adminForm),PaloAlto.Element.hide(this.newsletterForm),window.location.hash="#login"},hidePasswordForm(){PaloAlto.Element.show(this.newsletterForm),PaloAlto.Element.hide(this.adminForm),window.location.hash=""}}),e}(),PaloAlto.SearchTemplate=function(){function t(t){new PaloAlto.Filters(t),theme.settings.enableInfinityScroll&&(this.endlessCollection=new Ajaxinate({container:"#AjaxinateLoop",pagination:"#AjaxinatePagination",method:"scroll",callback:function(){AOS.refreshHard()}}))}return t.prototype=$.extend({},t.prototype,{onDeselect:function(t){$.magnificPopup.close()},onUnload:function(t){theme.settings.enableInfinityScroll&&"object"==typeof this.endlessCollection&&"function"===this.endlessCollection.destroy&&this.endlessBlogPosts.destroy(),$.magnificPopup.close()}}),t}(),$.ajaxSetup({cache:!1}),document.documentElement.style.setProperty("--scrollbar-width",`${getScrollbarWidth()}px`),document.addEventListener("DOMContentLoaded",function(){setVars(),PaloAlto.initSections(),PaloAlto.initFocusVisibility(),PaloAlto.loginForms(),PaloAlto.Addresses(),PaloAlto.Drawer.init(),document.addEventListener("theme:resize:width",PaloAlto.setMainSpacing);let t=window.location.hash,e=t.substr(1,t.length),i=document.getElementById(e);null!==i&&slate.a11y.pageLinkFocus($(window.location.hash));let n=document.querySelector(".in-page-link");n&&n.addEventListener("click",function(t){slate.a11y.pageLinkFocus($(t.currentTarget.hash))}),PaloAlto.TableWrap();let r="scrollBehavior"in document.documentElement.style;r||loadScript({url:theme.assets.smoothscroll})}),PaloAlto.updateHash=function(t){window.location.hash="#"+t,$("#"+t).attr("tabindex",-1).focus()};const isTouchDevice=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?(document.documentElement.className=document.documentElement.className.replace("no-touch","supports-touch"),window.theme.touch=!0):window.theme.touch=!1,document.addEventListener("shopify:section:unload",()=>{PaloAlto.Drawer.destroy()}),document.addEventListener("shopify:section:load",()=>{window.dispatchEvent(new Event("resize"),{bubbles:!0}),preventOverflow(document),PaloAlto.Drawer.init()}),void 0!==theme.settings.newHash&&PaloAlto.updateHash(theme.settings.newHash);const showAnimations="true"===document.body.dataset.animations;showAnimations&&AOS.init({once:!0,offset:50,duration:1e3,startEvent:"load"}),resizeListener(),scrollListener(),lazyImageBackgrounds(),window.addEventListener("load",()=>{setVarsOnResize(),preventOverflow(document),loadingAnimation()});